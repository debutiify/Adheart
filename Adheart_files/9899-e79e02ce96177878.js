try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2d474b44-5ed6-48a8-8955-baf7bdf22d65",e._sentryDebugIdIdentifier="sentry-dbid-2d474b44-5ed6-48a8-8955-baf7bdf22d65")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9899],{72394:function(e,t,r){"use strict";let n;r.r(t),r.d(t,{AmplitudeBrowser:function(){return il},Identify:function(){return U.h2},Revenue:function(){return q},Types:function(){return p},_setDiagnosticsSampleRate:function(){return iL},add:function(){return iv},createInstance:function(){return id},extendSession:function(){return ig},flush:function(){return iy},getDeviceId:function(){return im},getIdentity:function(){return ib},getOptOut:function(){return i_},getSessionId:function(){return iw},getUserId:function(){return iS},groupIdentify:function(){return iE},identify:function(){return ix},init:function(){return iP},logEvent:function(){return ik},remove:function(){return iO},reset:function(){return iA},revenue:function(){return iI},runQueuedFunctions:function(){return eo},setDeviceId:function(){return iT},setGroup:function(){return iC},setOptOut:function(){return iR},setSessionId:function(){return ij},setTransport:function(){return iN},setUserId:function(){return iD},track:function(){return iM}});var i,o,a,s,u,c,l,f,d,p={};r.r(p),r.d(p,{DEFAULT_ACTION_CLICK_ALLOWLIST:function(){return to},DEFAULT_CSS_SELECTOR_ALLOWLIST:function(){return tn},DEFAULT_DATA_ATTRIBUTE_PREFIX:function(){return ti},IdentifyOperation:function(){return z.h},LogLevel:function(){return eh.i},OfflineDisabled:function(){return O},RevenueProperty:function(){return u},ServerZone:function(){return ih.J},SpecialEventType:function(){return z.J}});var h=r(2784),v=r(40275),g=r(51110),y=r(67493),m=r(47120),b={TAGS:"tags",COUNTERS:"counters",HISTOGRAMS:"histograms",EVENTS:"events",INTERNAL:"internal"},_={LAST_FLUSH_TIMESTAMP:"last_flush_timestamp"},w=function(){function e(e,t){this.dbPromise=null,this.logger=t,this.dbName="AMP_diagnostics_".concat(e.substring(0,10))}return e.isSupported=function(){var e;return(null===(e=(0,m.l)())||void 0===e?void 0:e.indexedDB)!==void 0},e.prototype.getDB=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(e){return this.dbPromise||(this.dbPromise=this.openDB()),[2,this.dbPromise]})})},e.prototype.openDB=function(){var e=this;return new Promise(function(t,r){var n=indexedDB.open(e.dbName,1);n.onerror=function(){e.dbPromise=null,r(Error("Failed to open IndexedDB"))},n.onsuccess=function(){var r=n.result;r.onclose=function(){e.dbPromise=null,e.logger.debug("DiagnosticsStorage: DB connection closed.")},r.onerror=function(t){e.logger.debug("DiagnosticsStorage: A global database error occurred.",t),r.close()},t(r)},n.onupgradeneeded=function(t){var r=t.target.result;e.createTables(r)}})},e.prototype.createTables=function(e){e.objectStoreNames.contains(b.TAGS)||e.createObjectStore(b.TAGS,{keyPath:"key"}),e.objectStoreNames.contains(b.COUNTERS)||e.createObjectStore(b.COUNTERS,{keyPath:"key"}),e.objectStoreNames.contains(b.HISTOGRAMS)||e.createObjectStore(b.HISTOGRAMS,{keyPath:"key"}),e.objectStoreNames.contains(b.EVENTS)||e.createObjectStore(b.EVENTS,{keyPath:"id",autoIncrement:!0}).createIndex("time_idx","time",{unique:!1}),e.objectStoreNames.contains(b.INTERNAL)||e.createObjectStore(b.INTERNAL,{keyPath:"key"})},e.prototype.setTags=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i=this;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),0===Object.entries(e).length)return[2];return[4,this.getDB()];case 1:return r=(t=o.sent().transaction([b.TAGS],"readwrite")).objectStore(b.TAGS),[2,new Promise(function(n){var o=Object.entries(e);t.oncomplete=function(){n()},t.onabort=function(e){i.logger.debug("DiagnosticsStorage: Failed to set tags",e),n()},o.forEach(function(e){var t=(0,v.__read)(e,2),n=t[0],o=t[1];r.put({key:n,value:o}).onerror=function(e){i.logger.debug("DiagnosticsStorage: Failed to set tag",n,o,e)}})})];case 2:return n=o.sent(),this.logger.debug("DiagnosticsStorage: Failed to set tags",n),[3,3];case 3:return[2]}})})},e.prototype.incrementCounters=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i=this;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),0===Object.entries(e).length)return[2];return[4,this.getDB()];case 1:return r=(t=o.sent().transaction([b.COUNTERS],"readwrite")).objectStore(b.COUNTERS),[2,new Promise(function(n){var o=Object.entries(e);t.oncomplete=function(){n()},t.onabort=function(e){i.logger.debug("DiagnosticsStorage: Failed to increment counters",e),n()},o.forEach(function(e){var t=(0,v.__read)(e,2),n=t[0],o=t[1],a=r.get(n);a.onsuccess=function(){var e=a.result,t=e?e.value:0;r.put({key:n,value:t+o}).onerror=function(e){i.logger.debug("DiagnosticsStorage: Failed to update counter",n,e)}},a.onerror=function(e){i.logger.debug("DiagnosticsStorage: Failed to read existing counter",n,e)}})})];case 2:return n=o.sent(),this.logger.debug("DiagnosticsStorage: Failed to increment counters",n),[3,3];case 3:return[2]}})})},e.prototype.setHistogramStats=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i=this;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),0===Object.entries(e).length)return[2];return[4,this.getDB()];case 1:return r=(t=o.sent().transaction([b.HISTOGRAMS],"readwrite")).objectStore(b.HISTOGRAMS),[2,new Promise(function(n){var o=Object.entries(e);t.oncomplete=function(){n()},t.onabort=function(e){i.logger.debug("DiagnosticsStorage: Failed to set histogram stats",e),n()},o.forEach(function(e){var t=(0,v.__read)(e,2),n=t[0],o=t[1],a=r.get(n);a.onsuccess=function(){var e,t=a.result;e=t?{key:n,count:t.count+o.count,min:Math.min(t.min,o.min),max:Math.max(t.max,o.max),sum:t.sum+o.sum}:{key:n,count:o.count,min:o.min,max:o.max,sum:o.sum},r.put(e).onerror=function(e){i.logger.debug("DiagnosticsStorage: Failed to set histogram stats",n,e)}},a.onerror=function(e){i.logger.debug("DiagnosticsStorage: Failed to read existing histogram stats",n,e)}})})];case 2:return n=o.sent(),this.logger.debug("DiagnosticsStorage: Failed to set histogram stats",n),[3,3];case 3:return[2]}})})},e.prototype.addEventRecords=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i=this;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),0===e.length)return[2];return[4,this.getDB()];case 1:return r=(t=o.sent().transaction([b.EVENTS],"readwrite")).objectStore(b.EVENTS),[2,new Promise(function(n){t.oncomplete=function(){n()},t.onabort=function(e){i.logger.debug("DiagnosticsStorage: Failed to add event records",e),n()};var o=r.count();o.onsuccess=function(){var t=Math.max(0,10-o.result);t<e.length&&i.logger.debug("DiagnosticsStorage: Only added ".concat(t," of ").concat(e.length," events due to storage limit")),e.slice(0,t).forEach(function(e){r.add(e).onerror=function(e){i.logger.debug("DiagnosticsStorage: Failed to add event record",e)}})},o.onerror=function(e){i.logger.debug("DiagnosticsStorage: Failed to count existing events",e)}})];case 2:return n=o.sent(),this.logger.debug("DiagnosticsStorage: Failed to add event records",n),[3,3];case 3:return[2]}})})},e.prototype.setInternal=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r,n,i;return(0,v.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getDB()];case 1:return n=(r=o.sent().transaction([b.INTERNAL],"readwrite")).objectStore(b.INTERNAL),[2,new Promise(function(i,o){r.onabort=function(){return o(Error("Failed to set internal value"))};var a=n.put({key:e,value:t});a.onsuccess=function(){return i()},a.onerror=function(){return o(Error("Failed to set internal value"))}})];case 2:return i=o.sent(),this.logger.debug("DiagnosticsStorage: Failed to set internal value",i),[3,3];case 3:return[2]}})})},e.prototype.getInternal=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,v.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getDB()];case 1:return r=(t=i.sent().transaction([b.INTERNAL],"readonly")).objectStore(b.INTERNAL),[2,new Promise(function(n,i){t.onabort=function(){return i(Error("Failed to get internal value"))};var o=r.get(e);o.onsuccess=function(){return n(o.result)},o.onerror=function(){return i(Error("Failed to get internal value"))}})];case 2:return n=i.sent(),this.logger.debug("DiagnosticsStorage: Failed to get internal value",n),[2,void 0];case 3:return[2]}})})},e.prototype.getLastFlushTimestamp=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getInternal(_.LAST_FLUSH_TIMESTAMP)];case 1:return[2,(e=r.sent())?parseInt(e.value,10):void 0];case 2:return t=r.sent(),this.logger.debug("DiagnosticsStorage: Failed to get last flush timestamp",t),[2,void 0];case 3:return[2]}})})},e.prototype.setLastFlushTimestamp=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.setInternal(_.LAST_FLUSH_TIMESTAMP,e.toString())];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),this.logger.debug("DiagnosticsStorage: Failed to set last flush timestamp",t),[3,3];case 3:return[2]}})})},e.prototype.clearTable=function(e,t){return new Promise(function(r,n){var i=e.objectStore(t).clear();i.onsuccess=function(){return r()},i.onerror=function(){return n(Error("Failed to clear table ".concat(t)))}})},e.prototype.getAllAndClear=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t,r,n,i,o,a;return(0,v.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,this.getDB()];case 1:return e=s.sent().transaction([b.TAGS,b.COUNTERS,b.HISTOGRAMS,b.EVENTS],"readwrite"),[4,Promise.all([this.getAllFromStore(e,b.TAGS),this.getAllFromStore(e,b.COUNTERS),this.getAllFromStore(e,b.HISTOGRAMS),this.getAllFromStore(e,b.EVENTS)])];case 2:return r=(t=v.__read.apply(void 0,[s.sent(),4]))[0],n=t[1],i=t[2],o=t[3],[4,Promise.all([this.clearTable(e,b.COUNTERS),this.clearTable(e,b.HISTOGRAMS),this.clearTable(e,b.EVENTS)])];case 3:return s.sent(),[2,{tags:r,counters:n,histogramStats:i,events:o}];case 4:return a=s.sent(),this.logger.debug("DiagnosticsStorage: Failed to get all and clear data",a),[2,{tags:[],counters:[],histogramStats:[],events:[]}];case 5:return[2]}})})},e.prototype.getAllFromStore=function(e,t){return new Promise(function(r,n){var i=e.objectStore(t).getAll();i.onsuccess=function(){return r(i.result)},i.onerror=function(){return n(Error("Failed to get all from ".concat(t)))}})},e}(),S=r(74648),E=function(){function e(e,t,r,n){void 0===r&&(r="US"),this.inMemoryTags={},this.inMemoryCounters={},this.inMemoryHistograms={},this.inMemoryEvents=[],this.saveTimer=null,this.flushTimer=null,this.apiKey=e,this.logger=t,this.serverUrl="US"===r?"https://diagnostics.prod.us-west-2.amplitude.com/v1/capture":"https://diagnostics.prod.eu-central-1.amplitude.com/v1/capture",this.logger.debug("DiagnosticsClient: Initializing with options",JSON.stringify(n,null,2)),this.config=(0,v.__assign)({enabled:!0,sampleRate:0},n),this.startTimestamp=Date.now(),this.shouldTrack=(0,S.Jw)(this.startTimestamp,this.config.sampleRate)&&this.config.enabled,w.isSupported()?this.storage=new w(e,t):this.logger.debug("DiagnosticsClient: IndexedDB is not supported"),this.initializeFlushInterval(),this.shouldTrack&&this.increment("sdk.diagnostics.sampled.in.and.enabled")}return e.prototype.isStorageAndTrackEnabled=function(){return!!this.storage&&!!this.shouldTrack},e.prototype.setTag=function(e,t){if(this.isStorageAndTrackEnabled()){if(Object.keys(this.inMemoryTags).length>=1e4){this.logger.debug("DiagnosticsClient: Early return setTags as reaching memory limit");return}this.inMemoryTags[e]=t,this.startTimersIfNeeded()}},e.prototype.increment=function(e,t){if(void 0===t&&(t=1),this.isStorageAndTrackEnabled()){if(Object.keys(this.inMemoryCounters).length>=1e4){this.logger.debug("DiagnosticsClient: Early return increment as reaching memory limit");return}this.inMemoryCounters[e]=(this.inMemoryCounters[e]||0)+t,this.startTimersIfNeeded()}},e.prototype.recordHistogram=function(e,t){if(this.isStorageAndTrackEnabled()){if(Object.keys(this.inMemoryHistograms).length>=1e4){this.logger.debug("DiagnosticsClient: Early return recordHistogram as reaching memory limit");return}var r=this.inMemoryHistograms[e];r?(r.count+=1,r.min=Math.min(r.min,t),r.max=Math.max(r.max,t),r.sum+=t):this.inMemoryHistograms[e]={count:1,min:t,max:t,sum:t},this.startTimersIfNeeded()}},e.prototype.recordEvent=function(e,t){if(this.isStorageAndTrackEnabled()){if(this.inMemoryEvents.length>=10){this.logger.debug("DiagnosticsClient: Early return recordEvent as reaching memory limit");return}this.inMemoryEvents.push({event_name:e,time:Date.now(),event_properties:t}),this.startTimersIfNeeded()}},e.prototype.startTimersIfNeeded=function(){var e=this;this.saveTimer||(this.saveTimer=setTimeout(function(){e.saveAllDataToStorage().catch(function(t){e.logger.debug("DiagnosticsClient: Failed to save all data to storage",t)}).finally(function(){e.saveTimer=null})},1e3)),this.flushTimer||(this.flushTimer=setTimeout(function(){e._flush().catch(function(t){e.logger.debug("DiagnosticsClient: Failed to flush",t)}).finally(function(){e.flushTimer=null})},3e5))},e.prototype.saveAllDataToStorage=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t,r,n;return(0,v.__generator)(this,function(i){switch(i.label){case 0:if(!this.storage)return[2];return e=(0,v.__assign)({},this.inMemoryTags),t=(0,v.__assign)({},this.inMemoryCounters),r=(0,v.__assign)({},this.inMemoryHistograms),n=(0,v.__spreadArray)([],(0,v.__read)(this.inMemoryEvents),!1),this.inMemoryEvents=[],this.inMemoryTags={},this.inMemoryCounters={},this.inMemoryHistograms={},[4,Promise.all([this.storage.setTags(e),this.storage.incrementCounters(t),this.storage.setHistogramStats(r),this.storage.addEventRecords(n)])];case 1:return i.sent(),[2]}})})},e.prototype._flush=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t,r,n,i,o,a,s,u,c;return(0,v.__generator)(this,function(l){switch(l.label){case 0:if(!this.storage)return[2];return[4,this.saveAllDataToStorage()];case 1:return l.sent(),this.saveTimer=null,this.flushTimer=null,[4,this.storage.getAllAndClear()];case 2:if(t=(e=l.sent()).tags,r=e.counters,n=e.histogramStats,i=e.events,this.storage.setLastFlushTimestamp(Date.now()),o={},t.forEach(function(e){o[e.key]=e.value}),a={},r.forEach(function(e){a[e.key]=e.value}),s={},n.forEach(function(e){s[e.key]={count:e.count,min:e.min,max:e.max,avg:Math.round(e.sum/e.count*100)/100}}),u=i.map(function(e){return{event_name:e.event_name,time:e.time,event_properties:e.event_properties}}),0===Object.keys(a).length&&0===Object.keys(s).length&&0===u.length)return[2];return c={tags:o,histogram:s,counters:a,events:u},this.fetch(c),[2]}})})},e.prototype.fetch=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),!(0,m.l)())throw Error("DiagnosticsClient: Fetch is not supported");return[4,fetch(this.serverUrl,{method:"POST",headers:{"X-ApiKey":this.apiKey,"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:if(!r.sent().ok)return this.logger.debug("DiagnosticsClient: Failed to send diagnostics data."),[2];return this.logger.debug("DiagnosticsClient: Successfully sent diagnostics data"),[3,3];case 2:return t=r.sent(),this.logger.debug("DiagnosticsClient: Failed to send diagnostics data. ",t),[3,3];case 3:return[2]}})})},e.prototype.initializeFlushInterval=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:if(!this.storage)return[2];return e=Date.now(),[4,this.storage.getLastFlushTimestamp()];case 1:if(-1===(t=n.sent()||-1))return this.storage.setLastFlushTimestamp(e),this._setFlushTimer(3e5),[2];return(r=e-t)>=3e5?this._flush():this._setFlushTimer(3e5-r),[2]}})})},e.prototype._setFlushTimer=function(e){var t=this;this.flushTimer=setTimeout(function(){t._flush().catch(function(e){t.logger.debug("DiagnosticsClient: Failed to flush",e)}).finally(function(){t.flushTimer=null})},e)},e.prototype._setSampleRate=function(e){this.logger.debug("DiagnosticsClient: Setting sample rate to",e),this.config.sampleRate=e,this.shouldTrack=(0,S.Jw)(this.startTimestamp,this.config.sampleRate)&&this.config.enabled,this.logger.debug("DiagnosticsClient: Should track is",this.shouldTrack)},e}(),x=function(){var e,t=(0,m.l)();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var r=t.split("=",2),n=P(r[0]),i=P(r[1]);return i&&(e[n]=i),e},{}):{}},P=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},k=r(40974),O=null,A=r(73063),I=r(38395),T=function(e,t){var r=Math.max(t,1);return e.reduce(function(e,t,n){var i=Math.floor(n/r);return e[i]||(e[i]=[]),e[i].push(t),e},[])},C=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=A.q.Unknown),{event:e,code:t,message:r}},R=r(94583),j=r(38993),N=r(4579);function D(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(e){}return t}var M=function(){function e(e){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[],this.diagnosticsClient=null==e?void 0:e.diagnosticsClient}return e.prototype.setup=function(e){var t;return(0,v.__awaiter)(this,void 0,void 0,function(){var r,n=this;return(0,v.__generator)(this,function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(I.f1,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return(r=i.sent())&&r.length>0&&Promise.all(r.map(function(e){return n.execute(e)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=(0,j.h)()),new Promise(function(r){t.queue.push({event:e,attempts:0,callback:function(e){return r(e)},timeout:0}),t.schedule(t.config.flushIntervalMillis),t.saveEvents()})},e.prototype.removeEventsExceedFlushMaxRetries=function(e){var t=this;return e.filter(function(e){return e.attempts+=1,e.attempts<t.config.flushMaxRetries||(t.fulfillRequest([e],500,"Event rejected due to exceeded retry count"),!1)})},e.prototype.scheduleEvents=function(e){var t=this;e.forEach(function(e){t.schedule(0===e.timeout?t.config.flushIntervalMillis:e.timeout)})},e.prototype.schedule=function(e){var t=this;if(!this.config.offline&&(null===this.scheduleId||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){t.queue=t.queue.map(function(e){return e.timeout=0,e}),t.flush(!0)},e);return}},e.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n=this;return(0,v.__generator)(this,function(i){switch(i.label){case 0:if(this.config.offline)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2];if(this.flushId)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2];return this.flushId=this.scheduleId,this.resetSchedule(),t=[],r=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):r.push(e)}),[4,T(t,this.config.flushQueueSize).reduce(function(t,r){return(0,v.__awaiter)(n,void 0,void 0,function(){return(0,v.__generator)(this,function(n){switch(n.label){case 0:return[4,t];case 1:return n.sent(),[4,this.send(r,e)];case 2:return[2,n.sent()]}})})},Promise.resolve())];case 1:return i.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},e.prototype.send=function(e,t){return void 0===t&&(t=!0),(0,v.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return(0,v.__generator)(this,function(a){switch(a.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];r={api_key:this.config.apiKey,events:e.map(function(e){var t=e.event;return t.extra,(0,v.__rest)(t,["extra"])}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new R.Dg,a.label=1;case 1:return a.trys.push([1,3,,4]),n=(0,R.RG)(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(n,r)];case 2:if(null===(i=a.sent()))return this.fulfillRequest(e,0,"Unexpected error occurred"),[2];if(!t)return"body"in i?this.fulfillRequest(e,i.statusCode,"".concat(i.status,": ").concat(D(i))):this.fulfillRequest(e,i.statusCode,i.status),[2];return this.handleResponse(i,e),[3,4];case 3:var s;return o=(s=a.sent())instanceof Error?s.message:String(s),this.config.loggerProvider.error(o),this.handleResponse({status:A.q.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(e,t){var r=e.status;switch(r){case A.q.Success:this.handleSuccessResponse(e,t);break;case A.q.Invalid:this.handleInvalidResponse(e,t);break;case A.q.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case A.q.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(r,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var r=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key")){this.fulfillRequest(t,e.statusCode,e.body.error);return}var n=new Set((0,v.__spreadArray)((0,v.__spreadArray)((0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(Object.values(e.body.eventsWithInvalidFields)),!1),(0,v.__read)(Object.values(e.body.eventsWithMissingFields)),!1),(0,v.__read)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),(0,v.__read)(e.body.silencedEvents),!1).flat()),i=t.filter(function(t,i){if(n.has(i)){r.fulfillRequest([t],e.statusCode,e.body.error);return}return!0});i.length>0&&this.config.loggerProvider.warn(D(e));var o=this.removeEventsExceedFlushMaxRetries(i);this.scheduleEvents(o)},e.prototype.handlePayloadTooLargeResponse=function(e,t){if(1===t.length){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(D(e)),this.config.flushQueueSize/=2;var r=this.removeEventsExceedFlushMaxRetries(t);this.scheduleEvents(r)},e.prototype.handleRateLimitResponse=function(e,t){var r=this,n=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,a=new Set(n),s=new Set(i),u=new Set(o),c=t.filter(function(t,n){if(t.event.user_id&&a.has(t.event.user_id)||t.event.device_id&&s.has(t.event.device_id)){r.fulfillRequest([t],e.statusCode,e.body.error);return}return u.has(n)&&(t.timeout=r.throttleTimeout),!0});c.length>0&&this.config.loggerProvider.warn(D(e));var l=this.removeEventsExceedFlushMaxRetries(c);this.scheduleEvents(l)},e.prototype.handleOtherResponse=function(e){var t=this,r=e.map(function(e){return e.timeout=e.attempts*t.retryTimeout,e}),n=this.removeEventsExceedFlushMaxRetries(r);this.scheduleEvents(n)},e.prototype.fulfillRequest=function(e,t,r){var n,i,o;(0,N.h)(t)?null===(o=this.diagnosticsClient)||void 0===o||o.increment("analytics.events.sent",e.length):(null===(n=this.diagnosticsClient)||void 0===n||n.increment("analytics.events.dropped",e.length),null===(i=this.diagnosticsClient)||void 0===i||i.recordEvent("analytics.events.dropped",{events:e.map(function(e){return e.event.event_type}),code:t,message:r,stack_trace:(0,h.oY)()})),this.removeEvents(e),e.forEach(function(e){return e.callback(C(e.event,t,r))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(e){return e.event});this.config.storageProvider.set(this.storageKey,e)}},e.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(e){return e.event.insert_id===t.event.insert_id})}),this.saveEvents()},e}(),L=function(){function e(){this.name="identity",this.type="before",this.identityStore=(0,k.bM)().identityStore}return e.prototype.execute=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(r){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},e.prototype.setup=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return e.instanceName&&(this.identityStore=(0,k.bM)(e.instanceName).identityStore),[2]})})},e}(),U=r(6242),F=r(26263),q=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setCurrency=function(e){return this.currency=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setReceipt=function(e){return this.receipt=e,this},e.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},e.prototype.setEventProperties=function(e){return(0,F.L)(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?(0,v.__assign)({},this.properties):{};return e[u.REVENUE_PRODUCT_ID]=this.productId,e[u.REVENUE_QUANTITY]=this.quantity,e[u.REVENUE_PRICE]=this.price,e[u.REVENUE_TYPE]=this.revenueType,e[u.REVENUE_CURRENCY]=this.currency,e[u.REVENUE]=this.revenue,e[u.RECEIPT]=this.receipt,e[u.RECEIPT_SIG]=this.receiptSig,e},e}();(i=u||(u={})).REVENUE_PRODUCT_ID="$productId",i.REVENUE_QUANTITY="$quantity",i.REVENUE_PRICE="$price",i.REVENUE_TYPE="$revenueType",i.REVENUE_CURRENCY="$currency",i.REVENUE="$revenue",i.RECEIPT="$receipt",i.RECEIPT_SIG="$receiptSig";var B=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e},z=r(46463),$=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var r,n;return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(i){switch(i.label){case 0:if(this.plugins.some(function(t){return t.name===e.name}))return this.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2];return void 0===e.name&&(e.name=(0,j.h)(),this.loggerProvider.warn("Plugin name is undefined. \n      Generating a random UUID for plugin name: ".concat(e.name,". \n      Set a name for the plugin to prevent it from being added multiple times."))),e.type=null!==(r=e.type)&&void 0!==r?r:"enrichment",[4,null===(n=e.setup)||void 0===n?void 0:n.call(e,t,this.client)];case 1:return i.sent(),this.plugins.push(e),[2]}})})},e.prototype.deregister=function(e,t){var r;return(0,v.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if(-1===(n=this.plugins.findIndex(function(t){return t.name===e})))return t.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2];return i=this.plugins[n],this.plugins.splice(n,1),[4,null===(r=i.teardown)||void 0===r?void 0:r.call(i)];case 1:return o.sent(),[2]}})})},e.prototype.reset=function(e){this.applying=!1,this.plugins.map(function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)}),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise(function(r){t.queue.push([e,r]),t.scheduleApply(0)})},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},e.prototype.apply=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,o,a,s,u,c,l,f,d,p,h,g;return(0,v.__generator)(this,function(y){switch(y.label){case 0:if(!e)return[2];t=(0,v.__read)(e,1)[0],r=(0,v.__read)(e,2)[1],this.loggerProvider.log("Timeline.apply: Initial event",t),n=this.plugins.filter(function(e){return"before"===e.type}),y.label=1;case 1:y.trys.push([1,6,7,8]),o=(i=(0,v.__values)(n)).next(),y.label=2;case 2:if(o.done)return[3,5];if(!(a=o.value).execute)return[3,4];return[4,a.execute((0,v.__assign)({},t))];case 3:if(null===(s=y.sent()))return this.loggerProvider.log("Timeline.apply: Event filtered out by before plugin '".concat(String(a.name),"', event: ").concat(JSON.stringify(t))),r({event:t,code:0,message:""}),[2];t=s,this.loggerProvider.log("Timeline.apply: Event after before plugin '".concat(String(a.name),"', event: ").concat(JSON.stringify(t))),y.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return d={error:y.sent()},[3,8];case 7:try{o&&!o.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}return[7];case 8:u=this.plugins.filter(function(e){return"enrichment"===e.type||void 0===e.type}),y.label=9;case 9:y.trys.push([9,14,15,16]),l=(c=(0,v.__values)(u)).next(),y.label=10;case 10:if(l.done)return[3,13];if(!(a=l.value).execute)return[3,12];return[4,a.execute((0,v.__assign)({},t))];case 11:if(null===(s=y.sent()))return this.loggerProvider.log("Timeline.apply: Event filtered out by enrichment plugin '".concat(String(a.name),"', event: ").concat(JSON.stringify(t))),r({event:t,code:0,message:""}),[2];t=s,this.loggerProvider.log("Timeline.apply: Event after enrichment plugin '".concat(String(a.name),"', event: ").concat(JSON.stringify(t))),y.label=12;case 12:return l=c.next(),[3,10];case 13:return[3,16];case 14:return h={error:y.sent()},[3,16];case 15:try{l&&!l.done&&(g=c.return)&&g.call(c)}finally{if(h)throw h.error}return[7];case 16:return f=this.plugins.filter(function(e){return"destination"===e.type}),this.loggerProvider.log("Timeline.apply: Final event before destinations, event: ".concat(JSON.stringify(t))),Promise.all(f.map(function(e){var r=(0,v.__assign)({},t);return e.execute(r).catch(function(e){return C(r,0,String(e))})})).then(function(e){var n=(0,v.__read)(e,1)[0]||C(t,100,"Event not tracked, no destination plugins on the instance");r(n)}),[2]}})})},e.prototype.flush=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(e){return t.apply(e)}))];case 1:return r.sent(),[4,Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){return e.flush&&e.flush()}))];case 2:return r.sent(),[2]}})})},e.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onIdentityChanged)||void 0===r||r.call(t,e)})},e.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onSessionIdChanged)||void 0===r||r.call(t,e)})},e.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(t){var r;null===(r=t.onOptOutChanged)||void 0===r||r.call(t,e)})},e}(),H=function(e,t){return(0,v.__assign)((0,v.__assign)({},t),{event_type:z.J.IDENTIFY,user_properties:e.getUserProperties()})},W=function(e,t,r,n){var i;return(0,v.__assign)((0,v.__assign)({},n),{event_type:z.J.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:((i={})[e]=t,i)})},V=function(e,t,r){var n,i=new U.h2;return i.set(e,t),(0,v.__assign)((0,v.__assign)({},r),{event_type:z.J.IDENTIFY,user_properties:i.getUserProperties(),groups:((n={})[e]=t,n)})},K=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new $(this),this.name=e}return e.prototype._init=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),this.timeline.loggerProvider=this.config.loggerProvider,[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,o,a;return(0,v.__generator)(this,function(s){switch(s.label){case 0:t=this[e],this[e]=[],s.label=1;case 1:s.trys.push([1,8,9,10]),n=(r=(0,v.__values)(t)).next(),s.label=2;case 2:if(n.done)return[3,7];if(!((i=(0,n.value)())&&"promise"in i))return[3,4];return[4,i.promise];case 3:return s.sent(),[3,6];case 4:return[4,i];case 5:s.sent(),s.label=6;case 6:return n=r.next(),[3,2];case 7:return[3,10];case 8:return o={error:s.sent()},[3,10];case 9:try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}return[7];case 10:if(!this[e].length)return[3,12];return[4,this.runQueuedFunctions(e)];case 11:s.sent(),s.label=12;case 12:return[2]}})})},e.prototype.track=function(e,t,r){var n=(0,v.__assign)((0,v.__assign)((0,v.__assign)({},"string"==typeof e?{event_type:e}:e),r),t&&{event_properties:t});return(0,g.S)(this.dispatch(n))},e.prototype.identify=function(e,t){var r=H(e,t);return(0,g.S)(this.dispatch(r))},e.prototype.groupIdentify=function(e,t,r,n){var i=W(e,t,r,n);return(0,g.S)(this.dispatch(i))},e.prototype.setGroup=function(e,t,r){var n=V(e,t,r);return(0,g.S)(this.dispatch(n))},e.prototype.revenue=function(e,t){var r=(0,v.__assign)((0,v.__assign)({},t),{event_type:z.J.REVENUE,event_properties:e.getEventProperties()});return(0,g.S)(this.dispatch(r))},e.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),(0,g.S)())},e.prototype._addPlugin=function(e){return(0,g.S)(this.timeline.register(e,this.config))},e.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),(0,g.S)())},e.prototype._removePlugin=function(e){return(0,g.S)(this.timeline.deregister(e,this.config))},e.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(C(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,v.__generator)(this,function(r){return this.isReady?[2,this.process(e)]:[2,new Promise(function(r){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,r))})]})})},e.prototype.getOperationAppliedUserProperties=function(e){var t={};if(void 0===e)return t;var r={};return Object.keys(e).forEach(function(t){Object.values(z.h).includes(t)||(r[t]=e[t])}),U.rk.forEach(function(r){if(Object.keys(e).includes(r)){var n=e[r];switch(r){case z.h.CLEAR_ALL:Object.keys(t).forEach(function(e){delete t[e]});break;case z.h.UNSET:Object.keys(n).forEach(function(e){delete t[e]});break;case z.h.SET:Object.assign(t,n)}}}),Object.assign(t,r),t},e.prototype.process=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,v.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),this.config.optOut)return[2,C(e,0,"Event skipped due to optOut config")];return e.event_type===z.J.IDENTIFY&&(t=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:t})),[4,this.timeline.push(e)];case 1:return 200===(r=i.sent()).code?this.config.loggerProvider.log(r.message):100===r.code?this.config.loggerProvider.warn(r.message):this.config.loggerProvider.error(r.message),[2,r];case 2:return n=String(i.sent()),this.config.loggerProvider.error(n),[2,r=C(e,0,n)];case 3:return[2]}})})},e.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},e.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},e.prototype.flush=function(){return(0,g.S)(this.timeline.flush())},e.prototype.plugin=function(e){var t=this.timeline.plugins.find(function(t){return t.name===e});if(void 0===t){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e));return}return t},e.prototype.plugins=function(e){return this.timeline.plugins.filter(function(t){return t instanceof e})},e}(),J=function(e,t){return"boolean"==typeof e?e:(null==e?void 0:e[t])!==!1},G=function(e){return J(e,"attribution")},Y=function(e){return J(e,"pageViews")},X=function(e){return J(e,"sessions")},Q=function(e){return"boolean"==typeof e?e:"object"==typeof e&&(!0===e.networkTracking||"object"==typeof e.networkTracking)},Z=function(e){return"boolean"==typeof e?e:"object"==typeof e&&(!0===e.elementInteractions||"object"==typeof e.elementInteractions)},ee=function(e){return"boolean"==typeof e?e:"object"==typeof e&&(!0===e.frustrationInteractions||"object"==typeof e.frustrationInteractions)},et=function(e){if(Z(e.autocapture)&&"object"==typeof e.autocapture&&"object"==typeof e.autocapture.elementInteractions)return e.autocapture.elementInteractions},er=function(e){if(ee(e.autocapture)&&"object"==typeof e.autocapture&&"object"==typeof e.autocapture.frustrationInteractions)return e.autocapture.frustrationInteractions},en=function(e){var t;if(Q(e.autocapture)){var r=void 0;return"object"==typeof e.autocapture&&"object"==typeof e.autocapture.networkTracking?r=e.autocapture.networkTracking:e.networkTrackingOptions&&(r=e.networkTrackingOptions),(0,v.__assign)((0,v.__assign)({},r),{captureRules:null===(t=null==r?void 0:r.captureRules)||void 0===t?void 0:t.map(function(t){var r,n,i;if((null===(r=t.urls)||void 0===r?void 0:r.length)&&(null===(n=t.hosts)||void 0===n?void 0:n.length)){var o=JSON.stringify(t.hosts),a=JSON.stringify(t.urls);return null===(i=e.loggerProvider)||void 0===i||i.warn("Found network capture rule with both urls='".concat(a,"' and hosts='").concat(o,"' set. ")+"Definition of urls takes precedence over hosts, so ignoring hosts."),(0,v.__assign)((0,v.__assign)({},t),{hosts:void 0})}return t})})}},ei=function(e){var t,r=function(){return!1},n=void 0,i=e.pageCounter;return Y(e.defaultTracking)&&(r=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:r,trackHistoryChanges:n,eventType:t,pageCounter:i}},eo=function(e,t){ea(e,t)},ea=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.name,o=n.args,a=n.resolve,s=e&&e[i];if("function"==typeof s){var u=s.apply(e,o);"function"==typeof a&&a(null==u?void 0:u.promise)}}return e},es=function(e){return e&&void 0!==e._q},eu=function(){if("undefined"==typeof navigator)return"";var e,t,r,n,i=navigator.userLanguage;return null!==(n=null!==(r=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==r?r:i)&&void 0!==n?n:""},ec="2.30.1",el="amplitude-ts",ef=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(el,"/").concat(ec),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,r;return(0,v.__awaiter)(this,void 0,void 0,function(){var n,i,o;return(0,v.__generator)(this,function(a){return n=new Date().getTime(),i=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,o=null!==(r=e.event_id)&&void 0!==r?r:i+1,this.config.lastEventId=o,e.time||(this.config.lastEventTime=n),[2,(0,v.__assign)((0,v.__assign)((0,v.__assign)((0,v.__assign)((0,v.__assign)((0,v.__assign)((0,v.__assign)((0,v.__assign)({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:n},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:eu()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:(0,j.h)(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:o,library:this.library,user_agent:this.userAgent})]})})},e}(),ed=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(e){return[2,!0]})})},e.prototype.get=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return[2,this.memoryStorage.get(e)]})})},e.prototype.getRaw=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return[2,(t=r.sent())?JSON.stringify(t):void 0]}})})},e.prototype.set=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(r){return this.memoryStorage.set(e,t),[2]})})},e.prototype.remove=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return this.memoryStorage.delete(e),[2]})})},e.prototype.reset=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(e){return this.memoryStorage.clear(),[2]})})},e}(),ep=r(51051),eh=r(73974),ev=function(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=10),[I.xp,t,e.substring(0,r)].filter(Boolean).join("_")},eg=function(){function e(e){this.options=(0,v.__assign)({},e)}return e.prototype.isEnabled=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:if(!(0,m.l)())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),r="AMP_TEST",n.label=1;case 1:return n.trys.push([1,4,5,7]),[4,t.set(r,e.testValue)];case 2:return n.sent(),[4,t.get(r)];case 3:return[2,n.sent()===e.testValue];case 4:return n.sent(),[2,!1];case 5:return[4,t.remove(r)];case 6:return n.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){var t;return(0,v.__awaiter)(this,void 0,void 0,function(){var r,n;return(0,v.__generator)(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(!(r=i.sent()))return[2,void 0];try{if(n=null!==(t=ey(r))&&void 0!==t?t:em(r),void 0===n)return console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0];return[2,JSON.parse(n)]}catch(t){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(r)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(e){var t,r;return(0,v.__awaiter)(this,void 0,void 0,function(){var n,i;return(0,v.__generator)(this,function(o){return(i=(null!==(r=null===(t=null==(n=(0,m.l)())?void 0:n.document)||void 0===t?void 0:t.cookie.split("; "))&&void 0!==r?r:[]).find(function(t){return 0===t.indexOf(e+"=")}))?[2,i.substring(e.length+1)]:[2,void 0]})})},e.prototype.set=function(e,t){var r;return(0,v.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c;return(0,v.__generator)(this,function(l){try{n=null!==(r=this.options.expirationDays)&&void 0!==r?r:0,i=null!==t?n:-1,o=void 0,i&&((a=new Date).setTime(a.getTime()+864e5*i),o=a),s="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),o&&(s+="; expires=".concat(o.toUTCString())),s+="; path=/",this.options.domain&&(s+="; domain=".concat(this.options.domain)),this.options.secure&&(s+="; Secure"),this.options.sameSite&&(s+="; SameSite=".concat(this.options.sameSite)),(u=(0,m.l)())&&(u.document.cookie=s)}catch(t){c=t instanceof Error?t.message:String(t),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(c))}return[2]})})},e.prototype.remove=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},e.prototype.reset=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(e){return[2]})})},e}(),ey=function(e){try{return decodeURIComponent(atob(e))}catch(e){return}},em=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch(e){return}},eb=r(60743),e_=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var t,r,n;return(0,v.__generator)(this,function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),r=new e(this.storage),n="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,r.set(n,t)];case 2:return i.sent(),[4,r.get(n)];case 3:return[2,i.sent()===t];case 4:return i.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){return(0,v.__awaiter)(this,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:if(!(t=r.sent()))return[2,void 0];return[2,JSON.parse(t)];case 2:return r.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(e){var t;return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(r){return[2,(null===(t=this.storage)||void 0===t?void 0:t.getItem(e))||void 0]})})},e.prototype.set=function(e,t){var r;return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(n){try{null===(r=this.storage)||void 0===r||r.setItem(e,JSON.stringify(t))}catch(e){}return[2]})})},e.prototype.remove=function(e){var t;return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(r){try{null===(t=this.storage)||void 0===t||t.removeItem(e)}catch(e){}return[2]})})},e.prototype.reset=function(){var e;return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(t){try{null===(e=this.storage)||void 0===e||e.clear()}catch(e){}return[2]})})},e}(),ew=function(e){function t(t){var r,n,i,o=this;try{i=null===(r=(0,m.l)())||void 0===r?void 0:r.localStorage}catch(e){null===(n=null==t?void 0:t.loggerProvider)||void 0===n||n.debug("Failed to access localStorage. error=".concat(JSON.stringify(e))),i=void 0}return(o=e.call(this,i)||this).loggerProvider=null==t?void 0:t.loggerProvider,o}return(0,v.__extends)(t,e),t.prototype.set=function(t,r){var n;return(0,v.__awaiter)(this,void 0,void 0,function(){var i;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if(!(Array.isArray(r)&&r.length>1e3))return[3,2];return i=r.length-1e3,[4,e.prototype.set.call(this,t,r.slice(0,1e3))];case 1:return o.sent(),null===(n=this.loggerProvider)||void 0===n||n.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,r)];case 3:o.sent(),o.label=4;case 4:return[2]}})})},t}(e_),eS=function(e){function t(){var t;return e.call(this,null===(t=(0,m.l)())||void 0===t?void 0:t.sessionStorage)||this}return(0,v.__extends)(t,e),t}(e_),eE=r(36330),ex=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return(0,v.__extends)(t,e),t.prototype.send=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,v.__generator)(this,function(n){return[2,new Promise(function(n,i){"undefined"==typeof XMLHttpRequest&&i(Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",e,!0),o.onreadystatechange=function(){if(o.readyState===r.state.done){var e=o.responseText;try{n(r.buildResponse(JSON.parse(e)))}catch(e){n(r.buildResponse({code:o.status}))}}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(t))})]})})},t}(eE.d),eP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,v.__extends)(t,e),t.prototype.send=function(e,t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,v.__generator)(this,function(n){return[2,new Promise(function(n,i){var o=(0,m.l)();if(!(null==o?void 0:o.navigator.sendBeacon))throw Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(t);if(o.navigator.sendBeacon(e,JSON.stringify(t)))return n(r.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}));return n(r.buildResponse({code:500}))}catch(e){i(e)}})]})})},t}(eE.d),ek=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},eO=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},eA="[Amplitude]",eI="".concat(eA," Form Started"),eT="".concat(eA," Form Submitted"),eC="".concat(eA," File Downloaded"),eR="session_start",ej="session_end",eN="".concat(eA," File Extension"),eD="".concat(eA," File Name"),eM="".concat(eA," Link ID"),eL="".concat(eA," Link Text"),eU="".concat(eA," Link URL"),eF="".concat(eA," Form ID"),eq="".concat(eA," Form Name"),eB="".concat(eA," Form Destination"),ez="cookie",e$=function(e){function t(t,r,n,i,o,a,s,u,c,l,f,d,p,h,v,g,y,m,b,_,w,S,E,x,P,k,O,A,I,T,C,R,j,N,D,M,L,U,F,q){void 0===n&&(n=new ed),void 0===i&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===u&&(u=1e3),void 0===c&&(c=5),void 0===l&&(l=30),void 0===f&&(f=ez),void 0===g&&(g=new ep.Y),void 0===y&&(y=eh.i.Warn),void 0===b&&(b=!1),void 0===_&&(_=!1),void 0===E&&(E=""),void 0===x&&(x="US"),void 0===k&&(k=18e5),void 0===O&&(O=new ew({loggerProvider:g})),void 0===A&&(A={ipAddress:!0,language:!0,platform:!0}),void 0===I&&(I="fetch"),void 0===T&&(T=!1),void 0===C&&(C=!0),void 0===L&&(L=!0),void 0===U&&(U=0);var B=e.call(this,{apiKey:t,storageProvider:O,transportProvider:eW(I)})||this;return B.apiKey=t,B.appVersion=r,B.cookieOptions=i,B.defaultTracking=o,B.autocapture=a,B.flushIntervalMillis=u,B.flushMaxRetries=c,B.flushQueueSize=l,B.identityStorage=f,B.ingestionMetadata=d,B.instanceName=p,B.loggerProvider=g,B.logLevel=y,B.minIdLength=m,B.offline=b,B.partnerId=w,B.plan=S,B.serverUrl=E,B.serverZone=x,B.sessionTimeout=k,B.storageProvider=O,B.trackingOptions=A,B.transport=I,B.useBatch=T,B.fetchRemoteConfig=C,B.networkTrackingOptions=D,B.identify=M,B.enableDiagnostics=L,B.diagnosticsSampleRate=U,B.diagnosticsClient=F,B.remoteConfig=q,B.version=ec,B._optOut=!1,B._cookieStorage=n,B.deviceId=s,B.lastEventId=h,B.lastEventTime=v,B.optOut=_,B.sessionId=P,B.pageCounter=j,B.userId=R,B.debugLogsEnabled=N,B.loggerProvider.enable(N?eh.i.Debug:B.logLevel),B.networkTrackingOptions=D,B.identify=M,B.enableDiagnostics=L,B.diagnosticsSampleRate=U,B.diagnosticsClient=F,C&&(B.remoteConfig||(B.remoteConfig={fetchRemoteConfig:C}),B.remoteConfig.fetchRemoteConfig||(B.remoteConfig.fetchRemoteConfig=C)),B}return(0,v.__extends)(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(e){this._pageCounter!==e&&(this._pageCounter=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(e){this._debugLogsEnabled!==e&&(this._debugLogsEnabled=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(ev(this.apiKey),e)},t}(R.De),eH=function(e,t){switch(void 0===e&&(e=ez),void 0===t&&(t={}),e){case"localStorage":return new ew;case"sessionStorage":return new eS;case"none":return new ed;default:return new eg((0,v.__assign)((0,v.__assign)({},t),{expirationDays:t.expiration}))}},eW=function(e){return"xhr"===e?new ex:"beacon"===e?new eP:new eb.V},eV="data-amp-mask",eK="*****",eJ=/\b(?:\d[ -]*?){13,16}\b/,eG=/(\d{3}-?\d{2}-?\d{4})/g,eY=/[^\s@]+@[^\s@.]+\.[^\s@]+/g,eX=function(e,t){if(void 0===t&&(t=[]),"string"!=typeof e)return"";var r,n,i=e;i=(i=(i=i.replace(eJ,eK)).replace(eG,eK)).replace(eY,eK);try{for(var o=(0,v.__values)(t),a=o.next();!a.done;a=o.next()){var s=a.value;try{i=i.replace(s,eK)}catch(e){}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},eQ=function(e){if("undefined"==typeof document||!document.title)return"";var t=document.querySelector("title");return t&&t.hasAttribute(eV)?eK:e?e(document.title):document.title},eZ=function(){function e(){}return e.prototype.parse=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(e){return[2,(0,v.__assign)((0,v.__assign)((0,v.__assign)((0,v.__assign)({},I.Lo),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=x();return{utm_campaign:e[I.VX],utm_content:e[I.fZ],utm_id:e[I.KI],utm_medium:e[I.lP],utm_source:e[I.b3],utm_term:e[I.NE]}},e.prototype.getReferrer=function(){var e,t,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=null!==(t=null===(e=r.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return r},e.prototype.getClickIds=function(){var e,t=x();return(e={})[I.ah]=t[I.ah],e[I.rV]=t[I.rV],e[I.fC]=t[I.fC],e[I.Ji]=t[I.Ji],e[I.bz]=t[I.bz],e[I.tS]=t[I.tS],e[I.pr]=t[I.pr],e[I.Kh]=t[I.Kh],e[I.cl]=t[I.cl],e[I.oZ]=t[I.oZ],e[I.pG]=t[I.pG],e},e}(),e0=function(e){var t={};for(var r in e){var n=e[r];n&&(t[r]=n)}return t},e1=function(e){void 0===e&&(e={});var t,r,n=(0,m.l)(),i=void 0,o=!1,a=e.trackOn,s=e.trackHistoryChanges,u=e.eventType,c=void 0===u?"[Amplitude] Page Viewed":u,l=function(e){var t=e;try{t=decodeURI(e)}catch(e){null==i||i.error("Malformed URI sequence: ",e)}return t},f=function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:return e=l("undefined"!=typeof location&&location.href||""),r={event_type:c},t=[{}],[4,e2()];case 1:return[2,(r.event_properties=v.__assign.apply(void 0,[v.__assign.apply(void 0,t.concat([n.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":e,"[Amplitude] Page Path":"undefined"!=typeof location&&l(location.pathname)||"","[Amplitude] Page Title":eQ(eX),"[Amplitude] Page URL":e.split("?")[0]}]),r)]}})})},d=function(){return void 0===a||"function"==typeof a&&a()},p="undefined"!=typeof location?location.href:null,h=function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,r,n,o;return(0,v.__generator)(this,function(a){switch(a.label){case 0:if(r=e3(s,e=location.href,p||"")&&d(),p=e,!r)return[3,4];if(null==i||i.log("Tracking page view event"),null!=t)return[3,1];return[3,3];case 1:return o=(n=t).track,[4,f()];case 2:o.apply(n,[a.sent()]),a.label=3;case 3:a.label=4;case 4:return[2]}})})},g=function(){h()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,a){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var s,u;return(0,v.__generator)(this,function(c){switch(c.label){case 0:if(t=a,r=e,(i=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),o=!0,n&&(n.addEventListener("popstate",g),n.history.pushState=new Proxy(n.history.pushState,{apply:function(e,t,r){var n=(0,v.__read)(r,3),i=n[0],a=n[1],s=n[2];e.apply(t,[i,a,s]),o&&h()}})),!d())return[3,2];return i.log("Tracking page view event"),u=(s=t).track,[4,f()];case 1:u.apply(s,[c.sent()]),c.label=2;case 2:return[2]}})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var t;return(0,v.__generator)(this,function(n){switch(n.label){case 0:if(!("attribution"===a&&e4(e)))return[3,2];return null==i||i.log("Enriching campaign event to page view event with campaign parameters"),[4,f()];case 1:t=n.sent(),e.event_type=t.event_type,e.event_properties=(0,v.__assign)((0,v.__assign)({},e.event_properties),t.event_properties),n.label=2;case 2:return r&&e.event_type===c&&(r.pageCounter=r.pageCounter?r.pageCounter+1:1,e.event_properties=(0,v.__assign)((0,v.__assign)({},e.event_properties),{"[Amplitude] Page Counter":r.pageCounter})),[2,e]}})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(e){return n&&(n.removeEventListener("popstate",g),o=!1),[2]})})}}},e2=function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var e;return(0,v.__generator)(this,function(t){switch(t.label){case 0:return e=e0,[4,new eZ().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},e4=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,r=t[z.h.SET]||{},n=t[z.h.UNSET]||{},i=(0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(Object.keys(r)),!1),(0,v.__read)(Object.keys(n)),!1);return Object.keys(I.Lo).every(function(e){return i.includes(e)})}return!1},e3=function(e,t,r){if("pathOnly"===e){if(""==r)return!0;var n=new URL(t),i=new URL(r);return n.origin+n.pathname!==i.origin+i.pathname}return t!==r},e5=function(){var e,t=[],r=function(e,r,n){e.addEventListener(r,n),t.push({element:e,type:r,handler:n})},n=function(){t.forEach(function(e){var t=e.element,r=e.type,n=e.handler;null==t||t.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,n){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var i,o;return(0,v.__generator)(this,function(a){return i=function(){if(!n){t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){var t=!1;r(e,"change",function(){var r,i=e8(e);t||n.track(eI,((r={})[eF]=e6(e.id),r[eq]=e6(e.name),r[eB]=i,r)),t=!0}),r(e,"submit",function(){var r,i,o=e8(e);t||n.track(eI,((r={})[eF]=e6(e.id),r[eq]=e6(e.name),r[eB]=o,r)),n.track(eT,((i={})[eF]=e6(e.id),i[eq]=e6(e.name),i[eB]=o,i)),t=!1})};Array.from(document.getElementsByTagName("form")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"FORM"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}},"complete"===document.readyState?i():(o=(0,m.l)())?o.addEventListener("load",i):t.loggerProvider.debug("Form interaction tracking is not installed because global is undefined."),[2]})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return null==e||e.disconnect(),n(),[2]})})}}},e6=function(e){if("string"==typeof e)return e},e8=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(null!=t?t:""),window.location.href).href}catch(e){}return t},e9=function(){var e,t=[],r=function(e,r,n){e.addEventListener(r,n),t.push({element:e,type:r,handler:n})},n=function(){t.forEach(function(e){var t=e.element,r=e.type,n=e.handler;null==t||t.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(t,n){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var i,o;return(0,v.__generator)(this,function(a){return i=function(){if(!n){t.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){try{t=new URL(e.href,window.location.href)}catch(e){return}var t,i=o.exec(t.href),a=null==i?void 0:i[1];a&&r(e,"click",function(){var r;a&&n.track(eC,((r={})[eN]=a,r[eD]=t.pathname,r[eM]=e.id,r[eL]=e.text,r[eU]=e.href,r))})},o=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/;Array.from(document.getElementsByTagName("a")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"A"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}},"complete"===document.readyState?i():(o=(0,m.l)())?o.addEventListener("load",i):t.loggerProvider.debug("File download tracking is not installed because global is undefined."),[2]})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return null==e||e.disconnect(),n(),[2]})})}}},e7=!1,te=function(e){e7||void 0!==e.defaultTracking||(e.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),e7=!0)},tt=function(){var e=(0,m.l)(),t=[],r=function(r,n){(null==e?void 0:e.addEventListener)&&(null==e||e.addEventListener(r,n),t.push({type:r,handler:n}))},n=function(){t.forEach(function(t){var r=t.type,n=t.handler;null==e||e.removeEventListener(r,n)}),t=[]};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(n){return"undefined"==typeof navigator?(e.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),e.offline=!1):(e.offline=!navigator.onLine,r("online",function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout(function(){t.flush()},e.flushIntervalMillis)}),r("offline",function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0})),[2]})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(e){return n(),[2]})})}}};function tr(e,t,r){var n,i,o=[];try{for(var a=(0,v.__values)(null!=t?t:[]),s=a.next();!s.done;s=a.next()){var u=s.value;try{o.push(new RegExp(u))}catch(e){r.loggerProvider.warn("Invalid regex pattern: ".concat(u),e)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return e.concat(o)}var tn=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],ti="data-amp-track-",to=["div","span","h1","h2","h3","h4","h5","h6"],ta="[Amplitude] Element Clicked",ts="[Amplitude] Rage Click",tu="[Amplitude] Element Tag",tc="[Amplitude] Element Text",tl="[Amplitude] Page URL",tf="https://app.amplitude.com",td={US:tf,EU:"https://app.eu.amplitude.com",STAGING:"https://apps.stag2.amplitude.com"},tp="data-amp-mask-attributes";function th(e){return"function"==typeof e}function tv(e){return function(t){if(th(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function tg(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ty=tg(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function tm(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var tb=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,n,i,o=this._parentage;if(o){if(this._parentage=null,Array.isArray(o))try{for(var a=(0,v.__values)(o),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this)}var u=this.initialTeardown;if(th(u))try{u()}catch(e){i=e instanceof ty?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=(0,v.__values)(c),f=l.next();!f.done;f=l.next()){var d=f.value;try{tS(d)}catch(e){i=null!=i?i:[],e instanceof ty?i=(0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(i)),(0,v.__read)(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new ty(i)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)tS(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&tm(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&tm(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),t_=tb.EMPTY;function tw(e){return e instanceof tb||e&&"closed"in e&&th(e.remove)&&th(e.add)&&th(e.unsubscribe)}function tS(e){th(e)?e():e.unsubscribe()}var tE={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tx={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=tx.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,v.__spreadArray)([e,t],(0,v.__read)(r))):setTimeout.apply(void 0,(0,v.__spreadArray)([e,t],(0,v.__read)(r)))},clearTimeout:function(e){var t=tx.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function tP(e){tx.setTimeout(function(){var t=tE.onUnhandledError;if(t)t(e);else throw e})}function tk(){}var tO=tA("C",void 0,void 0);function tA(e,t,r){return{kind:e,value:t,error:r}}var tI=null;function tT(e){if(tE.useDeprecatedSynchronousErrorHandling){var t=!tI;if(t&&(tI={errorThrown:!1,error:null}),e(),t){var r=tI,n=r.errorThrown,i=r.error;if(tI=null,n)throw i}}else e()}var tC=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,tw(t)&&t.add(r)):r.destination=tU,r}return(0,v.__extends)(t,e),t.create=function(e,t,r){return new tD(e,t,r)},t.prototype.next=function(e){this.isStopped?tL(tA("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?tL(tA("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?tL(tO,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(tb),tR=Function.prototype.bind;function tj(e,t){return tR.call(e,t)}var tN=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){tM(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){tM(e)}else tM(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){tM(e)}},e}(),tD=function(e){function t(t,r,n){var i,o,a=e.call(this)||this;return th(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&tE.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&tj(t.next,o),error:t.error&&tj(t.error,o),complete:t.complete&&tj(t.complete,o)}):i=t,a.destination=new tN(i),a}return(0,v.__extends)(t,e),t}(tC);function tM(e){tE.useDeprecatedSynchronousErrorHandling?tE.useDeprecatedSynchronousErrorHandling&&tI&&(tI.errorThrown=!0,tI.error=e):tP(e)}function tL(e,t){var r=tE.onStoppedNotification;r&&tx.setTimeout(function(){return r(e,t)})}var tU={closed:!0,next:tk,error:function(e){throw e},complete:tk};function tF(e,t,r,n,i){return new tq(e,t,r,n,i)}var tq=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,v.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(tC);function tB(e,t){return tv(function(r,n){var i=0;r.subscribe(tF(n,function(r){n.next(e.call(t,r,i++))}))})}var tz=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function t$(e){return th(null==e?void 0:e.then)}var tH="function"==typeof Symbol&&Symbol.observable||"@@observable";function tW(e){return e}var tV=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof tC||n&&th(n.next)&&th(n.error)&&th(n.complete)&&tw(n)?e:new tD(e,t,r);return tT(function(){var e=i.operator,t=i.source;o.add(e?e.call(o,t):t?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=tK(t))(function(t,n){var i=new tD({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[tH]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?tW:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=tK(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function tK(e){var t;return null!==(t=null!=e?e:tE.Promise)&&void 0!==t?t:Promise}function tJ(e){return Symbol.asyncIterator&&th(null==e?void 0:e[Symbol.asyncIterator])}function tG(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var tY="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function tX(e){return th(null==e?void 0:e[tY])}function tQ(e){return(0,v.__asyncGenerator)(this,arguments,function(){var t,r,n;return(0,v.__generator)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,v.__await)(t.read())];case 3:if(n=(r=i.sent()).value,!r.done)return[3,5];return[4,(0,v.__await)(void 0)];case 4:return[2,i.sent()];case 5:return[4,(0,v.__await)(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function tZ(e){return th(null==e?void 0:e.getReader)}function t0(e){if(e instanceof tV)return e;if(null!=e){if(th(e[tH]))return new tV(function(t){var r=e[tH]();if(th(r.subscribe))return r.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(tz(e))return new tV(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()});if(t$(e))return new tV(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,tP)});if(tJ(e))return t1(e);if(tX(e))return new tV(function(t){var r,n;try{for(var i=(0,v.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()});if(tZ(e))return t1(tQ(e))}throw tG(e)}function t1(e){return new tV(function(t){(function(e,t){var r,n,i,o;return(0,v.__awaiter)(this,void 0,void 0,function(){var a;return(0,v.__generator)(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),r=(0,v.__asyncValues)(e),s.label=1;case 1:return[4,r.next()];case 2:if((n=s.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:s.sent()},[3,11];case 6:if(s.trys.push([6,,9,10]),!(n&&!n.done&&(o=r.return)))return[3,8];return[4,o.call(r)];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}var t2=tg(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),t4=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,v.__extends)(t,e),t.prototype.lift=function(e){var t=new t3(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new t2},t.prototype.next=function(e){var t=this;tT(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,v.__values)(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;tT(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;tT(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?t_:(this.currentObservers=null,i.push(e),new tb(function(){t.currentObservers=null,tm(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new tV;return e.source=this,e},t.create=function(e,t){return new t3(e,t)},t}(tV),t3=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,v.__extends)(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:t_},t}(t4);function t5(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new t4}:t,n=e.resetOnError,i=void 0===n||n,o=e.resetOnComplete,a=void 0===o||o,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,n,o,s=0,c=!1,l=!1,f=function(){null==n||n.unsubscribe(),n=void 0},d=function(){f(),t=o=void 0,c=l=!1},p=function(){var e=t;d(),null==e||e.unsubscribe()};return tv(function(e,h){s++,l||c||f();var v=o=null!=o?o:r();h.add(function(){0!=--s||l||c||(n=t6(p,u))}),v.subscribe(h),!t&&s>0&&(t=new tD({next:function(e){return v.next(e)},error:function(e){l=!0,f(),n=t6(d,i,e),v.error(e)},complete:function(){c=!0,f(),n=t6(d,a),v.complete()}}),t0(e).subscribe(t))})(e)}}function t6(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0===t){e();return}if(!1!==t){var i=new tD({next:function(){i.unsubscribe(),e()}});return t0(t.apply(void 0,(0,v.__spreadArray)([],(0,v.__read)(r)))).subscribe(i)}}function t8(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function t9(e,t,r){return(void 0===r&&(r=1/0),th(t))?t9(function(r,n){return tB(function(e,i){return t(r,e,n,i)})(t0(e(r,n)))},r):("number"==typeof t&&(r=t),tv(function(t,n){var i,o,a,s,u,c,l,f,d;return i=r,a=[],s=0,u=0,c=!1,l=function(){!c||a.length||s||n.complete()},f=function(e){return s<i?d(e):a.push(e)},d=function(t){s++;var r=!1;t0(e(t,u++)).subscribe(tF(n,function(e){o?f(e):n.next(e)},function(){r=!0},void 0,function(){if(r)try{for(s--;a.length&&s<i;)!function(){var e=a.shift();d(e)}();l()}catch(e){n.error(e)}}))},t.subscribe(tF(n,f,function(){c=!0,l()})),function(){}}))}var t7=Array.isArray,re=["addListener","removeListener"],rt=["addEventListener","removeEventListener"],rr=["on","off"];function rn(e,t,r,n){if(th(r)&&(n=r,r=void 0),n)return rn(e,t,r).pipe((i=n,tB(function(e){return t7(e)?i.apply(void 0,(0,v.__spreadArray)([],(0,v.__read)(e))):i(e)})));var i,o=(0,v.__read)(th(e.addEventListener)&&th(e.removeEventListener)?rt.map(function(n){return function(i){return e[n](t,i,r)}}):th(e.addListener)&&th(e.removeListener)?re.map(ri(e,t)):th(e.on)&&th(e.off)?rr.map(ri(e,t)):[],2),a=o[0],s=o[1];if(!a&&tz(e))return t9(function(e){return rn(e,t,r)})(t0(e));if(!a)throw TypeError("Invalid event target");return new tV(function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return a(t),function(){return s(t)}})}function ri(e,t){return function(r){return function(n){return e[r](t,n)}}}var ro=function(e,t){return!t||!t.length||t.some(function(t){return"string"==typeof t?e===t:e.match(t)})},ra=function(e,t){var r=e;try{r=decodeURI(e)}catch(e){null==t||t.error("Malformed URI sequence: ",e)}return r},rs=["input","select","textarea"],ru=function(e,t){var r,n=null===(r=null==window?void 0:window.getComputedStyle)||void 0===r?void 0:r.call(window,e);return(null==n?void 0:n.getPropertyValue("cursor"))==="pointer"&&"click"===t},rc=function(e,t,r){return void 0===r&&(r=!1),function(n,i){var o,a,s=e.pageUrlAllowlist,u=e.pageUrlExcludelist,c=e.shouldTrackEventResolver,l=null===(a=null===(o=null==i?void 0:i.tagName)||void 0===o?void 0:o.toLowerCase)||void 0===a?void 0:a.call(o);if(!l)return!1;if(c)return c(n,i);if(!ro(window.location.href,s)||u&&u.length>0&&ro(window.location.href,u))return!1;var f=String(null==i?void 0:i.getAttribute("type"))||"";if("string"==typeof f)switch(f.toLowerCase()){case"hidden":case"password":return!1}var d=ru(i,n);if(r&&d)return!0;if(t&&!t.some(function(e){var t;return!!(null===(t=null==i?void 0:i.matches)||void 0===t?void 0:t.call(i,e))}))return!1;switch(l){case"input":case"select":case"textarea":return"change"===n||"click"===n;default:if(d)return!0;return"click"===n}}},rl=function(e){var t,r,n,i=null===(r=null===(t=null==e?void 0:e.tagName)||void 0===t?void 0:t.toLowerCase)||void 0===r?void 0:r.call(t),o=e instanceof HTMLElement&&(null===(n=e.getAttribute("contenteditable"))||void 0===n?void 0:n.toLowerCase())==="true";return!rs.includes(i)&&!o},rf=function(e){return Object.keys(e).reduce(function(t,r){var n=e[r];return null==n||"object"==typeof n&&0===Object.keys(n).length||"string"==typeof n&&0===n.trim().length||(t[r]=n),t},{})},rd=function(e,t){return e?t.some(function(t){var r;return null===(r=null==e?void 0:e.matches)||void 0===r?void 0:r.call(e,t)})?e:rd(null==e?void 0:e.parentElement,t):null},rp=function(e){return null!==e.event.target&&!!e.closestTrackedAncestor},rh="1.17.1",rv=new Set(["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot",tp,eV]),rg=["type"],ry=["svg","path","g"],rm=["password","hidden"],rb=function(e,t){try{if("DOM_ELEMENT"===e.sourceType){var r=document.documentElement;if(e.scope&&t&&(r=t.closest(e.scope)),r&&e.selector)return r.querySelector(e.selector);return r}}catch(e){}},r_=function(e,t,r){e.forEach(function(e){if("string"!=typeof e&&"ATTACH_EVENT_PROPERTY"===e.actionType){var n=r.extractDataFromDataSource(e.dataSource,t.closestTrackedAncestor);t.targetElementProperties[e.destinationKey]=n}})},rw=function(e,t){var r,n,i,o=this;this.replaceSensitiveString=function(e){return eX(e,o.additionalMaskTextPatterns)},this.getHierarchy=function(e){var t,r,n,i,a=performance.now(),s=[];if(!e)return[];for(var u=function(e){var t=[];if(!e)return t;t.push(e);for(var r=e.parentElement;r&&"HTML"!==r.tagName;)t.push(r),r=r.parentElement;return t}(e),c=new Map,l=u.length-1;l>=0;l--){var f=u[l];if(f){var d,p=(d=f.getAttribute(tp))?d.split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0&&"id"!==e&&"class"!==e}):[],h=l===u.length-1?[]:null!==(n=c.get(u[l+1]))&&void 0!==n?n:new Set,g=new Set((0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(h),!1),(0,v.__read)(p),!1));c.set(f,g)}}s=u.map(function(e){var t;return function(e,t){if(null===e)return null;var r,n,i,o,a,s,u=String(e.tagName).toLowerCase(),c={tag:u},l=Array.from(null!==(o=null===(i=e.parentElement)||void 0===i?void 0:i.children)&&void 0!==o?o:[]);l.length&&(c.index=l.indexOf(e),c.indexOfType=l.filter(function(t){return t.tagName===e.tagName}).indexOf(e));var f=null===(s=null===(a=e.previousElementSibling)||void 0===a?void 0:a.tagName)||void 0===s?void 0:s.toLowerCase();f&&(c.prevSib=String(f));var d=e.getAttribute("id");d&&(c.id=String(d));var p=Array.from(e.classList);p.length&&(c.classes=p);var h={},g=Array.from(e.attributes).filter(function(e){return!rv.has(e.name)}),y=!rl(e);if(!rm.includes(String(e.getAttribute("type")))&&!ry.includes(u))try{for(var m=(0,v.__values)(g),b=m.next();!b.done;b=m.next()){var _=b.value;if(!y||rg.includes(_.name)){if(t.has(_.name)){h[_.name]=eK;continue}h[_.name]=String(_.value).substring(0,128)}}}catch(e){r={error:e}}finally{try{b&&!b.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}return Object.keys(h).length&&(c.attrs=h),c}(e,null!==(t=c.get(e))&&void 0!==t?t:new Set)});var y=function(e){(null==e?void 0:e.attrs)&&Object.entries(e.attrs).forEach(function(t){var r=(0,v.__read)(t,2),n=r[0],i=r[1];e.attrs&&(e.attrs[n]=o.replaceSensitiveString(i))})};try{for(var m=(0,v.__values)(s),b=m.next();!b.done;b=m.next()){var _=b.value;y(_)}}catch(e){t={error:e}}finally{try{b&&!b.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}var w=performance.now();return null===(i=o.diagnosticsClient)||void 0===i||i.recordHistogram("autocapturePlugin.getHierarchy",w-a),s},this.getNearestLabel=function(e){var t,r=e.parentElement;if(!r)return"";try{t=r.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch(e){t=null}return t?o.getText(t):o.getNearestLabel(r)},this.getEventProperties=function(e,t,r){var n,i,a,s,u=null===(a=null===(i=null==t?void 0:t.tagName)||void 0===i?void 0:i.toLowerCase)||void 0===a?void 0:a.call(i),c="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:null,top:null},l=o.getHierarchy(t),f=null===(s=l[0])||void 0===s?void 0:s.attrs,d=o.getNearestLabel(t),p=Object.entries(null!=f?f:{}).reduce(function(e,t){var n=(0,v.__read)(t,2),i=n[0],o=n[1];if(i.startsWith(r)){var a=i.replace(r,"");a&&(e[a]=o||"")}return e},{}),h=((n={})["[Amplitude] Element Hierarchy"]=l,n[tu]=u,n[tc]=o.getText(t),n["[Amplitude] Element Position Left"]=null==c.left?null:Math.round(c.left),n["[Amplitude] Element Position Top"]=null==c.top?null:Math.round(c.top),n["[Amplitude] Element Attributes"]=p,n["[Amplitude] Element Parent Label"]=d,n[tl]=ra(window.location.href.split("?")[0]),n["[Amplitude] Page Title"]=eQ(o.replaceSensitiveString),n["[Amplitude] Viewport Height"]=window.innerHeight,n["[Amplitude] Viewport Width"]=window.innerWidth,n);return h["[Amplitude] Element ID"]=t.getAttribute("id")||"",h["[Amplitude] Element Class"]=t.getAttribute("class"),h["[Amplitude] Element Aria Label"]=null==f?void 0:f["aria-label"],"a"===u&&"click"===e&&t instanceof HTMLAnchorElement&&(h["[Amplitude] Element Href"]=o.replaceSensitiveString(t.href)),rf(h)},this.addAdditionalEventProperties=function(e,t,r,n,i){void 0===i&&(i=!1);var a={event:e,timestamp:Date.now(),type:t};if(("click"===a.type||"change"===a.type)&&null!==a.event.target){if(i&&ru(a.event.target,a.type))return a.closestTrackedAncestor=a.event.target,a.targetElementProperties=o.getEventProperties(a.type,a.closestTrackedAncestor,n),a;var s=rd(a.event.target,r);s&&(a.closestTrackedAncestor=s,a.targetElementProperties=o.getEventProperties(a.type,s,n))}return a},this.extractDataFromDataSource=function(e,t){if("DOM_ELEMENT"===e.sourceType){var r=rb(e,t);if(r){if("TEXT"===e.elementExtractType)return o.getText(r);if("ATTRIBUTE"===e.elementExtractType&&e.attribute)return r.getAttribute(e.attribute)}}},this.getText=function(e){if(null!==e.closest("[".concat(eV,"]")))return eK;var t="";if(e.querySelector("[".concat(eV,"], [contenteditable]"))){var r=e.cloneNode(!0);r.querySelectorAll("[".concat(eV,"], [contenteditable]")).forEach(function(e){e.innerText=eK}),t=r.innerText||""}else t=e.innerText||"";return o.replaceSensitiveString(t.substring(0,255)).replace(/\s+/g," ").trim()},this.getEventTagProps=function(e){if(!e)return{};var t,r,n,i=null===(n=null===(r=null==e?void 0:e.tagName)||void 0===r?void 0:r.toLowerCase)||void 0===n?void 0:n.call(r);return rf(((t={})[tu]=i,t[tc]=o.getText(e),t[tl]=window.location.href.split("?")[0],t))},this.diagnosticsClient=null==t?void 0:t.diagnosticsClient;var a=null!==(i=e.maskTextRegex)&&void 0!==i?i:[],s=[];try{for(var u=(0,v.__values)(a),c=u.next();!c.done;c=u.next()){var l=c.value;if(s.length>=25)break;if(l instanceof RegExp)s.push(l);else if("pattern"in l&&"string"==typeof l.pattern)try{s.push(RegExp(l.pattern,"i"))}catch(e){}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}this.additionalMaskTextPatterns=s},rS=function(){function e(e){var t=(void 0===e?{}:e).origin,r=this;this.endpoint=tf,this.requestCallbacks={},this.onSelect=function(e){r.notify({action:"element-selected",data:e})},this.onTrack=function(e,t){"selector-mode-changed"===e?r.notify({action:"track-selector-mode-changed",data:t}):"selector-moved"===e&&r.notify({action:"track-selector-moved",data:t})},this.endpoint=void 0===t?tf:t}return e.prototype.notify=function(e){var t,r,n,i;null===(r=null===(t=this.logger)||void 0===t?void 0:t.debug)||void 0===r||r.call(t,"Message sent: ",JSON.stringify(e)),null===(i=null===(n=window.opener)||void 0===n?void 0:n.postMessage)||void 0===i||i.call(n,e,this.endpoint)},e.prototype.sendRequest=function(e,t,r){var n=this;void 0===r&&(r={timeout:15e3});var i="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),o={id:i,action:e,args:t};return new Promise(function(t,a){n.requestCallbacks[i]={resolve:t,reject:a},n.notify(o),(null==r?void 0:r.timeout)>0&&setTimeout(function(){a(Error("".concat(e," timed out (id: ").concat(i,")"))),delete n.requestCallbacks[i]},r.timeout)})},e.prototype.handleResponse=function(e){var t;if(!this.requestCallbacks[e.id]){null===(t=this.logger)||void 0===t||t.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},e.prototype.setup=function(e){var t=this,r=void 0===e?{dataExtractor:new rw({})}:e,n=r.logger,i=r.endpoint,o=r.isElementSelectable,a=r.cssSelectorAllowlist,s=r.actionClickAllowlist,u=r.dataExtractor;this.logger=n,i&&this.endpoint===tf&&(this.endpoint=i);var c=null;window.addEventListener("message",function(e){if(null===(n=null===(r=t.logger)||void 0===r?void 0:r.debug)||void 0===n||n.call(r,"Message received: ",JSON.stringify(e)),t.endpoint===e.origin){var r,n,i,l,f,d=null==e?void 0:e.data,p=null==d?void 0:d.action;if(p){if("id"in d)null===(l=null===(i=t.logger)||void 0===i?void 0:i.debug)||void 0===l||l.call(i,"Received Response to previous request: ",JSON.stringify(e)),t.handleResponse(d);else if("ping"===p)t.notify({action:"pong"});else if("initialize-visual-tagging-selector"===p){var h,v=null==d?void 0:d.data;(h="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",new Promise(function(e,t){var r;try{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=h,n.addEventListener("load",function(){e({status:!0})},{once:!0}),n.addEventListener("error",function(){t({status:!1,message:"Failed to load the script ".concat(h)})}),null===(r=document.head)||void 0===r||r.appendChild(n)}catch(e){t(e)}})).then(function(){var e;c=null===(e=null==window?void 0:window.amplitudeVisualTaggingSelector)||void 0===e?void 0:e.call(window,{getEventTagProps:u.getEventTagProps,isElementSelectable:function(e){return!o||o((null==v?void 0:v.actionType)||"click",e)},onTrack:t.onTrack,onSelect:t.onSelect,visualHighlightClass:"amp-visual-tagging-selector-highlight",messenger:t,cssSelectorAllowlist:a,actionClickAllowlist:s,extractDataFromDataSource:u.extractDataFromDataSource,dataExtractor:u,diagnostics:{autocapture:{version:rh}}}),t.notify({action:"selector-loaded"})}).catch(function(){var e;null===(e=t.logger)||void 0===e||e.warn("Failed to initialize visual tagging selector")})}else"close-visual-tagging-selector"===p&&(null===(f=null==c?void 0:c.close)||void 0===f||f.call(c))}}}),this.notify({action:"page-loaded"})},e}();function rE(e,t){return tv(function(r,n){var i=0;r.subscribe(tF(n,function(r){return e.call(t,r,i++)&&n.next(r)}))})}var rx=function(e){function t(t,r){return e.call(this)||this}return(0,v.__extends)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(tb),rP={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=rP.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,(0,v.__spreadArray)([e,t],(0,v.__read)(r))):setInterval.apply(void 0,(0,v.__spreadArray)([e,t],(0,v.__read)(r)))},clearInterval:function(e){var t=rP.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},rk=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return(0,v.__extends)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),rP.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&rP.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,tm(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(rx),rO={now:function(){return(rO.delegate||Date).now()},delegate:void 0},rA=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=rO.now,e}(),rI=new(function(e){function t(t,r){void 0===r&&(r=rA.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return(0,v.__extends)(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(rA))(rk);function rT(e){return void 0===e&&(e=1/0),t9(tW,e)}var rC=new tV(function(e){return e.complete()});function rR(e){return e&&th(e.schedule)}function rj(e){return e[e.length-1]}function rN(e){return rR(rj(e))?e.pop():void 0}function rD(e,t){return void 0===t&&(t=0),tv(function(r,n){r.subscribe(tF(n,function(r){return t8(n,e,function(){return n.next(r)},t)},function(){return t8(n,e,function(){return n.complete()},t)},function(r){return t8(n,e,function(){return n.error(r)},t)}))})}function rM(e,t){return void 0===t&&(t=0),tv(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function rL(e,t){if(!e)throw Error("Iterable cannot be null");return new tV(function(r){t8(r,t,function(){var n=e[Symbol.asyncIterator]();t8(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function rU(e,t){return t?function(e,t){if(null!=e){if(th(e[tH]))return t0(e).pipe(rM(t),rD(t));if(tz(e))return new tV(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})});if(t$(e))return t0(e).pipe(rM(t),rD(t));if(tJ(e))return rL(e,t);if(tX(e))return new tV(function(r){var n;return t8(r,t,function(){n=e[tY](),t8(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return th(null==n?void 0:n.return)&&n.return()}});if(tZ(e))return rL(tQ(e),t)}throw tG(e)}(e,t):t0(e)}function rF(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=rN(t),i=(e=1/0,"number"==typeof rj(t)?t.pop():e);return t.length?1===t.length?t0(t[0]):rT(i)(rU(t,n)):rC}function rq(e){return e<=0?function(){return rC}:tv(function(t,r){var n=0;t.subscribe(tF(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}function rB(e){return e instanceof Date&&!isNaN(e)}function rz(e,t,r){void 0===e&&(e=0),void 0===r&&(r=rI);var n=-1;return null!=t&&(rR(t)?r=t:n=t),new tV(function(t){var i=rB(e)?+e-r.now():e;i<0&&(i=0);var o=0;return r.schedule(function(){t.closed||(t.next(o++),0<=n?this.schedule(void 0,n):t.complete())},i)})}var r$=tg(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function rH(e){throw new r$(e)}var rW=function(){return new tV(function(e){var t=new MutationObserver(function(t){e.next(t)});return t.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return t.disconnect()}})},rV=function(e){return void 0===e&&(e="click"),rn(document,e,{capture:!0})},rK=function(e,t){try{if("[Amplitude] Element Text"===t.subprop_key)return"is"===t.subprop_op&&t.subprop_value.includes(e.targetElementProperties["[Amplitude] Element Text"]);if("[Amplitude] Element Hierarchy"===t.subprop_key)return"autotrack css match"===t.subprop_op&&!!e.closestTrackedAncestor.closest(t.subprop_value.toString())}catch(e){console.error("Error matching event to filter",e)}return!1},rJ={"[Amplitude] Element Clicked":"click","[Amplitude] Element Changed":"change"},rG=function(e){var t,r,n,i,o=Object.values(rJ).reduce(function(e,t){return e[t]=new Set,e},{});if(!e)return o;try{for(var a=(0,v.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;try{try{for(var c=(n=void 0,(0,v.__values)(u.definition)),l=c.next();!l.done;l=c.next()){var f=rJ[l.value.event_type];f&&o[f].add(u.id)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}catch(e){console.warn("Skipping Labeled Event due to malformed definition",null==u?void 0:u.id,e)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o},rY=function(e){var t,r,n,i,o=new Map;try{for(var a=(0,v.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;try{for(var c=(n=void 0,(0,v.__values)(u.conditions)),l=c.next();!l.done;l=c.next()){var f=l.value;if("LABELED_EVENT"===f.type){var d=f.match.eventId,p=o.get(d);p||(p=[],o.set(d,p)),p.push(u)}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return o},rX=function(e,t){var r,n,i,o,a=new Set;try{for(var s=(0,v.__values)(e),u=s.next();!u.done;u=s.next()){var c=u.value,l=t.get(c.id);if(l)try{for(var f=(i=void 0,(0,v.__values)(l)),d=f.next();!d.done;d=f.next()){var p=d.value;a.add(p)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return Array.from(a)},rQ=function(){function e(e,t,r,n){this.groupedLabeledEvents=e,this.labeledEventToTriggerMap=t,this.dataExtractor=r,this.options=n}return e.prototype.evaluate=function(e){var t,r,n=this.options.pageActions;if(!n)return e;var i=rX(Array.from(this.groupedLabeledEvents[e.type]).map(function(e){return n.labeledEvents[e]}).filter(function(t){return t.definition.some(function(t){return rJ[t.event_type]===e.type&&t.filters.every(function(t){return rK(e,t)})})}),this.labeledEventToTriggerMap);try{for(var o=(0,v.__values)(i),a=o.next();!a.done;a=o.next()){var s=a.value;r_(s.actions,e,this.dataExtractor)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return e},e.prototype.update=function(e,t,r){this.groupedLabeledEvents=e,this.labeledEventToTriggerMap=t,this.options=r},e}();(o=c||(c={})).ClickObservable="clickObservable",o.ChangeObservable="changeObservable",o.NavigateObservable="navigateObservable",o.MutationObservable="mutationObservable";var rZ=function(e,t){void 0===e&&(e={}),null==t||t.diagnosticsClient.setTag("plugin.autocapture.version",rh);var r,n,i,o,a,s,u,l,f=e.dataAttributePrefix,d=void 0===f?ti:f,p=e.visualTaggingOptions,h=void 0===p?{enabled:!0,messenger:new rS}:p;e.cssSelectorAllowlist=null!==(r=e.cssSelectorAllowlist)&&void 0!==r?r:tn,e.actionClickAllowlist=null!==(n=e.actionClickAllowlist)&&void 0!==n?n:to,e.debounceTime=null!==(i=e.debounceTime)&&void 0!==i?i:0,e.pageUrlExcludelist=null===(o=e.pageUrlExcludelist)||void 0===o?void 0:o.reduce(function(e,t){if("string"==typeof t&&e.push(t),t instanceof RegExp&&e.push(t),"object"==typeof t&&null!==t&&"pattern"in t)try{e.push(new RegExp(t.pattern))}catch(e){console.warn("Invalid regex pattern: ".concat(t.pattern),e)}return e},[]);var g="@amplitude/plugin-autocapture-browser",y=[],m=new rw(e,t),b=function(){var t,r,n=rV().pipe(tB(function(t){return m.addAdditionalEventProperties(t,"click",e.cssSelectorAllowlist,d)}),t5()),i=rn(document,"change",{capture:!0}).pipe(tB(function(t){return m.addAdditionalEventProperties(t,"change",e.cssSelectorAllowlist,d)}),t5());window.navigation&&(r=rn(window.navigation,"navigate").pipe(tB(function(t){return m.addAdditionalEventProperties(t,"navigate",e.cssSelectorAllowlist,d)}),t5()));var o=rW().pipe(tB(function(t){return m.addAdditionalEventProperties(t,"mutation",e.cssSelectorAllowlist,d)}),t5());return(t={})[c.ClickObservable]=n,t[c.ChangeObservable]=i,t[c.NavigateObservable]=r,t[c.MutationObservable]=o,t},_=rG(Object.values(null!==(s=null===(a=e.pageActions)||void 0===a?void 0:a.labeledEvents)&&void 0!==s?s:{})),w=rY(null!==(l=null===(u=e.pageActions)||void 0===u?void 0:u.triggers)&&void 0!==l?l:[]),S=new rQ(_,w,m,e),E=function(t){var r,n;t&&(e.pageActions=(0,v.__assign)((0,v.__assign)({},e.pageActions),t),_=rG(Object.values(null!==(r=e.pageActions.labeledEvents)&&void 0!==r?r:{})),w=rY(null!==(n=e.pageActions.triggers)&&void 0!==n?n:[]),S.update(_,w,e))};return{name:g,type:"enrichment",setup:function(t,r){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var n,i,o,a,s,u,c,l,f,p;return(0,v.__generator)(this,function(_){var w,x,P,k,O,A,I,T,C,R,j,N,D,M,L,U,F,q,B,z,$,H,W,V,K,J,G,Y,X,Q,Z,ee;return"undefined"==typeof document||(t.fetchRemoteConfig&&(t.remoteConfigClient?t.remoteConfigClient.subscribe("analyticsSDK.pageActions","all",function(e){E(e)}):t.loggerProvider.debug("Remote config client is not provided, skipping remote config fetch")),n=rc(e,e.cssSelectorAllowlist),i=rc(e,e.actionClickAllowlist),x=(w={allObservables:o=b(),options:e,amplitude:r,shouldTrackEvent:n,evaluateTriggers:S.evaluate.bind(S)}).amplitude,P=w.allObservables,k=w.options,O=w.shouldTrackEvent,A=w.evaluateTriggers,R=rF((I=P.clickObservable).pipe(tv(function(e,t){var r,n=!1;e.subscribe(tF(t,function(e){var i=r;r=e,n&&t.next([i,e]),n=!0}))}),rE(function(e){var t=(0,v.__read)(e,2),r=t[0],n=t[1],i=r.event.target!==n.event.target,o=20>=Math.abs(n.event.screenX-r.event.screenX)&&20>=Math.abs(n.event.screenY-r.event.screenY);return i&&!o})),I.pipe((T=k.debounceTime,void 0===C&&(C=rI),tv(function(e,t){var r=null,n=null,i=null,o=function(){if(r){r.unsubscribe(),r=null;var e=n;n=null,t.next(e)}};function a(){var e=i+T,n=C.now();if(n<e){r=this.schedule(void 0,e-n),t.add(r);return}o()}e.subscribe(tF(t,function(e){n=e,i=C.now(),r||(r=C.schedule(a,T),t.add(r))},function(){o(),t.complete()},void 0,function(){n=r=null}))})),tB(function(){return"timeout"}))),a=I.pipe((void 0===j&&(j=rI),N=rz(0,j),function e(t,r){return r?function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rT(1)(rU(e,rN(e)))}(r.pipe(rq(1),tv(function(e,t){e.subscribe(tF(t,tk))})),n.pipe(e(t)))}:t9(function(e,r){return t0(t(e,r)).pipe(rq(1),tB(function(){return e}))})}(function(){return N})),rE(rp),rE(function(e){return O("click",e.closestTrackedAncestor)}),tB(function(e){return A(e)}),tv(function(e,t){var r=[];return e.subscribe(tF(t,function(e){return r.push(e)},function(){t.next(r),t.complete()})),t0(R).subscribe(tF(t,function(){var e=r;r=[],t.next(e)},tk)),function(){r=null}})).subscribe(function(e){var t,r,n=(e.length,ta);try{for(var i=(0,v.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value;null==x||x.track(n,a.targetElementProperties)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}),y.push(a),M=(D={allObservables:o,getEventProperties:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.getEventProperties.apply(m,(0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(e),!1),[d],!1))},amplitude:r,shouldTrackEvent:n,evaluateTriggers:S.evaluate.bind(S)}).amplitude,L=D.allObservables,U=D.getEventProperties,F=D.shouldTrackEvent,q=D.evaluateTriggers,s=L.changeObservable.pipe(rE(rp),rE(function(e){return F("change",e.closestTrackedAncestor)}),tB(function(e){return q(e)})).subscribe(function(e){null==M||M.track("[Amplitude] Element Changed",U("change",e.closestTrackedAncestor))}),y.push(s),z=(B={allObservables:o,options:e,getEventProperties:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.getEventProperties.apply(m,(0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(e),!1),[d],!1))},amplitude:r,shouldTrackEvent:n,shouldTrackActionClick:i}).amplitude,$=B.allObservables,H=B.options,W=B.getEventProperties,V=B.shouldTrackEvent,K=B.shouldTrackActionClick,J=$.clickObservable,G=$.mutationObservable,Y=$.navigateObservable,X=J.pipe(rE(function(e){return!V("click",e.closestTrackedAncestor)}),tB(function(e){var t=rd(e.event.target,H.actionClickAllowlist);return e.closestTrackedAncestor=t,null!==e.closestTrackedAncestor&&(e.targetElementProperties=W(e.type,e.closestTrackedAncestor)),e}),rE(rp),rE(function(e){return K("click",e.closestTrackedAncestor)})),Q=[G],Y&&Q.push(Y),Z=rF.apply(void 0,(0,v.__spreadArray)([],(0,v.__read)(Q),!1)),u=X.pipe((ee=function(e){return Z.pipe(rq(1),function(e,t){var r=rB(e)?{first:e}:"number"==typeof e?{each:e}:e,n=r.first,i=r.each,o=r.with,a=void 0===o?rH:o,s=r.scheduler,u=void 0===s?rI:s,c=r.meta,l=void 0===c?null:c;if(null==n&&null==i)throw TypeError("No timeout provided.");return tv(function(e,t){var r,o,s=null,c=0,f=function(e){o=t8(t,u,function(){try{r.unsubscribe(),t0(a({meta:l,lastValue:s,seen:c})).subscribe(t)}catch(e){t.error(e)}},e)};r=e.subscribe(tF(t,function(e){null==o||o.unsubscribe(),c++,t.next(s=e),i>0&&f(i)},void 0,void 0,function(){(null==o?void 0:o.closed)||null==o||o.unsubscribe(),s=null})),c||f(null!=n?"number"==typeof n?n:+n-u.now():i)})}({first:500,with:function(){return rC}}),tB(function(){return e}))},tv(function(e,t){var r=null,n=0,i=!1,o=function(){return i&&!r&&t.complete()};e.subscribe(tF(t,function(e){null==r||r.unsubscribe(),t0(ee(e,n++)).subscribe(r=tF(t,function(e){return t.next(e)},function(){r=null,o()}))},function(){i=!0,o()}))}))).subscribe(function(e){null==z||z.track(ta,W("click",e.closestTrackedAncestor))}),y.push(u),null===(f=null==t?void 0:t.loggerProvider)||void 0===f||f.log("".concat(g," has been successfully added.")),window.opener&&h.enabled&&(c=e.cssSelectorAllowlist,l=e.actionClickAllowlist,null===(p=h.messenger)||void 0===p||p.setup((0,v.__assign)((0,v.__assign)({dataExtractor:m,logger:null==t?void 0:t.loggerProvider},(null==t?void 0:t.serverZone)&&{endpoint:td[t.serverZone]}),{isElementSelectable:rc(e,(0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(c),!1),(0,v.__read)(l),!1)),cssSelectorAllowlist:c,actionClickAllowlist:l})))),[2]})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,t,r,n;return(0,v.__generator)(this,function(i){try{for(t=(e=(0,v.__values)(y)).next();!t.done;t=e.next())t.value.unsubscribe()}catch(e){r={error:e}}finally{try{t&&!t.done&&(n=e.return)&&n.call(e)}finally{if(r)throw r.error}}return[2]})})}}},r0=(0,v.__spreadArray)(['input[type="button"]','input[type="submit"]','input[type="reset"]','input[type="image"]','input[type="file"]'],(0,v.__read)(["a","button",'[role="button"]','[role="link"]','[role="menuitem"]','[role="menuitemcheckbox"]','[role="menuitemradio"]','[role="option"]','[role="tab"]','[role="treeitem"]','[contenteditable="true" i]']),!1),r1=["*"],r2=Array.isArray;function r4(e,t){var r,n,i,o,a=t.event,s=a.clientX,u=a.clientY;e.yMin=Math.min(null!==(r=e.yMin)&&void 0!==r?r:u,u),e.yMax=Math.max(null!==(n=e.yMax)&&void 0!==n?n:u,u),e.xMin=Math.min(null!==(i=e.xMin)&&void 0!==i?i:s,s),e.xMax=Math.max(null!==(o=e.xMax)&&void 0!==o?o:s,s),e.isOutOfBounds=e.yMax-e.yMin>50||e.xMax-e.xMin>50}function r3(e){var t=e[0],r=e[e.length-1];return{rageClickEvent:(0,v.__assign)({"[Amplitude] Begin Time":new Date(t.timestamp).toISOString(),"[Amplitude] End Time":new Date(r.timestamp).toISOString(),"[Amplitude] Duration":r.timestamp-t.timestamp,"[Amplitude] Clicks":e.map(function(e){return{X:e.event.clientX,Y:e.event.clientY,Time:e.timestamp}}),"[Amplitude] Click Count":e.length},t.targetElementProperties),time:t.timestamp}}var r5=function(e){void 0===e&&(e={});var t,r,n,i,o,a="@amplitude/plugin-frustration-browser",s=[],u=null!==(r=null===(t=e.rageClicks)||void 0===t?void 0:t.cssSelectorAllowlist)&&void 0!==r?r:r1,l=null!==(i=null===(n=e.deadClicks)||void 0===n?void 0:n.cssSelectorAllowlist)&&void 0!==i?i:r0,f=null!==(o=e.dataAttributePrefix)&&void 0!==o?o:ti,d=new rw(e),p=(0,v.__spreadArray)([],(0,v.__read)(new Set((0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(u),!1),(0,v.__read)(l),!1))),!1),h=function(){var e,t,r=rV("pointerdown").pipe(tB(function(e){return d.addAdditionalEventProperties(e,"click",p,f,!0)}),t5());window.navigation&&(t=rn(window.navigation,"navigate").pipe(tB(function(e){return d.addAdditionalEventProperties(e,"navigate",p,f)}),t5()));var n=rW().pipe(tB(function(e){return d.addAdditionalEventProperties(e,"mutation",p,f)}),t5());return(e={})[c.ClickObservable]=r,e[c.ChangeObservable]=new tV,e[c.NavigateObservable]=t,e[c.MutationObservable]=n,e};return{name:a,type:"enrichment",setup:function(t,r){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var n,i,o,c,p,g;return(0,v.__generator)(this,function(y){var m,b,_,w,S,E,x,P,k,O,A,I,T,C,R;return"undefined"==typeof document||(n=rc(e,u),i=rc(e,l),c=function(e){var t,r=e.amplitude,n=e.allObservables,i=e.shouldTrackRageClick,o=n.clickObservable,a=[],s={};function u(e){a=[],s={},e&&(r4(s,e),a.push(e))}return o.pipe(rE(rp),rE(function(e){return i("click",e.closestTrackedAncestor)}),tB(function(e){if(t&&clearTimeout(t),r4(s,e),0===a.length)return a.push(e),null;if((n=a).length>0&&n[n.length-1].closestTrackedAncestor!==e.closestTrackedAncestor||(o=Math.max(0,(i=a).length-4+1),c=i[o],e.timestamp-c.timestamp>=1e3)||s.isOutOfBounds){var n,i,o,c,l=a.length>=4?r3(a):null;return u(e),l}return a.push(e),a.length>=4&&(t=setTimeout(function(){var e=r3(a),t=e.rageClickEvent,n=e.time;r.track(ts,t,{time:n}),u()},1e3)),null}),rE(function(e){return null!==e})).subscribe(function(e){null!==e&&r.track(ts,e.rageClickEvent,{time:e.time})})}({allObservables:o=h(),amplitude:r,shouldTrackRageClick:n}),s.push(c),b=(m={amplitude:r,allObservables:o,getEventProperties:function(e,t){return d.getEventProperties(e,t,f)},shouldTrackDeadClick:i}).amplitude,_=m.allObservables,w=m.getEventProperties,S=m.shouldTrackDeadClick,E=_.clickObservable,x=_.mutationObservable,P=_.navigateObservable,k=E.pipe(rE(rp),rE(function(e){return S("click",e.closestTrackedAncestor)}),rE(function(e){return null===e.event.target.closest('a[target="_blank"]')})),O=[x],P&&O.push(P),A=rF.apply(void 0,(0,v.__spreadArray)([],(0,v.__read)(O),!1)),p=k.pipe(t9(function(e){var t;return(function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return 1===(r=1===(t=r).length&&r2(t[0])?t[0]:t).length?t0(r[0]):new tV((e=r,function(t){for(var r=[],n=function(n){r.push(t0(e[n]).subscribe(tF(t,function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)})))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}))})(new tV(function(r){return t=setTimeout(function(){return r.next(e)},3e3),function(){clearTimeout(t)}}),A.pipe(rq(1),tB(function(){return null}))).pipe(rE(function(e){return null!==e}))}),(void 0===I&&(I=rI),T=rz(3e3,I),C=function(){return T},R=void 0,tv(function(e,t){var r=null!=R?R:{},n=r.leading,i=void 0===n||n,o=r.trailing,a=void 0!==o&&o,s=!1,u=null,c=null,l=!1,f=function(){null==c||c.unsubscribe(),c=null,a&&(h(),l&&t.complete())},d=function(){c=null,l&&t.complete()},p=function(e){return c=t0(C(e)).subscribe(tF(t,f,d))},h=function(){if(s){s=!1;var e=u;u=null,t.next(e),l||p(e)}};e.subscribe(tF(t,function(e){s=!0,u=e,c&&!c.closed||(i?h():p(e))},function(){l=!0,a&&s&&c&&!c.closed||t.complete()}))}))).subscribe(function(e){var t={"[Amplitude] X":e.event.clientX,"[Amplitude] Y":e.event.clientY};b.track("[Amplitude] Dead Click",(0,v.__assign)((0,v.__assign)({},w("click",e.closestTrackedAncestor)),t),{time:e.timestamp})}),s.push(p),null===(g=null==t?void 0:t.loggerProvider)||void 0===g||g.log("".concat(a," has been successfully added."))),[2]})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,t,r,n;return(0,v.__generator)(this,function(i){try{for(t=(e=(0,v.__values)(s)).next();!t.done;t=e.next())t.value.unsubscribe()}catch(e){r={error:e}}finally{try{t&&!t.done&&(n=e.return)&&n.call(e)}finally{if(r)throw r.error}}return[2]})})}}};function r6(e,t,r){e&&function e(t){var r,n,i=t.json,o=t.targetObject,a=t.allowlist,s=t.excludelist,u=t.ancestors,c=t.parentObject,l=t.targetKey;o||(o=i);var f=Object.keys(o);try{for(var d=(0,v.__values)(f),p=d.next();!p.done;p=d.next()){var h,g=p.value,y=(0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(u),!1),[g],!1);(h=o[g],"string"==typeof h||"number"==typeof h||"boolean"==typeof h||null==h)?(!r9(y,a)||r9(y,s))&&delete o[g]:e({json:i,targetObject:o[g],allowlist:a,excludelist:s,ancestors:y,parentObject:o,targetKey:g})}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}0===Object.keys(o).length&&c&&l&&delete c[l]}({json:e,allowlist:t.map(r8),excludelist:r.map(r8),ancestors:[]})}function r8(e){return e.startsWith("/")&&(e=e.slice(1)),e.split("/").map(function(e){return e.replace(/~0/g,"~").replace(/~1/g,"/")})}function r9(e,t){return t.some(function(t){return function e(t,r,n,i){if(void 0===n&&(n=0),void 0===i&&(i=0),i===r.length)return n===t.length;if(n===t.length){for(;i<r.length&&"**"===r[i];)i++;return i===r.length}var o=r[i];if("**"===o){if(i+1===r.length)return!0;for(var a=n;a<=t.length;a++)if(e(t,r,a,i+1))return!0;return!1}return("*"===o||o===t[n])&&e(t,r,n+1,i+1)}(e,t)})}var r7=function(){function e(e){this.request=e}return e.prototype.headers=function(e){void 0===e&&(e=[]);var t,r,n=this.request.headers,i={};if(Array.isArray(n))n.forEach(function(e){var t=(0,v.__read)(e,2),r=t[0],n=t[1];i[r]=n});else if(n instanceof Headers)n.forEach(function(e,t){i[t]=e});else if("object"==typeof n&&null!==n)try{for(var o=(0,v.__values)(Object.entries(n)),a=o.next();!a.done;a=o.next()){var s=(0,v.__read)(a.value,2),u=s[0],c=s[1];i[u]=c}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return na(i,{allow:e})},Object.defineProperty(e.prototype,"bodySize",{get:function(){if("number"==typeof this._bodySize)return this._bodySize;var e=(0,m.l)();if(null==e?void 0:e.TextEncoder){var t=this.request.body;return this._bodySize=nt(t,100),this._bodySize}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this.request.method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return"string"==typeof this.request.body?this.request.body:null},enumerable:!1,configurable:!0}),e.prototype.json=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(r){return 0===e.length?[2,null]:[2,ni(this.body,e,t)]})})},e}(),ne=function(){function e(e,t){this.bodyRaw=e,this.requestHeaders=t}return e.prototype.headers=function(e){return void 0===e&&(e=[]),na(this.requestHeaders,{allow:e})},Object.defineProperty(e.prototype,"bodySize",{get:function(){return nt(this.bodyRaw,100)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return"string"==typeof this.bodyRaw?this.bodyRaw:null},enumerable:!1,configurable:!0}),e.prototype.json=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(r){return 0===e.length?[2,null]:[2,ni(this.body,e,t)]})})},e}();function nt(e,t){var r,n,i,o,a=(0,m.l)(),s=null==a?void 0:a.TextEncoder;if(s){if("string"==typeof e)o=e,i=new s().encode(o).length;else if(e instanceof Blob)i=(o=e).size;else if(e instanceof URLSearchParams)o=e,i=new s().encode(o.toString()).length;else if(ArrayBuffer.isView(e))i=(o=e).byteLength;else if(e instanceof ArrayBuffer)i=(o=e).byteLength;else if(e instanceof FormData){var u=0,c=0;try{for(var l=(0,v.__values)(e.entries()),f=l.next();!f.done;f=l.next()){var d=(0,v.__read)(f.value,2),p=d[0],h=d[1];if(u+=p.length,"string"==typeof h)u+=new s().encode(h).length;else{if(!(h instanceof Blob))return;u+=h.size}if(++c>=t)return}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}i=u}else if(e instanceof ReadableStream){o=e;return}return i}}var nr=function(){function e(e){this.response=e}return e.prototype.headers=function(e){var t;if(void 0===e&&(e=[]),this.response.headers instanceof Headers){var r=this.response.headers,n={};return null===(t=null==r?void 0:r.forEach)||void 0===t||t.call(r,function(e,t){n[t]=e}),na(n,{allow:e})}},Object.defineProperty(e.prototype,"bodySize",{get:function(){if(void 0!==this._bodySize)return this._bodySize;var e,t,r=null===(t=null===(e=this.response.headers)||void 0===e?void 0:e.get)||void 0===t?void 0:t.call(e,"content-length"),n=r?parseInt(r,10):void 0;return this._bodySize=n,n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),e.prototype.text=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(e){switch(e.label){case 0:this.clonedResponse||(this.clonedResponse=this.response.clone()),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Promise.race([this.clonedResponse.text(),new Promise(function(e){return setTimeout(function(){return e(null)},500)})])];case 2:return[2,e.sent()];case 3:return e.sent(),[2,null];case 4:return[2]}})})},e.prototype.json=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(r){switch(r.label){case 0:if(0===e.length)return[2,null];return[4,this.text()];case 1:return[2,ni(r.sent(),e,t)]}})})},e}(),nn=function(){function e(e,t,r,n){this.statusCode=e,this.headersString=t,this.size=r,this.getJson=n}return Object.defineProperty(e.prototype,"bodySize",{get:function(){return this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),e.prototype.headers=function(e){if(void 0===e&&(e=[]),!this.headersString)return{};var t,r,n={},i=this.headersString.split("\r\n");try{for(var o=(0,v.__values)(i),a=o.next();!a.done;a=o.next()){var s=a.value,u=(0,v.__read)(s.split(": "),2),c=u[0],l=u[1];c&&l&&(n[c]=l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return na(n,{allow:e})},e.prototype.json=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),(0,v.__awaiter)(this,void 0,void 0,function(){var r;return(0,v.__generator)(this,function(n){return 0===e.length?[2,null]:(r=this.getJson())?(r6(r,e,t),[2,r]):[2,null]})})},e}();function ni(e,t,r){if(!e)return null;try{var n=JSON.parse(e);return r6(n,t,r),n}catch(e){return null}}(a=l||(l={})).REDACT="redact",a.REMOVE="remove";var no="[REDACTED]",na=function(e,t){var r,n,i=t.allow,o=void 0===i?[]:i,a=t.strategy,s=void 0===a?l.REMOVE:a,u=(0,v.__spreadArray)([],(0,v.__read)(I.EK),!1),c={};try{for(var f=(0,v.__values)(Object.keys(e)),d=f.next();!d.done;d=f.next()){var p=d.value;!function(t){var r=t.toLowerCase();u.find(function(e){return e.toLowerCase()===r})?s===l.REDACT&&(c[t]=no):o.find(function(e){return e.toLowerCase()===r})?c[t]=e[t]:s===l.REDACT&&(c[t]=no)}(p)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return c},ns=function(){function e(e,t,r,n,i,o,a,s,u,c,l){void 0===a&&(a=0),this.type=e,this.method=t,this.timestamp=r,this.startTime=n,this.url=i,this.requestWrapper=o,this.status=a,this.duration=s,this.responseWrapper=u,this.error=c,this.endTime=l}return e.prototype.toSerializable=function(){var e,t,r,n;return Object.fromEntries(Object.entries({type:this.type,method:this.method,url:this.url,timestamp:this.timestamp,status:this.status,duration:this.duration,error:this.error,startTime:this.startTime,endTime:this.endTime,requestHeaders:null===(e=this.requestWrapper)||void 0===e?void 0:e.headers((0,v.__spreadArray)([],(0,v.__read)(I.Wb),!1)),requestBodySize:null===(t=this.requestWrapper)||void 0===t?void 0:t.bodySize,responseHeaders:null===(r=this.responseWrapper)||void 0===r?void 0:r.headers((0,v.__spreadArray)([],(0,v.__read)(I.Wb),!1)),responseBodySize:null===(n=this.responseWrapper)||void 0===n?void 0:n.bodySize}).filter(function(e){var t=(0,v.__read)(e,2);return void 0!==(t[0],t[1])}))},e}(),nu=function(e,t){void 0===t&&(t=(0,j.h)()),this.callback=e,this.id=t},nc=new(function(){function e(t){this.eventCallbacks=new Map,this.isObserving=!1,this.logger=t;var r=(0,m.l)();e.isSupported()&&(this.globalScope=r)}return e.isSupported=function(){var e=(0,m.l)();return!!e&&!!e.fetch},e.prototype.subscribe=function(e,t){var r,n,i,o,a,s,u,c,l,f;if(this.logger||(this.logger=t),this.eventCallbacks.set(e.id,e),!this.isObserving){var d=null===(i=null===(n=null===(r=this.globalScope)||void 0===r?void 0:r.XMLHttpRequest)||void 0===n?void 0:n.prototype)||void 0===i?void 0:i.open,p=null===(s=null===(a=null===(o=this.globalScope)||void 0===o?void 0:o.XMLHttpRequest)||void 0===a?void 0:a.prototype)||void 0===s?void 0:s.send,h=null===(l=null===(c=null===(u=this.globalScope)||void 0===u?void 0:u.XMLHttpRequest)||void 0===c?void 0:c.prototype)||void 0===l?void 0:l.setRequestHeader;d&&p&&h&&this.observeXhr(d,p,h);var v=null===(f=this.globalScope)||void 0===f?void 0:f.fetch;v&&this.observeFetch(v),this.isObserving=!0}},e.prototype.unsubscribe=function(e){this.eventCallbacks.delete(e.id)},e.prototype.triggerEventCallbacks=function(e){var t=this;this.eventCallbacks.forEach(function(r){var n;try{r.callback(e)}catch(e){null===(n=t.logger)||void 0===n||n.debug("an unexpected error occurred while triggering event callbacks",e)}})},e.prototype.handleNetworkRequestEvent=function(e,t,r,n,i,o,a){if(void 0!==o&&void 0!==a){var s,u,c,l,f="GET";if("object"==typeof t&&null!==t&&"url"in t&&"method"in t?(u=t.url,f=t.method):u=null===(s=null==t?void 0:t.toString)||void 0===s?void 0:s.call(t),u)try{var d=new URL(u);u="".concat(d.protocol,"//").concat(d.host).concat(d.pathname).concat(d.search).concat(d.hash)}catch(e){}f=(null==r?void 0:r.method)||f,n&&(c=n.status),i&&(l={name:i.name||"UnknownError",message:i.message||"An unknown error occurred"},c=0);var p=Math.floor(performance.now()-a),h=Math.floor(o+p),v=new ns(e,f,o,o,u,r,c,p,n,l,h);this.triggerEventCallbacks(v)}},e.prototype.getTimestamps=function(){var e,t;return{startTime:null===(e=Date.now)||void 0===e?void 0:e.call(Date),durationStart:null===(t=null==performance?void 0:performance.now)||void 0===t?void 0:t.call(performance)}},e.prototype.observeFetch=function(e){var t=this;this.globalScope&&e&&(this.globalScope.fetch=function(r,n){return(0,v.__awaiter)(t,void 0,void 0,function(){var t,i,o,a,s;return(0,v.__generator)(this,function(u){switch(u.label){case 0:try{t=this.getTimestamps()}catch(e){null===(a=this.logger)||void 0===a||a.debug("an unexpected error occurred while retrieving timestamps",e)}u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e(r,n)];case 2:return i=u.sent(),[3,4];case 3:return o=u.sent(),[3,4];case 4:try{this.handleNetworkRequestEvent("fetch",r,n?new r7(n):void 0,i?new nr(i):void 0,o,null==t?void 0:t.startTime,null==t?void 0:t.durationStart)}catch(e){null===(s=this.logger)||void 0===s||s.debug("an unexpected error occurred while handling fetch",e)}if(i)return[2,i];throw o}})})})},e.createXhrJsonParser=function(e,t){return function(){var r,n;try{if("json"===e.responseType){if(null===(r=t.globalScope)||void 0===r?void 0:r.structuredClone)return t.globalScope.structuredClone(e.response)}else if(["text",""].includes(e.responseType))return JSON.parse(e.responseText)}catch(r){r instanceof Error&&"InvalidStateError"===r.name&&(null===(n=t.logger)||void 0===n||n.error("unexpected error when retrieving responseText. responseType='".concat(e.responseType,"'")))}return null}},e.prototype.observeXhr=function(t,r,n){if(this.globalScope&&t&&r){var i=this.globalScope.XMLHttpRequest.prototype,o=this;i.open=function(){for(var e,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=(0,v.__read)(n,2),s=a[0],u=a[1];try{this.$$AmplitudeAnalyticsEvent=(0,v.__assign)({method:s,url:null===(e=null==u?void 0:u.toString)||void 0===e?void 0:e.call(u),headers:{}},o.getTimestamps())}catch(e){null===(r=o.logger)||void 0===r||r.error("an unexpected error occurred while calling xhr open",e)}return t.apply(this,n)},i.send=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this,a=e.createXhrJsonParser(this,o),s=t[0],u=i.$$AmplitudeAnalyticsEvent;return i.addEventListener("loadend",function(){var e;try{var t=i.getAllResponseHeaders(),r=i.getResponseHeader("content-length"),n=new nn(i.status,t,r?parseInt(r,10):void 0,a),c=i.$$AmplitudeAnalyticsEvent.headers,l=new ne(s,c);u.status=i.status,o.handleNetworkRequestEvent("xhr",{url:u.url,method:u.method},l,n,void 0,u.startTime,u.durationStart)}catch(t){null===(e=o.logger)||void 0===e||e.error("an unexpected error occurred while handling xhr send",t)}}),r.apply(i,t)},i.setRequestHeader=function(e,t){var r;try{this.$$AmplitudeAnalyticsEvent.headers[e]=t}catch(e){null===(r=o.logger)||void 0===r||r.error("an unexpected error occurred while calling xhr setRequestHeader",e)}n.apply(this,[e,t])}}},e}()),nl="[Amplitude] Network Request",nf="500-599";function nd(e,t){return RegExp("^"+t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".*")+"$").test(e)}function np(e,t){var r,n,i=t.split(",");try{for(var o=(0,v.__values)(i),a=o.next();!a.done;a=o.next()){var s=a.value,u=(0,v.__read)(s.split("-").map(Number),2),c=u[0],l=u[1];if(e===c&&void 0===l||e>=c&&e<=l)return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1}function nh(e){var t;if(e)try{var r=null===(t=(0,m.l)())||void 0===t?void 0:t.location.href,n=new URL(e,r),i=n.searchParams.toString(),o=n.hash.replace("#",""),a=n.href,s=n.host;n.hash="",n.search="";var u=n.href;return{query:i,fragment:o,href:a,hrefWithoutQueryOrHash:u,host:s}}catch(e){return}}function nv(e){return"object"!=typeof e||null===e?e?(0,v.__spreadArray)([],(0,v.__read)(I.Wb),!1):void 0:0!==e.length?e:void 0}function ng(e){var t,r;return!(null===(t=null==e?void 0:e.allowlist)||void 0===t?void 0:t.length)&&!(null===(r=null==e?void 0:e.blocklist)||void 0===r?void 0:r.length)}(f||(f={})).NetworkObservable="networkObservable";var ny=function(e){void 0===e&&(e={});var t,r="@amplitude/plugin-network-capture-browser",n=[],i=function(){var e,r=new tV(function(e){var r=new nu(function(t){var r={event:t,timestamp:Date.now(),type:"network"};e.next(r)});return nc.subscribe(r,t),function(){nc.unsubscribe(r)}});return(e={})[f.NetworkObservable]=r,e};return{name:r,type:"enrichment",setup:function(o,a){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var s,u;return(0,v.__generator)(this,function(c){var l,f,d,p,h;return"undefined"==typeof document||(s=i(),t=null==o?void 0:o.loggerProvider,f=(l={allObservables:s,networkTrackingOptions:e,amplitude:a,loggerProvider:t}).allObservables,d=l.networkTrackingOptions,p=l.amplitude,h=l.loggerProvider,u=f.networkObservable.pipe(rE(function(e){return function(e,t){void 0===t&&(t={});var r,n,i=nh(e.url);if(!i)return!1;var o=i.host;return!(!1!==t.ignoreAmplitudeRequests&&(nd(o,"*.amplitude.com")||nd(o,"amplitude.com"))||(null===(r=t.ignoreHosts)||void 0===r?void 0:r.find(function(e){return nd(o,e)}))||!t.captureRules&&void 0!==e.status&&!np(e.status,nf)||t.captureRules&&((0,v.__spreadArray)([],(0,v.__read)(t.captureRules),!1).reverse().find(function(t){var r,i,a;if(r=e.status,i=e.url,a=e.method,n=t.hosts&&!t.hosts.find(function(e){return nd(o,e)})||i&&t.urls&&!ro(i,t.urls)||a&&t.methods&&!t.methods.find(function(e){return a.toLowerCase()===e.toLowerCase()||"*"===e})?void 0:!r&&0!==r||!!np(r,t.statusCodeRange||nf)){var s=nv(t.responseHeaders);if(e.responseWrapper&&s){var u=e.responseWrapper.headers(s);u&&(e.responseHeaders=u)}var c=nv(t.requestHeaders);if(e.requestWrapper&&c){var l=e.requestWrapper.headers(c);l&&(e.requestHeaders=l)}e.responseWrapper&&t.responseBody&&!ng(t.responseBody)&&(e.responseBodyJson=e.responseWrapper.json(t.responseBody.allowlist,t.responseBody.blocklist)),e.requestWrapper&&t.requestBody&&!ng(t.requestBody)&&(e.requestBodyJson=e.requestWrapper.json(t.requestBody.allowlist,t.requestBody.blocklist))}return void 0!==n}),!n)||e.requestWrapper&&function(e,t){if(e.includes("amplitude.com"))try{var r=t.body;if("string"!=typeof r)return!1;if(JSON.parse(r).events.find(function(e){return e.event_type===nl}))return!0}catch(e){}return!1}(o,e.requestWrapper))}(e.event,d)})).subscribe(function(e){var t,r,n,i=e.event,o=nh(i.url);if(o){var a=null===(r=i.responseWrapper)||void 0===r?void 0:r.bodySize,s=null===(n=i.requestWrapper)||void 0===n?void 0:n.bodySize;(function(e,t,r,n){(0,v.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,v.__generator)(this,function(s){switch(s.label){case 0:if(!(t.requestBodyJson||t.responseBodyJson))return[3,2];return[4,Promise.all([t.requestBodyJson,t.responseBodyJson])];case 1:if(o=(i=v.__read.apply(void 0,[s.sent(),2]))[0],a=i[1],o)try{e["[Amplitude] Request Body"]=JSON.stringify(o)}catch(e){null==n||n.debug("Failed to stringify request body",e)}if(a)try{e["[Amplitude] Response Body"]=JSON.stringify(a)}catch(e){null==n||n.debug("Failed to stringify response body")}s.label=2;case 2:return null==r||r.track(nl,e),[2]}})})})(((t={})["[Amplitude] URL"]=o.hrefWithoutQueryOrHash,t["[Amplitude] URL Query"]=o.query,t["[Amplitude] URL Fragment"]=o.fragment,t["[Amplitude] Request Method"]=i.method,t["[Amplitude] Status Code"]=i.status,t["[Amplitude] Start Time"]=i.startTime,t["[Amplitude] Completion Time"]=i.endTime,t["[Amplitude] Duration"]=i.duration,t["[Amplitude] Request Body Size"]=s,t["[Amplitude] Response Body Size"]=a,t["[Amplitude] Request Type"]=i.type,t["[Amplitude] Request Headers"]=i.requestHeaders,t["[Amplitude] Response Headers"]=i.responseHeaders,t),i,p,h)}}),n.push(u),null==t||t.log("".concat(r," has been successfully added."))),[2]})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,t,r,i;return(0,v.__generator)(this,function(o){try{for(t=(e=(0,v.__values)(n)).next();!t.done;t=e.next())t.value.unsubscribe()}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]})})}}},nm=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==r.g?r.g:void 0},nb=function(e,t){var r=e;try{r=decodeURI(e)}catch(e){null==t||t.error("Malformed URI sequence: ",e)}return r};let n_=-1,nw=e=>{addEventListener("pageshow",t=>{t.persisted&&(n_=t.timeStamp,e(t))},!0)},nS=(e,t,r,n)=>{let i,o;return a=>{let s;t.value>=0&&(a||n)&&((o=t.value-(i??0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=(s=t.value)>r[1]?"poor":s>r[0]?"needs-improvement":"good",e(t))}},nE=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},nx=()=>{let e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},nP=()=>{let e=nx();return e?.activationStart??0},nk=(e,t=-1)=>{let r=nx(),n="navigate";return n_>=0?n="back-forward-cache":r&&(document.prerendering||nP()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},nO=new WeakMap;function nA(e,t){return nO.get(e)||nO.set(e,new t),nO.get(e)}class nI{t;i=0;o=[];h(e){if(e.hadRecentInput)return;let t=this.o[0],r=this.o.at(-1);this.i&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}}let nT=(e,t,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return n.observe({type:e,buffered:!0,...r}),n}}catch{}},nC=e=>{let t=!1;return()=>{t||(e(),t=!0)}},nR=-1,nj=new Set,nN=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,nD=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(let e of nj)e();isFinite(nR)||(nR="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",nD,!0))}},nM=()=>{if(nR<0){let e=nP();nR=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime)??nN(),addEventListener("visibilitychange",nD,!0),addEventListener("prerenderingchange",nD,!0),nw(()=>{setTimeout(()=>{nR=nN()})})}return{get firstHiddenTime(){return nR},onHidden(e){nj.add(e)}}},nL=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},nU=[1800,3e3],nF=(e,t={})=>{nL(()=>{let r=nM(),n,i=nk("FCP"),o=nT("paint",e=>{for(let t of e)"first-contentful-paint"===t.name&&(o.disconnect(),t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-nP(),0),i.entries.push(t),n(!0)))});o&&(n=nS(e,i,nU,t.reportAllChanges),nw(r=>{n=nS(e,i=nk("FCP"),nU,t.reportAllChanges),nE(()=>{i.value=performance.now()-r.timeStamp,n(!0)})}))})},nq=[.1,.25],nB=(e,t={})=>{let r=nM();nF(nC(()=>{let n,i=nk("CLS",0),o=nA(t,nI),a=e=>{for(let t of e)o.h(t);o.i>i.value&&(i.value=o.i,i.entries=o.o,n())},s=nT("layout-shift",a);s&&(n=nS(e,i,nq,t.reportAllChanges),r.onHidden(()=>{a(s.takeRecords()),n(!0)}),nw(()=>{o.i=0,n=nS(e,i=nk("CLS",0),nq,t.reportAllChanges),nE(()=>n())}),setTimeout(n))}))},nz=0,n$=1/0,nH=0,nW=e=>{for(let t of e)t.interactionId&&(n$=Math.min(n$,t.interactionId),nz=(nH=Math.max(nH,t.interactionId))?(nH-n$)/7+1:0)},nV=()=>n?nz:performance.interactionCount??0,nK=()=>{"interactionCount"in performance||n||(n=nT("event",nW,{type:"event",buffered:!0,durationThreshold:0}))},nJ=0;class nG{u=[];l=new Map;m;p;v(){nJ=nV(),this.u.length=0,this.l.clear()}L(){let e=Math.min(this.u.length-1,Math.floor((nV()-nJ)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;let t=this.u.at(-1),r=this.l.get(e.interactionId);if(r||this.u.length<10||e.duration>t.P){if(r?e.duration>r.P?(r.entries=[e],r.P=e.duration):e.duration===r.P&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],P:e.duration},this.l.set(r.id,r),this.u.push(r)),this.u.sort((e,t)=>t.P-e.P),this.u.length>10)for(let e of this.u.splice(10))this.l.delete(e.id);this.p?.(r)}}}let nY=e=>{let t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(addEventListener("visibilitychange",e=nC(e),{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))},nX=[200,500],nQ=(e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;let r=nM();nL(()=>{nK();let n,i=nk("INP"),o=nA(t,nG),a=e=>{nY(()=>{for(let t of e)o.h(t);let t=o.L();t&&t.P!==i.value&&(i.value=t.P,i.entries=t.entries,n())})},s=nT("event",a,{durationThreshold:t.durationThreshold??40});n=nS(e,i,nX,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),r.onHidden(()=>{a(s.takeRecords()),n(!0)}),nw(()=>{o.v(),n=nS(e,i=nk("INP"),nX,t.reportAllChanges)}))})};class nZ{m;h(e){this.m?.(e)}}let n0=[2500,4e3],n1=(e,t={})=>{nL(()=>{let r=nM(),n,i=nk("LCP"),o=nA(t,nZ),a=e=>{for(let a of(t.reportAllChanges||(e=e.slice(-1)),e))o.h(a),a.startTime<r.firstHiddenTime&&(i.value=Math.max(a.startTime-nP(),0),i.entries=[a],n())},s=nT("largest-contentful-paint",a);if(s){n=nS(e,i,n0,t.reportAllChanges);let r=nC(()=>{a(s.takeRecords()),s.disconnect(),n(!0)}),o=e=>{e.isTrusted&&(nY(r),removeEventListener(e.type,o,{capture:!0}))};for(let e of["keydown","click","visibilitychange"])addEventListener(e,o,{capture:!0});nw(r=>{n=nS(e,i=nk("LCP"),n0,t.reportAllChanges),nE(()=>{i.value=performance.now()-r.timeStamp,n(!0)})})}})},n2=[800,1800],n4=e=>{document.prerendering?nL(()=>n4(e)):"complete"!==document.readyState?addEventListener("load",()=>n4(e),!0):setTimeout(e)},n3=(e,t={})=>{let r=nk("TTFB"),n=nS(e,r,n2,t.reportAllChanges);n4(()=>{let i=nx();i&&(r.value=Math.max(i.responseStart-nP(),0),r.entries=[i],n(!0),nw(()=>{(n=nS(e,r=nk("TTFB",0),n2,t.reportAllChanges))(!0)}))})};function n5(e){var t,r;return{value:e.value,rating:e.rating,delta:e.delta,navigationType:e.navigationType,id:e.id,timestamp:Math.floor((r=(null===(t=e.entries[0])||void 0===t?void 0:t.startTime)||0,performance.timeOrigin+r)),navigationStart:Math.floor(performance.timeOrigin)}}var n6=function(){var e=null,t=nm(),r=null==t?void 0:t.document,n=null==t?void 0:t.location;return{name:"web-vitals-browser",type:"enrichment",setup:function(t,i){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var o,a;return(0,v.__generator)(this,function(s){return void 0===r||(o=nb((null==n?void 0:n.href)||"",t.loggerProvider),a={"[Amplitude] Page Domain":(null==n?void 0:n.hostname)||"","[Amplitude] Page Location":o,"[Amplitude] Page Path":nb((null==n?void 0:n.pathname)||"",t.loggerProvider),"[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":nb(o.split("?")[0],t.loggerProvider)},n1(function(e){a["[Amplitude] LCP"]=n5(e)}),nF(function(e){a["[Amplitude] FCP"]=n5(e)}),nQ(function(e){a["[Amplitude] INP"]=n5(e)}),nB(function(e){a["[Amplitude] CLS"]=n5(e)}),n3(function(e){a["[Amplitude] TTFB"]=n5(e)}),e=function(){"hidden"===r.visibilityState&&e&&(i.track("[Amplitude] Web Vitals",a),r.removeEventListener("visibilitychange",e),e=null)},r.addEventListener("visibilitychange",e)),[2]})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return[2,e]})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(t){return e&&(null==r||r.removeEventListener("visibilitychange",e)),[2]})})}}},n8=function(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=10),[I.xp,t,e.substring(0,r)].filter(Boolean).join("_")},n9=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},n7=function(e,t,r,n,i){void 0===i&&(i=!0),e.referrer;var o=e.referring_domain,a=(0,v.__rest)(e,["referrer","referring_domain"]),s=t||{},u=(s.referrer,s.referring_domain),c=(0,v.__rest)(s,["referrer","referring_domain"]);if(ie(r.excludeReferrers,e.referring_domain))return n.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!i&&Object.values(e).every(function(e){return!e})&&t)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var l=JSON.stringify(a)!==JSON.stringify(c),f=n9(o||"")!==n9(u||""),d=!t||l||f;return d?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),d},ie=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some(function(e){return e instanceof RegExp?e.test(t):e===t})},it=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},ir=function(){function e(e,t){var r;this.shouldTrackNewCampaign=!1,this.options=(0,v.__assign)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:it(null===(r=t.cookieOptions)||void 0===r?void 0:r.domain)},e),this.storage=t.cookieStorage,this.storageKey=n8(t.apiKey,"MKTG"),this.webExpStorageKey=n8(t.apiKey,"MKTG_ORIGINAL"),this.currentCampaign=I.Lo,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,this.logger=t.loggerProvider,t.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return[4,this.fetchCampaign()];case 1:if(t=v.__read.apply(void 0,[r.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=!this.lastEventTime||B(this.sessionTimeout,this.lastEventTime),!n7(this.currentCampaign,this.previousCampaign,this.options,this.logger,e))return[3,3];return this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){var e;return(0,v.__generator)(this,function(t){switch(t.label){case 0:return[4,this.storage.get(this.webExpStorageKey)];case 1:if(!(e=t.sent()))return[3,3];return[4,this.storage.remove(this.webExpStorageKey)];case 2:t.sent(),t.label=3;case 3:return[4,Promise.all([e||new eZ().parse(),this.storage.get(this.storageKey)])];case 4:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t,r,n=(t=this.currentCampaign,r=this.options,H(Object.entries((0,v.__assign)((0,v.__assign)({},I.Lo),t)).reduce(function(e,t){var n,i=(0,v.__read)(t,2),o=i[0],a=i[1];return(e.setOnce("initial_".concat(o),null!==(n=null!=a?a:r.initialEmptyValue)&&void 0!==n?n:"EMPTY"),a)?e.set(o,a):e.unset(o)},new U.h2)));return e&&(n.event_id=e),n},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),ii="AMP_CURRENT_PAGE",io="AMP_PREVIOUS_PAGE",ia="AMP_URL_INFO";(s=d||(d={})).Direct="direct",s.Internal="internal",s.External="external";var is=new Set([z.J.IDENTIFY,z.J.GROUP_IDENTIFY,z.J.REVENUE]),iu=function(){var e=(0,m.l)(),t=void 0,r=!1,n=void 0,i=!1,o=!1,a=function(e){var t;try{var r=ra(e,n);t=new URL(r).hostname}catch(e){null==n||n.error("Could not parse URL: ",e)}return t},s=function(e){var t="undefined"!=typeof location&&location.hostname||"";switch(e?a(e):void 0){case void 0:return d.Direct;case t:return d.Internal;default:return d.External}},u=function(){(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,n,i,o,a;return(0,v.__generator)(this,function(s){switch(s.label){case 0:if(!(t&&r))return[3,3];return[4,t.get(ia)];case 1:return e=s.sent(),n=ra("undefined"!=typeof location&&location.href||""),i=(null==e?void 0:e[ii])||"",o=void 0,o=n===i?(null==e?void 0:e[io])||"":i||document.referrer||"",[4,t.set(ia,((a={})[ii]=n,a[io]=o,a))];case 2:s.sent(),s.label=3;case 3:return[2]}})})};return{name:"@amplitude/plugin-page-url-enrichment-browser",type:"enrichment",setup:function(a,s){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(s){switch(s.label){case 0:if((n=a.loggerProvider).log("Installing @amplitude/plugin-page-url-enrichment-browser"),o=!0,!e)return[3,2];return[4,(t=new e_(e.sessionStorage)).isEnabled()];case 1:r=s.sent(),e.addEventListener("popstate",u),i||(e.history.pushState=new Proxy(e.history.pushState,{apply:function(e,t,r){var n=(0,v.__read)(r,3),i=n[0],a=n[1],s=n[2];e.apply(t,[i,a,s]),o&&u()}}),e.history.replaceState=new Proxy(e.history.replaceState,{apply:function(e,t,r){var n=(0,v.__read)(r,3),i=n[0],a=n[1],s=n[2];e.apply(t,[i,a,s]),o&&u()}}),i=!0),s.label=2;case 2:return[2]}})})},execute:function(e){return(0,v.__awaiter)(void 0,void 0,void 0,function(){var n,i,o,a,u;return(0,v.__generator)(this,function(c){switch(c.label){case 0:if(n=ra("undefined"!=typeof location&&location.href||""),!(t&&r))return[3,5];return[4,t.get(ia)];case 1:if(null==(i=c.sent())?void 0:i[ii])return[3,3];return[4,t.set(ia,((u={})[ii]=n,u[io]=document.referrer||"",u))];case 2:c.sent(),c.label=3;case 3:return[4,t.get(ia)];case 4:if(o=c.sent(),a="",o&&(a=o[io]||""),is.has(e.event_type))return[2,e];e.event_properties=(0,v.__assign)((0,v.__assign)({},e.event_properties||{}),{"[Amplitude] Page Domain":ic(e,"[Amplitude] Page Domain","undefined"!=typeof location&&location.hostname||""),"[Amplitude] Page Location":ic(e,"[Amplitude] Page Location",n),"[Amplitude] Page Path":ic(e,"[Amplitude] Page Path","undefined"!=typeof location&&ra(location.pathname)||""),"[Amplitude] Page Title":ic(e,"[Amplitude] Page Title",eQ(eX)),"[Amplitude] Page URL":ic(e,"[Amplitude] Page URL",n.split("?")[0]),"[Amplitude] Previous Page Location":a,"[Amplitude] Previous Page Type":s(a)}),c.label=5;case 5:return[2,e]}})})},teardown:function(){return(0,v.__awaiter)(void 0,void 0,void 0,function(){return(0,v.__generator)(this,function(n){switch(n.label){case 0:if(e&&(e.removeEventListener("popstate",u),o=!1),!(t&&r))return[3,2];return[4,t.set(ia,{})];case 1:n.sent(),n.label=2;case 2:return[2]}})})}}};function ic(e,t,r){return(e.event_properties||(e.event_properties={}),void 0===e.event_properties[t])?r:e.event_properties[t]}var il=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._diagnosticsSampleRate=0,t}return(0,v.__extends)(t,e),t.prototype.init=function(e,t,r){var n,i;return void 0===e&&(e=""),arguments.length>2?(n=t,i=r):"string"==typeof t?(n=t,i=void 0):(n=null==t?void 0:t.userId,i=t),(0,g.S)(this._init((0,v.__assign)((0,v.__assign)({},i),{userId:n,apiKey:e})))},t.prototype._init=function(t){var r,n,i,o,a;return(0,v.__awaiter)(this,void 0,void 0,function(){var s,u,c,l,f,d,p,h,g,m=this;return(0,v.__generator)(this,function(b){var _,w,S,P,A;switch(b.label){case 0:if(this.initializing)return[2];return this.initializing=!0,[4,(_=t.apiKey,w=t,S=this,void 0===w&&(w={}),(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,t,r,n,i,o,a,s,u,c,l,f,d,p,h,g,y,m,b,E,P,k,O,A,T,C,R,N,D,M,L,U,F,q,B,z,$,H,W,V,K,J,G,Y,X;return(0,v.__generator)(this,function(Q){var Z,ee,et;switch(Q.label){case 0:if(e=w.identityStorage||ez,P={},!(e!==ez))return[3,1];return r="",[3,5];case 1:if(!(null!==(O=null===(k=w.cookieOptions)||void 0===k?void 0:k.domain)&&void 0!==O))return[3,2];return n=O,[3,4];case 2:return[4,(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,t,r,n,i,o;return(0,v.__generator)(this,function(a){switch(a.label){case 0:return[4,new eg().isEnabled()];case 1:if(!a.sent()||"undefined"==typeof location||!location.hostname)return[2,""];for(e=(null!=Z?Z:location.hostname).split("."),t=[],r="AMP_TLDTEST",n=e.length-2;n>=0;--n)t.push(e.slice(n).join("."));n=0,a.label=2;case 2:if(!(n<t.length))return[3,7];return[4,(o=new eg({domain:"."+(i=t[n])})).set(r,1)];case 3:return a.sent(),[4,o.get(r)];case 4:if(!a.sent())return[3,6];return[4,o.remove(r)];case 5:return a.sent(),[2,"."+i];case 6:return n++,[3,2];case 7:return[2,""]}})})];case 3:n=Q.sent(),Q.label=4;case 4:r=n,Q.label=5;case 5:return t=v.__assign.apply(void 0,[(P.domain=r,P.expiration=365,P.sameSite="Lax",P.secure=!1,P.upgrade=!0,P),w.cookieOptions]),[4,(ee=i=eH(w.identityStorage,t),void 0===(et=null===(T=null===(A=w.cookieOptions)||void 0===A?void 0:A.upgrade)||void 0===T||T)&&(et=!0),(0,v.__awaiter)(void 0,void 0,void 0,function(){var e,t,r,n,i,o,a,s,u;return(0,v.__generator)(this,function(c){switch(c.label){case 0:return e="".concat(I.xp.toLowerCase(),"_").concat(_.substring(0,6)),[4,ee.getRaw(e)];case 1:if(!(t=c.sent()))return[2,{optOut:!1}];if(!et)return[3,3];return[4,ee.remove(e)];case 2:c.sent(),c.label=3;case 3:return n=(r=(0,v.__read)(t.split("."),6))[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],[2,{deviceId:n,userId:eO(i),sessionId:ek(a),lastEventId:ek(u),lastEventTime:ek(s),optOut:!!o}]}})}))];case 6:return o=Q.sent(),[4,i.get(ev(_))];case 7:return a=Q.sent(),c=!(u=(s=x()).ampTimestamp?Number(s.ampTimestamp):void 0)||Date.now()<u,l=null!==(M=null!==(D=null!==(N=null!==(C=w.deviceId)&&void 0!==C?C:c?null!==(R=s.ampDeviceId)&&void 0!==R?R:s.deviceId:void 0)&&void 0!==N?N:null==a?void 0:a.deviceId)&&void 0!==D?D:o.deviceId)&&void 0!==M?M:(0,j.h)(),f=null!==(L=null==a?void 0:a.lastEventId)&&void 0!==L?L:o.lastEventId,d=null!==(U=null==a?void 0:a.lastEventTime)&&void 0!==U?U:o.lastEventTime,p=null!==(q=null!==(F=w.optOut)&&void 0!==F?F:null==a?void 0:a.optOut)&&void 0!==q?q:o.optOut,h=null!==(B=null==a?void 0:a.sessionId)&&void 0!==B?B:o.sessionId,g=null!==($=null!==(z=w.userId)&&void 0!==z?z:null==a?void 0:a.userId)&&void 0!==$?$:o.userId,S.previousSessionDeviceId=null!==(H=null==a?void 0:a.deviceId)&&void 0!==H?H:o.deviceId,S.previousSessionUserId=null!==(W=null==a?void 0:a.userId)&&void 0!==W?W:o.userId,y={ipAddress:null===(K=null===(V=w.trackingOptions)||void 0===V?void 0:V.ipAddress)||void 0===K||K,language:null===(G=null===(J=w.trackingOptions)||void 0===J?void 0:J.language)||void 0===G||G,platform:null===(X=null===(Y=w.trackingOptions)||void 0===Y?void 0:Y.platform)||void 0===X||X},m=null==a?void 0:a.pageCounter,b=null==a?void 0:a.debugLogsEnabled,void 0!==w.autocapture&&(w.defaultTracking=w.autocapture),[4,(E=new e$(_,w.appVersion,i,t,w.defaultTracking,w.autocapture,l,w.flushIntervalMillis,w.flushMaxRetries,w.flushQueueSize,e,w.ingestionMetadata,w.instanceName,f,d,w.loggerProvider,w.logLevel,w.minIdLength,w.offline,p,w.partnerId,w.plan,w.serverUrl,w.serverZone,h,w.sessionTimeout,w.storageProvider,y,w.transport,w.useBatch,w.fetchRemoteConfig,g,m,b,w.networkTrackingOptions,w.identify,w.enableDiagnostics,void 0,void 0,w.remoteConfig)).storageProvider.isEnabled()];case 8:return Q.sent()||(E.loggerProvider.warn("Storage provider ".concat(E.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),E.storageProvider=new ed),[2,E]}})}))];case 1:if(!(null===(r=(s=b.sent()).remoteConfig)||void 0===r?void 0:r.fetchRemoteConfig))return[3,3];return u=new y.p8(s.apiKey,s.loggerProvider,s.serverZone,null===(n=s.remoteConfig)||void 0===n?void 0:n.serverUrl),[4,new Promise(function(e){null==u||u.subscribe("configs.analyticsSDK.browserSDK","all",function(t,r,n){s.loggerProvider.debug("Remote configuration received:",JSON.stringify({remoteConfig:t,source:r,lastFetch:n},null,2)),t&&function(e,t){if(e){!function e(t){if(!("object"!=typeof t||null===t||Array.isArray(t))){var r,n,i,o,a,s,u,c,l,f,d,p=Object.keys(t);try{for(var h=(0,v.__values)(p),g=h.next();!g.done;g=h.next()){var y=g.value;try{var m=t[y];"boolean"==typeof(null==m?void 0:m.enabled)&&(m.enabled?(delete m.enabled,0===Object.keys(m).length&&(t[y]=!0)):t[y]=!1),e(m)}catch(e){}}}catch(e){r={error:e}}finally{try{g&&!g.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}try{if(null===(l=null===(c=null===(u=t.autocapture)||void 0===u?void 0:u.networkTracking)||void 0===c?void 0:c.captureRules)||void 0===l?void 0:l.length)try{for(var b=(0,v.__values)(t.autocapture.networkTracking.captureRules),_=b.next();!_.done;_=b.next()){var w=_.value;try{for(var S=(a=void 0,(0,v.__values)(["responseHeaders","requestHeaders"])),E=S.next();!E.done;E=S.next()){var x=E.value,P=null!==(f=w[x])&&void 0!==f?f:{},k=P.captureSafeHeaders,O=P.allowlist;if(k||O){if(void 0!==O&&!Array.isArray(O)){delete w[x];continue}w[x]=(0,v.__spreadArray)((0,v.__spreadArray)([],(0,v.__read)(k?I.Wb:[]),!1),(0,v.__read)(null!=O?O:[]),!1)}}}catch(e){a={error:e}}finally{try{E&&!E.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}}}catch(e){i={error:e}}finally{try{_&&!_.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}}catch(e){}var A=null===(d=t.autocapture)||void 0===d?void 0:d.frustrationInteractions;A&&(A.rageClick&&(A.rageClicks=A.rageClick,delete A.rageClick),A.deadClick&&(A.deadClicks=A.deadClick,delete A.deadClick))}}(e);try{var r,n,i,o,a,s,u;if(t.loggerProvider.debug("Update browser config with remote configuration:",JSON.stringify(e)),e&&"autocapture"in e){if("boolean"==typeof e.autocapture&&(t.autocapture=e.autocapture),"object"==typeof e.autocapture&&null!==e.autocapture){var c=(0,v.__assign)({},e.autocapture);if(void 0===t.autocapture&&(t.autocapture=e.autocapture),"object"==typeof e.autocapture.elementInteractions&&null!==e.autocapture.elementInteractions&&(null===(i=e.autocapture.elementInteractions.pageUrlAllowlistRegex)||void 0===i?void 0:i.length)){c.elementInteractions=(0,v.__assign)({},e.autocapture.elementInteractions);var l=c.elementInteractions,f=null!==(o=l.pageUrlAllowlist)&&void 0!==o?o:[],d=e.autocapture.elementInteractions.pageUrlAllowlistRegex;l.pageUrlAllowlist=tr(f,d,t),delete l.pageUrlAllowlistRegex}if("object"==typeof e.autocapture.networkTracking&&null!==e.autocapture.networkTracking&&(null===(a=e.autocapture.networkTracking.captureRules)||void 0===a?void 0:a.length)){c.networkTracking=(0,v.__assign)({},e.autocapture.networkTracking);var p=c.networkTracking,h=null!==(s=p.captureRules)&&void 0!==s?s:[];try{for(var g=(0,v.__values)(h),y=g.next();!y.done;y=g.next()){var m=y.value;m.urls=tr(null!==(u=m.urls)&&void 0!==u?u:[],m.urlsRegex,t),delete m.urlsRegex}}catch(e){r={error:e}}finally{try{y&&!y.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}}"boolean"==typeof t.autocapture&&(t.autocapture=(0,v.__assign)({attribution:t.autocapture,fileDownloads:t.autocapture,formInteractions:t.autocapture,pageViews:t.autocapture,sessions:t.autocapture,elementInteractions:t.autocapture,webVitals:t.autocapture,frustrationInteractions:t.autocapture},c)),"object"==typeof t.autocapture&&(t.autocapture=(0,v.__assign)((0,v.__assign)({},t.autocapture),c))}t.defaultTracking=t.autocapture}t.loggerProvider.debug("Browser config after remote config update:",JSON.stringify(t))}catch(e){t.loggerProvider.error("Failed to apply remote configuration because of error: ",e)}}}(t,s),e()})})];case 2:b.sent(),b.label=3;case 3:return(c=new E(s.apiKey,s.loggerProvider,s.serverZone,{enabled:s.enableDiagnostics,sampleRate:s.diagnosticsSampleRate||this._diagnosticsSampleRate})).setTag("library","".concat(el,"/").concat(ec)),[4,e.prototype._init.call(this,s)];case 4:if(b.sent(),this.logBrowserOptions(s),this.config.diagnosticsClient=c,this.config.remoteConfigClient=u,!G(this.config.defaultTracking))return[3,6];return l=G((P=this.config).defaultTracking)&&P.defaultTracking&&"object"==typeof P.defaultTracking&&P.defaultTracking.attribution&&"object"==typeof P.defaultTracking.attribution?(0,v.__assign)({},P.defaultTracking.attribution):{},this.webAttribution=new ir(l,this.config),[4,this.webAttribution.init()];case 5:b.sent(),b.label=6;case 6:if(p=!(d=(f=x()).ampTimestamp?Number(f.ampTimestamp):void 0)||Date.now()<d,this.config.identify&&this.identify(this.config.identify),h=p&&!Number.isNaN(Number(f.ampSessionId))?Number(f.ampSessionId):void 0,this.setSessionId(null!==(a=null!==(o=null!==(i=t.sessionId)&&void 0!==i?i:h)&&void 0!==o?o:this.config.sessionId)&&void 0!==a?a:Date.now()),(g=(0,k.bM)(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),!(this.config.offline!==O))return[3,8];return[4,this.add(tt()).promise];case 7:b.sent(),b.label=8;case 8:return[4,this.add(new M({diagnosticsClient:c})).promise];case 9:return b.sent(),[4,this.add(new ef).promise];case 10:return b.sent(),[4,this.add(new L).promise];case 11:if(b.sent(),te(this.config),!J(this.config.defaultTracking,"fileDownloads"))return[3,13];return this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(e9()).promise];case 12:b.sent(),b.label=13;case 13:if(!J(this.config.defaultTracking,"formInteractions"))return[3,15];return this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(e5()).promise];case 14:b.sent(),b.label=15;case 15:if(!Y(this.config.defaultTracking))return[3,17];return this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(e1(ei(this.config))).promise];case 16:b.sent(),b.label=17;case 17:if(!Z(this.config.autocapture))return[3,19];return this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(rZ(et(this.config),{diagnosticsClient:c})).promise];case 18:b.sent(),b.label=19;case 19:if(!ee(this.config.autocapture))return[3,21];return this.config.loggerProvider.debug("Adding frustration interactions plugin"),[4,this.add(r5(er(this.config))).promise];case 20:b.sent(),b.label=21;case 21:if(!Q(this.config.autocapture))return[3,23];return this.config.loggerProvider.debug("Adding network tracking plugin"),[4,this.add(ny(en(this.config))).promise];case 22:b.sent(),b.label=23;case 23:if(!("boolean"==typeof(A=this.config.autocapture)?A:"object"==typeof A&&!0===A.webVitals))return[3,25];return this.config.loggerProvider.debug("Adding web vitals plugin"),[4,this.add(n6()).promise];case 24:b.sent(),b.label=25;case 25:if(!J(this.config.autocapture,"pageUrlEnrichment"))return[3,27];return this.config.loggerProvider.debug("Adding referrer page url plugin"),[4,this.add(iu()).promise];case 26:b.sent(),b.label=27;case 27:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 28:return b.sent(),g.eventBridge.setEventReceiver(function(e){var t=e.eventProperties||{},r=t.time,n=(0,v.__rest)(t,["time"]);m.track(e.eventType,n,"number"==typeof r?{time:r}:void 0)}),[2]}})})},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){if(!this.config){this.q.push(this.setUserId.bind(this,e));return}this.config.loggerProvider.debug("function setUserId: ",e),(e!==this.config.userId||void 0===e)&&(this.config.userId=e,this.timeline.onIdentityChanged({userId:e}),(0,k.x)(e,this.config.instanceName))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){if(!this.config){this.q.push(this.setDeviceId.bind(this,e));return}this.config.loggerProvider.debug("function setDeviceId: ",e),e!==this.config.deviceId&&(this.config.deviceId=e,this.timeline.onIdentityChanged({deviceId:e}),(0,k.Sb)(e,this.config.instanceName))},t.prototype.reset=function(){this.setDeviceId((0,j.h)()),this.setUserId(void 0)},t.prototype.getIdentity=function(){var e,t;return{deviceId:null===(e=this.config)||void 0===e?void 0:e.deviceId,userId:null===(t=this.config)||void 0===t?void 0:t.userId,userProperties:this.userProperties}},t.prototype.getOptOut=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.optOut},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t,r=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,e)),(0,g.S)(Promise.resolve());if(e===this.config.sessionId)return(0,g.S)(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",e);var n=this.getSessionId();n!==e&&this.timeline.onSessionIdChanged(e);var i=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,this.config.pageCounter=0,X(this.config.defaultTracking)&&(n&&i&&r.push(this.track(ej,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:n,time:i+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var a=this.trackCampaignEventIfNeeded(++o,r);return X(this.config.defaultTracking)&&r.push(this.track(eR,void 0,{event_id:a?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,(0,g.S)(Promise.all(r))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(e){if(!this.config){this.q.push(this.setTransport.bind(this,e));return}this.config.transportProvider=eW(e)},t.prototype.identify=function(t,r){if(es(t)){var n=t._q;t._q=[],t=ea(new U.h2,n)}return(null==r?void 0:r.user_id)&&this.setUserId(r.user_id),(null==r?void 0:r.device_id)&&this.setDeviceId(r.device_id),e.prototype.identify.call(this,t,r)},t.prototype.groupIdentify=function(t,r,n,i){if(es(n)){var o=n._q;n._q=[],n=ea(new U.h2,o)}return e.prototype.groupIdentify.call(this,t,r,n,i)},t.prototype.revenue=function(t,r){if(es(t)){var n=t._q;t._q=[],t=ea(new q,n)}return e.prototype.revenue.call(this,t,r)},t.prototype.trackCampaignEventIfNeeded=function(e,t){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var r=this.webAttribution.generateCampaignEvent(e);return t?t.push(this.track(r).promise):this.track(r),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(t){return(0,v.__awaiter)(this,void 0,void 0,function(){var r,n,i;return(0,v.__generator)(this,function(o){return r=Date.now(),n=B(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type===eR||t.event_type===ej||t.session_id&&t.session_id!==this.getSessionId()||(n||i?(this.setSessionId(r),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):n||this.trackCampaignEventIfNeeded()),t.event_type===z.J.IDENTIFY&&t.user_properties&&(this.userProperties=this.getOperationAppliedUserProperties(t.user_properties)),[2,e.prototype.process.call(this,t)]})})},t.prototype.logBrowserOptions=function(e){try{var t=(0,v.__assign)((0,v.__assign)({},e),{apiKey:e.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(t))}catch(e){this.config.loggerProvider.error("Error logging browser config",e)}},t.prototype._setDiagnosticsSampleRate=function(e){if(!(e>1)&&!(e<0)&&!this.config){this._diagnosticsSampleRate=e;return}},t}(K),id=function(){var e=new il;return{init:(0,h.w_)(e.init.bind(e),"init",(0,h.yh)(e),(0,h.zn)(e,["config"])),add:(0,h.w_)(e.add.bind(e),"add",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.plugins"])),remove:(0,h.w_)(e.remove.bind(e),"remove",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.plugins"])),track:(0,h.w_)(e.track.bind(e),"track",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.queue.length"])),logEvent:(0,h.w_)(e.logEvent.bind(e),"logEvent",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.queue.length"])),identify:(0,h.w_)(e.identify.bind(e),"identify",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.queue.length"])),groupIdentify:(0,h.w_)(e.groupIdentify.bind(e),"groupIdentify",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.queue.length"])),setGroup:(0,h.w_)(e.setGroup.bind(e),"setGroup",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.queue.length"])),revenue:(0,h.w_)(e.revenue.bind(e),"revenue",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.queue.length"])),flush:(0,h.w_)(e.flush.bind(e),"flush",(0,h.yh)(e),(0,h.zn)(e,["config.apiKey","timeline.queue.length"])),getUserId:(0,h.w_)(e.getUserId.bind(e),"getUserId",(0,h.yh)(e),(0,h.zn)(e,["config","config.userId"])),setUserId:(0,h.w_)(e.setUserId.bind(e),"setUserId",(0,h.yh)(e),(0,h.zn)(e,["config","config.userId"])),getDeviceId:(0,h.w_)(e.getDeviceId.bind(e),"getDeviceId",(0,h.yh)(e),(0,h.zn)(e,["config","config.deviceId"])),setDeviceId:(0,h.w_)(e.setDeviceId.bind(e),"setDeviceId",(0,h.yh)(e),(0,h.zn)(e,["config","config.deviceId"])),reset:(0,h.w_)(e.reset.bind(e),"reset",(0,h.yh)(e),(0,h.zn)(e,["config","config.userId","config.deviceId"])),getSessionId:(0,h.w_)(e.getSessionId.bind(e),"getSessionId",(0,h.yh)(e),(0,h.zn)(e,["config"])),setSessionId:(0,h.w_)(e.setSessionId.bind(e),"setSessionId",(0,h.yh)(e),(0,h.zn)(e,["config"])),extendSession:(0,h.w_)(e.extendSession.bind(e),"extendSession",(0,h.yh)(e),(0,h.zn)(e,["config"])),setOptOut:(0,h.w_)(e.setOptOut.bind(e),"setOptOut",(0,h.yh)(e),(0,h.zn)(e,["config"])),setTransport:(0,h.w_)(e.setTransport.bind(e),"setTransport",(0,h.yh)(e),(0,h.zn)(e,["config"])),getIdentity:(0,h.w_)(e.getIdentity.bind(e),"getIdentity",(0,h.yh)(e),(0,h.zn)(e,["config"])),getOptOut:(0,h.w_)(e.getOptOut.bind(e),"getOptOut",(0,h.yh)(e),(0,h.zn)(e,["config"])),_setDiagnosticsSampleRate:(0,h.w_)(e._setDiagnosticsSampleRate.bind(e),"_setDiagnosticsSampleRate",(0,h.yh)(e),(0,h.zn)(e,["config"]))}},ip=id(),ih=r(16453),iv=ip.add,ig=ip.extendSession,iy=ip.flush,im=ip.getDeviceId,ib=ip.getIdentity,i_=ip.getOptOut,iw=ip.getSessionId,iS=ip.getUserId,iE=ip.groupIdentify,ix=ip.identify,iP=ip.init,ik=ip.logEvent,iO=ip.remove,iA=ip.reset,iI=ip.revenue,iT=ip.setDeviceId,iC=ip.setGroup,iR=ip.setOptOut,ij=ip.setSessionId,iN=ip.setTransport,iD=ip.setUserId,iM=ip.track,iL=ip._setDiagnosticsSampleRate},96365:function(e,t,r){"use strict";r.d(t,{V:function(){return d}});var n=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:i(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),i=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},o=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},e}(),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}"function"==typeof SuppressedError&&SuppressedError;var c=function(e,t){var r,n,i=typeof e;if(i!==typeof t)return!1;try{for(var o=s(["string","number","boolean","undefined"]),a=o.next();!a.done;a=o.next())if(a.value===i)return e===t}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;var u=Array.isArray(e),l=Array.isArray(t);if(u!==l)return!1;if(u&&l){for(var f=0;f<e.length;f++)if(!c(e[f],t[f]))return!1}else{if(!c(Object.keys(e).sort(),Object.keys(t).sort()))return!1;var d=!0;return Object.keys(e).forEach(function(r){c(e[r],t[r])||(d=!1)}),d}return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=Array(r);r--;)n[r]=[t[r],e[t[r]]];return n});var l=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=a({},this.identity.userProperties),r=a(a({},this.identity),{userProperties:t});return{setUserId:function(e){return r.userId=e,this},setDeviceId:function(e){return r.deviceId=e,this},setUserProperties:function(e){return r.userProperties=e,this},setOptOut:function(e){return r.optOut=e,this},updateUserProperties:function(e){var t,n,i,o,a,c,l=r.userProperties||{};try{for(var f=s(Object.entries(e)),d=f.next();!d.done;d=f.next()){var p=u(d.value,2),h=p[0],v=p[1];switch(h){case"$set":try{for(var g=(i=void 0,s(Object.entries(v))),y=g.next();!y.done;y=g.next()){var m=u(y.value,2),b=m[0],_=m[1];l[b]=_}}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}break;case"$unset":try{for(var w=(a=void 0,s(Object.keys(v))),S=w.next();!S.done;S=w.next()){var b=S.value;delete l[b]}}catch(e){a={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(a)throw a.error}}break;case"$clearAll":l={}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return r.userProperties=l,this},commit:function(){return e.setIdentity(r),this}}},e.prototype.getIdentity=function(){return a({},this.identity)},e.prototype.setIdentity=function(e){var t=a({},this.identity);this.identity=a({},e),c(t,this.identity)||this.listeners.forEach(function(t){t(e)})},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),f="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:self,d=function(){function e(){this.identityStore=new l,this.eventBridge=new o,this.applicationContextProvider=new n}return e.getInstance=function(t){return f.analyticsConnectorInstances||(f.analyticsConnectorInstances={}),f.analyticsConnectorInstances[t]||(f.analyticsConnectorInstances[t]=new e),f.analyticsConnectorInstances[t]},e}()},40974:function(e,t,r){"use strict";r.d(t,{Sb:function(){return s},bM:function(){return o},x:function(){return a}});var n=r(96365),i=r(38395),o=function(e){return void 0===e&&(e=i.JE),n.V.getInstance(e)},a=function(e,t){o(t).identityStore.editIdentity().setUserId(e).commit()},s=function(e,t){o(t).identityStore.editIdentity().setDeviceId(e).commit()}},94583:function(e,t,r){"use strict";r.d(t,{De:function(){return s},Dg:function(){return c},RG:function(){return u}});var n=r(38395),i=r(51051),o=r(73974),a=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:n.JE,logLevel:o.i.Warn,loggerProvider:new i.Y,offline:!1,optOut:!1,serverUrl:n.EG,serverZone:"US",useBatch:!1}},s=function(){function e(e){this._optOut=!1;var t,r,n,i,o=a();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(r=e.logLevel)&&void 0!==r?r:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:o.offline,this.optOut=null!==(n=e.optOut)&&void 0!==n?n:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(i=e.useBatch)&&void 0!==i?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var s=u(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=s.serverZone,this.serverUrl=s.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),u=function(e,t,r){if(void 0===e&&(e=""),void 0===t&&(t=a().serverZone),void 0===r&&(r=a().useBatch),e)return{serverUrl:e,serverZone:void 0};var i,o=["US","EU"].includes(t)?t:a().serverZone;return{serverZone:o,serverUrl:(i=r,"EU"===o?i?n.RE:n.y_:i?n.h8:n.EG)}},c=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},e}()},47120:function(e,t,r){"use strict";r.d(t,{l:function(){return n}});var n=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==r.g?r.g:void 0}},6242:function(e,t,r){"use strict";r.d(t,{h2:function(){return u},rk:function(){return c}});var n,i,o=r(40275),a=r(38395),s=r(26263),u=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return(0,o.__assign)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(i.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(i.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(i.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(i.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(i.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(i.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(i.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(i.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(i.UNSET,e,a.q$),this},e.prototype.clearAll=function(){return this._properties={},this._properties[i.CLEAR_ALL]=a.q$,this},e.prototype._safeSet=function(e,t,r){if(this._validate(e,t,r)){var n=this._properties[e];return void 0===n&&(n={},this._properties[e]=n),n[t]=r,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,r){return!(void 0!==this._properties[i.CLEAR_ALL]||this._propertySet.has(t))&&(e===i.ADD?"number"==typeof r:e===i.UNSET||e===i.REMOVE||(0,s.T)(t,r))},e}();(n=i||(i={})).SET="$set",n.SET_ONCE="$setOnce",n.ADD="$add",n.APPEND="$append",n.PREPEND="$prepend",n.REMOVE="$remove",n.PREINSERT="$preInsert",n.POSTINSERT="$postInsert",n.UNSET="$unset",n.CLEAR_ALL="$clearAll";var c=[i.CLEAR_ALL,i.UNSET,i.SET,i.SET_ONCE,i.ADD,i.APPEND,i.PREPEND,i.PREINSERT,i.POSTINSERT,i.REMOVE]},51051:function(e,t,r){"use strict";r.d(t,{Y:function(){return o}});var n=r(73974),i="Amplitude Logger ",o=function(){function e(){this.logLevel=n.i.None}return e.prototype.disable=function(){this.logLevel=n.i.None},e.prototype.enable=function(e){void 0===e&&(e=n.i.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.i.Verbose||console.log("".concat(i,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.i.Warn||console.warn("".concat(i,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.i.Error||console.error("".concat(i,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<n.i.Debug||console.log("".concat(i,"[Debug]: ").concat(e.join(" ")))},e}()},67493:function(e,t,r){"use strict";r.d(t,{p8:function(){return a}});var n=r(40275),i=function(){function e(e,t){this.key="AMP_remote_config_".concat(e.substring(0,10)),this.logger=t}return e.prototype.fetchConfig=function(){var e=null,t={remoteConfig:null,lastFetch:new Date};try{e=localStorage.getItem(this.key)}catch(e){return this.logger.debug("Remote config localstorage failed to access: ",e),Promise.resolve(t)}if(null===e)return this.logger.debug("Remote config localstorage gets null because the key does not exist"),Promise.resolve(t);try{var r=JSON.parse(e);return this.logger.debug("Remote config localstorage parsed successfully: ".concat(JSON.stringify(r))),Promise.resolve({remoteConfig:r.remoteConfig,lastFetch:new Date(r.lastFetch)})}catch(e){return this.logger.debug("Remote config localstorage failed to parse: ",e),localStorage.removeItem(this.key),Promise.resolve(t)}},e.prototype.setConfig=function(e){try{return localStorage.setItem(this.key,JSON.stringify(e)),this.logger.debug("Remote config localstorage set successfully."),Promise.resolve(!0)}catch(e){this.logger.debug("Remote config localstorage failed to set: ",e)}return Promise.resolve(!1)},e}(),o=r(38993),a=function(){function e(e,t,r,n){void 0===r&&(r="US"),this.callbackInfos=[],this.apiKey=e,this.serverUrl=n||("US"===r?"https://sr-client-cfg.amplitude.com/config":"https://sr-client-cfg.eu.amplitude.com/config"),this.logger=t,this.storage=new i(e,t)}return e.prototype.subscribe=function(e,t,r){var n=(0,o.h)(),i={id:n,key:e,deliveryMode:t,callback:r};return this.callbackInfos.push(i),"all"===t?this.subscribeAll(i):this.subscribeWaitForRemote(i,t.timeout),n},e.prototype.unsubscribe=function(e){var t=this.callbackInfos.findIndex(function(t){return t.id===e});return -1===t?(this.logger.debug("Remote config client unsubscribe failed because callback with id ".concat(e," doesn't exist.")),!1):(this.callbackInfos.splice(t,1),this.logger.debug("Remote config client unsubscribe succeeded removing callback with id ".concat(e,".")),!0)},e.prototype.updateConfigs=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,n.__generator)(this,function(r){switch(r.label){case 0:return[4,this.fetch()];case 1:return e=r.sent(),this.storage.setConfig(e),this.callbackInfos.forEach(function(r){t.sendCallback(r,e,"remote")}),[2]}})})},e.prototype.subscribeAll=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i,o=this;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return t=this.fetch().then(function(t){o.logger.debug("Remote config client subscription all mode fetched from remote: ".concat(JSON.stringify(t))),o.sendCallback(e,t,"remote"),o.storage.setConfig(t)}),r=this.storage.fetchConfig().then(function(e){return e}),[4,Promise.race([t,r])];case 1:return void 0!==(i=n.sent())&&(this.logger.debug("Remote config client subscription all mode fetched from cache: ".concat(JSON.stringify(i))),this.sendCallback(e,i,"cache")),[4,t];case 2:return n.sent(),[2]}})})},e.prototype.subscribeWaitForRemote=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:r=new Promise(function(e,r){setTimeout(function(){r("Timeout exceeded")},t)}),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,Promise.race([this.fetch(),r])];case 2:return i=n.sent(),this.logger.debug("Remote config client subscription wait for remote mode returns from remote."),this.sendCallback(e,i,"remote"),this.storage.setConfig(i),[3,5];case 3:return n.sent(),this.logger.debug("Remote config client subscription wait for remote mode exceeded timeout. Try to fetch from cache."),[4,this.storage.fetchConfig()];case 4:return null!==(i=n.sent()).remoteConfig?(this.logger.debug("Remote config client subscription wait for remote mode returns a cached copy."),this.sendCallback(e,i,"cache")):(this.logger.debug("Remote config client subscription wait for remote mode failed to fetch cache."),this.sendCallback(e,i,"remote")),[3,5];case 5:return[2]}})})},e.prototype.sendCallback=function(e,t,r){var n;e.lastCallback=new Date,n=e.key?e.key.split(".").reduce(function(e,t){return null===e?e:t in e?e[t]:null},t.remoteConfig):t.remoteConfig,e.callback(n,r,t.lastFetch)},e.prototype.fetch=function(e,t){return void 0===e&&(e=3),void 0===t&&(t=1e3),(0,n.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c=this;return(0,n.__generator)(this,function(l){switch(l.label){case 0:r=t/e,i={remoteConfig:null,lastFetch:new Date},o=function(i){var o,s,u,l,f;return(0,n.__generator)(this,function(n){switch(n.label){case 0:o=new AbortController,s=setTimeout(function(){return o.abort()},t),n.label=1;case 1:return n.trys.push([1,7,8,9]),[4,fetch(a.getUrlParams(),{method:"GET",headers:{Accept:"*/*"},signal:o.signal})];case 2:if((u=n.sent()).ok)return[3,4];return[4,u.text()];case 3:return l=n.sent(),a.logger.debug("Remote config client fetch with retry time ".concat(e," failed with ").concat(u.status,": ").concat(l)),[3,6];case 4:return[4,u.json()];case 5:return[2,{value:{remoteConfig:n.sent(),lastFetch:new Date}}];case 6:return[3,9];case 7:return(f=n.sent())instanceof Error&&"AbortError"===f.name?a.logger.debug("Remote config client fetch with retry time ".concat(e," timed out after ").concat(t,"ms")):a.logger.debug("Remote config client fetch with retry time ".concat(e," is rejected because: "),f),[3,9];case 8:return clearTimeout(s),[7];case 9:if(!(i<e-1))return[3,11];return[4,new Promise(function(e){return setTimeout(e,c.getJitterDelay(r))})];case 10:n.sent(),n.label=11;case 11:return[2]}})},a=this,s=0,l.label=1;case 1:if(!(s<e))return[3,4];return[5,o(s)];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return s++,[3,1];case 4:return[2,i]}})})},e.prototype.getJitterDelay=function(e){return Math.floor(Math.random()*e)},e.prototype.getUrlParams=function(){var t=encodeURIComponent(this.apiKey),r=new URLSearchParams;return r.append("config_group",e.CONFIG_GROUP),"".concat(this.serverUrl,"/").concat(t,"?").concat(r.toString())},e.CONFIG_GROUP="browser",e}()},36330:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(73063),i=r(4579),o=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){if("object"!=typeof e)return null;var t,r,i,o,a,s,u,c,l,f,d,p,h,v,g,y,m,b,_,w,S,E,x=e.code||0,P=this.buildStatus(x);switch(P){case n.q.Success:return{status:P,statusCode:x,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(r=e.payload_size_bytes)&&void 0!==r?r:0,serverUploadTime:null!==(i=e.server_upload_time)&&void 0!==i?i:0}};case n.q.Invalid:return{status:P,statusCode:x,body:{error:null!==(o=e.error)&&void 0!==o?o:"",missingField:null!==(a=e.missing_field)&&void 0!==a?a:"",eventsWithInvalidFields:null!==(s=e.events_with_invalid_fields)&&void 0!==s?s:{},eventsWithMissingFields:null!==(u=e.events_with_missing_fields)&&void 0!==u?u:{},eventsWithInvalidIdLengths:null!==(c=e.events_with_invalid_id_lengths)&&void 0!==c?c:{},epsThreshold:null!==(l=e.eps_threshold)&&void 0!==l?l:0,exceededDailyQuotaDevices:null!==(f=e.exceeded_daily_quota_devices)&&void 0!==f?f:{},silencedDevices:null!==(d=e.silenced_devices)&&void 0!==d?d:[],silencedEvents:null!==(p=e.silenced_events)&&void 0!==p?p:[],throttledDevices:null!==(h=e.throttled_devices)&&void 0!==h?h:{},throttledEvents:null!==(v=e.throttled_events)&&void 0!==v?v:[]}};case n.q.PayloadTooLarge:return{status:P,statusCode:x,body:{error:null!==(g=e.error)&&void 0!==g?g:""}};case n.q.RateLimit:return{status:P,statusCode:x,body:{error:null!==(y=e.error)&&void 0!==y?y:"",epsThreshold:null!==(m=e.eps_threshold)&&void 0!==m?m:0,throttledDevices:null!==(b=e.throttled_devices)&&void 0!==b?b:{},throttledUsers:null!==(_=e.throttled_users)&&void 0!==_?_:{},exceededDailyQuotaDevices:null!==(w=e.exceeded_daily_quota_devices)&&void 0!==w?w:{},exceededDailyQuotaUsers:null!==(S=e.exceeded_daily_quota_users)&&void 0!==S?S:{},throttledEvents:null!==(E=e.throttled_events)&&void 0!==E?E:[]}};case n.q.Timeout:default:return{status:P,statusCode:x}}},e.prototype.buildStatus=function(e){return(0,i.h)(e)?n.q.Success:429===e?n.q.RateLimit:413===e?n.q.PayloadTooLarge:408===e?n.q.Timeout:e>=400&&e<500?n.q.Invalid:e>=500?n.q.Failed:n.q.Unknown},e}()},60743:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});var n=r(40275),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.send=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:if("undefined"==typeof fetch)throw Error("FetchTransport is not supported");return[4,fetch(e,{headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"})];case 1:return[4,(r=n.sent()).text()];case 2:i=n.sent();try{return[2,this.buildResponse(JSON.parse(i))]}catch(e){return[2,this.buildResponse({code:r.status})]}return[2]}})})},t}(r(36330).d)},38395:function(e,t,r){"use strict";r.d(t,{EG:function(){return s},EK:function(){return T},JE:function(){return a},Ji:function(){return _},KI:function(){return p},Kh:function(){return x},Lo:function(){return A},NE:function(){return g},RE:function(){return l},VX:function(){return f},Wb:function(){return I},ah:function(){return y},b3:function(){return v},bz:function(){return w},cl:function(){return P},f1:function(){return o},fC:function(){return b},fZ:function(){return d},h8:function(){return c},lP:function(){return h},oZ:function(){return k},pG:function(){return O},pr:function(){return E},q$:function(){return n},rV:function(){return m},tS:function(){return S},xp:function(){return i},y_:function(){return u}});var n="-",i="AMP",o="".concat(i,"_unsent"),a="$default_instance",s="https://api2.amplitude.com/2/httpapi",u="https://api.eu.amplitude.com/2/httpapi",c="https://api2.amplitude.com/batch",l="https://api.eu.amplitude.com/batch",f="utm_campaign",d="utm_content",p="utm_id",h="utm_medium",v="utm_source",g="utm_term",y="dclid",m="fbclid",b="gbraid",_="gclid",w="ko_click_id",S="li_fat_id",E="msclkid",x="rdt_cid",P="ttclid",k="twclid",O="wbraid",A={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rdt_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},I=["access-control-allow-origin","access-control-allow-credentials","access-control-expose-headers","access-control-max-age","access-control-allow-methods","access-control-allow-headers","accept-patch","accept-ranges","age","allow","alt-svc","cache-control","connection","content-disposition","content-encoding","content-language","content-length","content-location","content-md5","content-range","content-type","date","delta-base","etag","expires","im","last-modified","link","location","permanent","p3p","pragma","proxy-authenticate","public-key-pins","retry-after","server","status","strict-transport-security","trailer","transfer-encoding","tk","upgrade","vary","via","warning","www-authenticate","x-b3-traceid","x-frame-options"],T=["authorization","cookie","set-cookie"]},46463:function(e,t,r){"use strict";var n,i,o,a;r.d(t,{J:function(){return i},h:function(){return n}}),(o=n||(n={})).SET="$set",o.SET_ONCE="$setOnce",o.ADD="$add",o.APPEND="$append",o.PREPEND="$prepend",o.REMOVE="$remove",o.PREINSERT="$preInsert",o.POSTINSERT="$postInsert",o.UNSET="$unset",o.CLEAR_ALL="$clearAll",(a=i||(i={})).IDENTIFY="$identify",a.GROUP_IDENTIFY="$groupidentify",a.REVENUE="revenue_amount"},73974:function(e,t,r){"use strict";var n,i;r.d(t,{i:function(){return n}}),(i=n||(n={}))[i.None=0]="None",i[i.Error=1]="Error",i[i.Warn=2]="Warn",i[i.Verbose=3]="Verbose",i[i.Debug=4]="Debug"},16453:function(e,t,r){"use strict";var n,i;r.d(t,{J:function(){return n}}),(i=n||(n={})).US="US",i.EU="EU",i.STAGING="STAGING"},73063:function(e,t,r){"use strict";var n,i;r.d(t,{q:function(){return n}}),(i=n||(n={})).Unknown="unknown",i.Skipped="skipped",i.Success="success",i.RateLimit="rate_limit",i.PayloadTooLarge="payload_too_large",i.Invalid="invalid",i.Failed="failed",i.Timeout="Timeout",i.SystemError="SystemError"},2784:function(e,t,r){"use strict";r.d(t,{oY:function(){return o},w_:function(){return c},yh:function(){return a},zn:function(){return u}});var n=r(40275),i=r(73974),o=function(e){return void 0===e&&(e=0),(Error().stack||"").split("\n").slice(2+e).map(function(e){return e.trim()})},a=function(e){return function(){var t=(0,n.__assign)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},s=function(e,t){var r,i;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var o=(0,n.__values)(t.split(".")),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(s in e))return;e=e[s]}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return e},u=function(e,t){return function(){var r,i,o={};try{for(var a=(0,n.__values)(t),u=a.next();!u.done;u=a.next()){var c=u.value;o[c]=s(e,c)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}},c=function(e,t,r,n,a){return void 0===a&&(a=null),function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c=r(),l=c.logger,f=c.logLevel;if(f&&f<i.i.Debug||!f||!l)return e.apply(a,s);var d={type:"invoke public method",name:t,args:s,stacktrace:o(1),time:{start:new Date().toISOString()},states:{}};n&&d.states&&(d.states.before=n());var p=e.apply(a,s);return p&&p.promise?p.promise.then(function(){n&&d.states&&(d.states.after=n()),d.time&&(d.time.end=new Date().toISOString()),l.debug(JSON.stringify(d,null,2))}):(n&&d.states&&(d.states.after=n()),d.time&&(d.time.end=new Date().toISOString()),l.debug(JSON.stringify(d,null,2))),p}}},51110:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});var n=function(e){return{promise:e||Promise.resolve()}}},74648:function(e,t,r){"use strict";r.d(t,{Cn:function(){return i},Jw:function(){return o},hQ:function(){return n}});var n=function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t},i=function(e,t){return 31*Math.abs(n(e.toString()))%1e6/1e6<t},o=function(e,t){return 31*Math.abs(n(e.toString()))%1e5/1e5<t}},4579:function(e,t,r){"use strict";function n(e){return e>=200&&e<300}r.d(t,{h:function(){return n}})},38993:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});var n=r(40275),i=r(47120),o=(0,n.__spreadArray)([],(0,n.__read)(Array(256).keys()),!1).map(function(e){return e.toString(16).padStart(2,"0")}),a=function(e){var t,r=(0,i.l)();if(!(null===(t=null==r?void 0:r.crypto)||void 0===t?void 0:t.getRandomValues))return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,a);var s=r.crypto.getRandomValues(new Uint8Array(16));return s[6]=15&s[6]|64,s[8]=63&s[8]|128,(0,n.__spreadArray)([],(0,n.__read)(s.entries()),!1).map(function(e){var t=(0,n.__read)(e,2),r=t[0],i=t[1];return[4,6,8,10].includes(r)?"-".concat(o[i]):o[i]}).join("")}},26263:function(e,t,r){"use strict";r.d(t,{L:function(){return i},T:function(){return o}});var n=r(40275),i=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var r=e[t];if(!o(t,r))return!1}return!0},o=function(e,t){var r,o;if("string"!=typeof e)return!1;if(Array.isArray(t)){var a=!0;try{for(var s=(0,n.__values)(t),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(c))return!1;if("object"==typeof c)a=a&&i(c);else if(!["number","string"].includes(typeof c))return!1;if(!a)return!1}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}}else if(null==t)return!1;else if("object"==typeof t)return i(t);else if(!["number","string","boolean"].includes(typeof t))return!1;return!0}},93692:function(e,t,r){"use strict";r.d(t,{k:function(){return tB}});var n,i,o,a,s,u,c,l,f,d,p,h,v,g,y,m,b,_,w,S,E,x,P=r(40275),k=r(46463),O=r(2784),A=r(73974),I=r(51051),T=r(60743),C=r(94583),R=r(16453),j=r(38395),N="[Amplitude]",D="".concat(N," Session Replay ID"),M=R.J.US,L={enabled:!0},U="".concat(N," Session Replay Debug"),F="amp-mask";j.xp,(n=y||(y={})).GET_SR_PROPS="get-sr-props",n.DEBUG_INFO="debug-info",n.FETCH_REQUEST="fetch-request",n.METADATA="metadata",n.TARGETING_DECISION="targeting-decision";var q=function(){function e(e){this.logger=e,this.log=this.getSafeMethod("log"),this.warn=this.getSafeMethod("warn"),this.error=this.getSafeMethod("error"),this.debug=this.getSafeMethod("debug")}return e.prototype.getSafeMethod=function(e){if(!this.logger)return function(){};var t,r=this.logger[e];return"function"==typeof r?(null!==(t=r.__rrweb_original__)&&void 0!==t?t:r).bind(this.logger):function(){}},e.prototype.enable=function(e){this.logger.enable(e)},e.prototype.disable=function(){this.logger.disable()},e}(),B=r(47120),z="medium",$=function(e,t,r){switch(t){case"light":if("input"!==e)return!0;var n,i=r?(n=r.type,r.hasAttribute("data-rr-is-password")?"password":n?n.toLowerCase():null):"";if(!i)return!1;if(["password","hidden","email","tel"].includes(i)||r.autocomplete.startsWith("cc-"))return!0;return!1;case"medium":case"conservative":return!0;default:return $(e,z,r)}},H=function(e,t,r){var n,i,o;if(void 0===t&&(t={defaultMaskLevel:z}),r){if(r.closest("."+F)||(null!==(n=t.maskSelector)&&void 0!==n?n:[]).some(function(e){return r.closest(e)}))return!0;if(r.closest(".amp-unmask")||(null!==(i=t.unmaskSelector)&&void 0!==i?i:[]).some(function(e){return r.closest(e)}))return!1}return $(e,null!==(o=t.defaultMaskLevel)&&void 0!==o?o:z,r)},W=function(e,t){return function(r,n){return H(e,t,n)?r.replace(/[^\s]/g,"*"):r}},V=function(){var e=(0,B.l)();return(null==e?void 0:e.location)?e.location.href:""},K=function(e,t){return t||(e===R.J.STAGING?"https://api-sr.stag2.amplitude.com/sessions/v2/track":e===R.J.EU?"https://api-sr.eu.amplitude.com/sessions/v2/track":"https://api-sr.amplitude.com/sessions/v2/track")},J=function(e){var t=e.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp("^".concat(t,"$"))},G=function(e){if(!e.every(function(e){return"string"==typeof e.selector&&"string"==typeof e.replacement}))throw Error("ugcFilterRules must be an array of objects with selector and replacement properties");if(!e.every(function(e){var t;return"string"==typeof(t=e.selector)&&""!==t.trim()&&!!/^\/|^https?:\/\/[^\s]+$/.test(t)}))throw Error("ugcFilterRules must be an array of objects with valid globs")},Y=function(e,t){var r,n;try{for(var i=(0,P.__values)(t),o=i.next();!o.done;o=i.next()){var a=o.value,s=J(a.selector);if(s.test(e))return e.replace(s,a.replacement)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e},X=function(){return(0,P.__awaiter)(void 0,void 0,void 0,function(){var e,t,r,n;return(0,P.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!(e=(0,B.l)()))return[3,2];return[4,e.navigator.storage.estimate()];case 1:return r=(t=i.sent()).usage,n=t.quota,[2,{totalStorageSize:r?Math.round(r/1024):0,percentOfQuota:r&&n?Math.round((r/n+Number.EPSILON)*1e3)/1e3:0,usageDetails:JSON.stringify(t.usageDetails)}];case 2:return[3,4];case 3:return i.sent(),[3,4];case 4:return[2,{totalStorageSize:0,percentOfQuota:0,usageDetails:""}]}})})},Q=function(e){var t=(0,P.__assign)({},e),r=t.apiKey;return t.apiKey="****".concat(r.substring(r.length-4)),t},Z=function(){return{flushMaxRetries:2,logLevel:A.i.Warn,loggerProvider:new I.Y,transportProvider:new T.V}},ee=function(e){function t(t,r){var n,i,o,a,s,u=this,c=Z();return(u=e.call(this,(0,P.__assign)((0,P.__assign)({transportProvider:c.transportProvider,loggerProvider:new q(r.loggerProvider||c.loggerProvider)},r),{apiKey:t}))||this).flushMaxRetries=void 0!==r.flushMaxRetries&&r.flushMaxRetries<=c.flushMaxRetries?r.flushMaxRetries:c.flushMaxRetries,u.apiKey=t,u.sampleRate=r.sampleRate||0,u.serverZone=r.serverZone||M,u.configServerUrl=r.configServerUrl,u.trackServerUrl=r.trackServerUrl,u.shouldInlineStylesheet=r.shouldInlineStylesheet,u.version=r.version,u.performanceConfig=r.performanceConfig||L,u.storeType=null!==(n=r.storeType)&&void 0!==n?n:"idb",u.applyBackgroundColorToBlockedElements=null!==(i=r.applyBackgroundColorToBlockedElements)&&void 0!==i&&i,u.enableUrlChangePolling=null!==(o=r.enableUrlChangePolling)&&void 0!==o&&o,u.urlChangePollingInterval=null!==(a=r.urlChangePollingInterval)&&void 0!==a?a:1e3,u.captureDocumentTitle=null!==(s=r.captureDocumentTitle)&&void 0!==s&&s,r.privacyConfig&&(u.privacyConfig=r.privacyConfig),r.interactionConfig&&(u.interactionConfig=r.interactionConfig,u.interactionConfig.ugcFilterRules&&G(u.interactionConfig.ugcFilterRules)),r.debugMode&&(u.debugMode=r.debugMode),r.experimental&&(u.experimental=r.experimental),r.omitElementTags&&(u.omitElementTags=r.omitElementTags),u}return(0,P.__extends)(t,e),t}(C.De),et=r(51110),er=r(74648),en=r(40974),ei=((i=ei||{})[i.DomContentLoaded=0]="DomContentLoaded",i[i.Load=1]="Load",i[i.FullSnapshot=2]="FullSnapshot",i[i.IncrementalSnapshot=3]="IncrementalSnapshot",i[i.Meta=4]="Meta",i[i.Custom=5]="Custom",i[i.Plugin=6]="Plugin",i),eo=((o=eo||{})[o.Mutation=0]="Mutation",o[o.MouseMove=1]="MouseMove",o[o.MouseInteraction=2]="MouseInteraction",o[o.Scroll=3]="Scroll",o[o.ViewportResize=4]="ViewportResize",o[o.Input=5]="Input",o[o.TouchMove=6]="TouchMove",o[o.MediaInteraction=7]="MediaInteraction",o[o.StyleSheetRule=8]="StyleSheetRule",o[o.CanvasMutation=9]="CanvasMutation",o[o.Font=10]="Font",o[o.Log=11]="Log",o[o.Drag=12]="Drag",o[o.StyleDeclaration=13]="StyleDeclaration",o[o.Selection=14]="Selection",o[o.AdoptedStyleSheet=15]="AdoptedStyleSheet",o[o.CustomElement=16]="CustomElement",o),ea=((a=ea||{})[a.MouseUp=0]="MouseUp",a[a.MouseDown=1]="MouseDown",a[a.Click=2]="Click",a[a.ContextMenu=3]="ContextMenu",a[a.DblClick=4]="DblClick",a[a.Focus=5]="Focus",a[a.Blur=6]="Blur",a[a.TouchStart=7]="TouchStart",a[a.TouchMove_Departed=8]="TouchMove_Departed",a[a.TouchEnd=9]="TouchEnd",a[a.TouchCancel=10]="TouchCancel",a),es=((s=es||{})[s.Mouse=0]="Mouse",s[s.Pen=1]="Pen",s[s.Touch=2]="Touch",s),eu=((u=eu||{})[u["2D"]=0]="2D",u[u.WebGL=1]="WebGL",u[u.WebGL2=2]="WebGL2",u),ec=((c=ec||{})[c.Play=0]="Play",c[c.Pause=1]="Pause",c[c.Seeked=2]="Seeked",c[c.VolumeChange=3]="VolumeChange",c[c.RateChange=4]="RateChange",c),el=((l=el||{}).Start="start",l.Pause="pause",l.Resume="resume",l.Resize="resize",l.Finish="finish",l.FullsnapshotRebuilded="fullsnapshot-rebuilded",l.LoadStylesheetStart="load-stylesheet-start",l.LoadStylesheetEnd="load-stylesheet-end",l.SkipStart="skip-start",l.SkipEnd="skip-end",l.MouseInteraction="mouse-interaction",l.EventCast="event-cast",l.CustomEvent="custom-event",l.Flush="flush",l.StateChange="state-change",l.PlayBack="play-back",l.Destroy="destroy",l),ef=((f=ef||{})[f.Document=0]="Document",f[f.DocumentType=1]="DocumentType",f[f.Element=2]="Element",f[f.Text=3]="Text",f[f.CDATA=4]="CDATA",f[f.Comment=5]="Comment",f),ed=r(67493),ep=function(e,t){var r=document.createDocumentFragment(),n=function(e){if(void 0===e&&(e=[]),"string"==typeof e&&(e=[e]),0!==(e=e.filter(function(e){try{r.querySelector(e)}catch(r){return t.warn('[session-replay-browser] omitting selector "'.concat(e,'" because it is invalid')),!1}return!0})).length)return e};return e.blockSelector=n(e.blockSelector),e.maskSelector=n(e.maskSelector),e.unmaskSelector=n(e.unmaskSelector),e},eh=function(){function e(e,t){this.localConfig=t,this.remoteConfigClient=e}return e.prototype.generateJoinedConfig=function(){var e,t,r;return(0,P.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,u,c,l,f,d,p,h,v,g,y,m,b=this;return(0,P.__generator)(this,function(_){switch(_.label){case 0:return(n=(0,P.__assign)({},this.localConfig)).optOut=this.localConfig.optOut,n.captureEnabled=!0,[4,new Promise(function(e){b.remoteConfigClient.subscribe("configs.sessionReplay","all",function(t,r){var o;if(b.localConfig.loggerProvider.debug("Session Replay remote configuration received from ".concat(r,":"),JSON.stringify(t,null,2)),t){var a=t.sr_sampling_config,s=t.sr_privacy_config,u=t.sr_targeting_config,c=null===(o=n.interactionConfig)||void 0===o?void 0:o.ugcFilterRules;n.interactionConfig=t.sr_interaction_config,n.interactionConfig&&c&&(n.interactionConfig.ugcFilterRules=c),n.loggingConfig=t.sr_logging_config,(a||s||u)&&(i={},a&&(i.sr_sampling_config=a),s&&(i.sr_privacy_config=s),u&&(i.sr_targeting_config=u))}e()})})];case 1:if(_.sent(),!i)return[2,{localConfig:this.localConfig,joinedConfig:n,remoteConfig:i}];if(o=i.sr_sampling_config,a=i.sr_privacy_config,s=i.sr_targeting_config,o&&Object.keys(o).length>0?(Object.prototype.hasOwnProperty.call(o,"capture_enabled")?n.captureEnabled=o.capture_enabled:n.captureEnabled=!1,Object.prototype.hasOwnProperty.call(o,"sample_rate")&&(n.sampleRate=o.sample_rate)):(n.captureEnabled=!0,this.localConfig.loggerProvider.debug("Remote config successfully fetched, but no values set for project, Session Replay capture enabled.")),a){u=null!==(e=n.privacyConfig)&&void 0!==e?e:{},c={defaultMaskLevel:null!==(r=null!==(t=a.defaultMaskLevel)&&void 0!==t?t:u.defaultMaskLevel)&&void 0!==r?r:"medium",blockSelector:[],maskSelector:[],unmaskSelector:[]},l=function(e){var t,r,n,i,o,a,s,u,c,l={};"string"==typeof e.blockSelector&&(e.blockSelector=[e.blockSelector]);try{for(var f=(0,P.__values)(null!==(s=e.blockSelector)&&void 0!==s?s:[]),d=f.next();!d.done;d=f.next()){var p=d.value;l[p]="block"}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}try{for(var h=(0,P.__values)(null!==(u=e.maskSelector)&&void 0!==u?u:[]),v=h.next();!v.done;v=h.next()){var p=v.value;l[p]="mask"}}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}try{for(var g=(0,P.__values)(null!==(c=e.unmaskSelector)&&void 0!==c?c:[]),y=g.next();!y.done;y=g.next()){var p=y.value;l[p]="unmask"}}catch(e){o={error:e}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}return l},f=(0,P.__assign)((0,P.__assign)({},l(u)),l(a));try{for(p=(d=(0,P.__values)(Object.entries(f))).next();!p.done;p=d.next())v=(h=(0,P.__read)(p.value,2))[0],g=h[1],"mask"===g?c.maskSelector.push(v):"block"===g?c.blockSelector.push(v):"unmask"===g&&c.unmaskSelector.push(v)}catch(e){y={error:e}}finally{try{p&&!p.done&&(m=d.return)&&m.call(d)}finally{if(y)throw y.error}}n.privacyConfig=ep(c,this.localConfig.loggerProvider)}return s&&Object.keys(s).length>0&&(n.targetingConfig=s),this.localConfig.loggerProvider.debug(JSON.stringify({name:"session replay joined config",config:Q(n)},null,2)),[2,{localConfig:this.localConfig,joinedConfig:n,remoteConfig:i}]}})})},e}(),ev=Uint8Array,eg=Uint16Array,ey=Uint32Array,em=new ev([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eb=new ev([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e_=new ev([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ew=function(e,t){for(var r=new eg(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new ey(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return[r,i]},eS=ew(em,2),eE=eS[0],ex=eS[1];eE[28]=258,ex[258]=28;for(var eP=ew(eb,0),ek=(eP[0],eP[1]),eO=new eg(32768),eA=0;eA<32768;++eA){var eI=(43690&eA)>>>1|(21845&eA)<<1;eI=(61680&(eI=(52428&eI)>>>2|(13107&eI)<<2))>>>4|(3855&eI)<<4,eO[eA]=((65280&eI)>>>8|(255&eI)<<8)>>>1}for(var eT=function(e,t,r){for(var n,i=e.length,o=0,a=new eg(t);o<i;++o)++a[e[o]-1];var s=new eg(t);for(o=0;o<t;++o)s[o]=s[o-1]+a[o-1]<<1;if(r){n=new eg(1<<t);var u=15-t;for(o=0;o<i;++o)if(e[o])for(var c=o<<4|e[o],l=t-e[o],f=s[e[o]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)n[eO[f]>>>u]=c}else for(o=0,n=new eg(i);o<i;++o)n[o]=eO[s[e[o]-1]++]>>>15-e[o];return n},eC=new ev(288),eA=0;eA<144;++eA)eC[eA]=8;for(var eA=144;eA<256;++eA)eC[eA]=9;for(var eA=256;eA<280;++eA)eC[eA]=7;for(var eA=280;eA<288;++eA)eC[eA]=8;for(var eR=new ev(32),eA=0;eA<32;++eA)eR[eA]=5;var ej=eT(eC,9,0),eN=eT(eR,5,0),eD=function(e){return(e/8>>0)+(7&e&&1)},eM=function(e,t,r){(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof eg?eg:e instanceof ey?ey:ev)(r-t);return n.set(e.subarray(t,r)),n},eL=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},eU=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},eF=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,o=r.slice();if(!i)return[new ev(0),0];if(1==i){var a=new ev(r[0].s+1);return a[r[0].s]=1,[a,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var s=r[0],u=r[1],c=0,l=1,f=2;for(r[0]={s:-1,f:s.f+u.f,l:s,r:u};l!=i-1;)s=r[r[c].f<r[f].f?c++:f++],u=r[c!=l&&r[c].f<r[f].f?c++:f++],r[l++]={s:-1,f:s.f+u.f,l:s,r:u};for(var d=o[0].s,n=1;n<i;++n)o[n].s>d&&(d=o[n].s);var p=new eg(d+1),h=eq(r[l-1],p,0);if(h>t){var n=0,v=0,g=h-t,y=1<<g;for(o.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});n<i;++n){var m=o[n].s;if(p[m]>t)v+=y-(1<<h-p[m]),p[m]=t;else break}for(v>>>=g;v>0;){var b=o[n].s;p[b]<t?v-=1<<t-p[b]++-1:++n}for(;n>=0&&v;--n){var _=o[n].s;p[_]==t&&(--p[_],++v)}h=t}return[new ev(p),h]},eq=function(e,t,r){return -1==e.s?Math.max(eq(e.l,t,r+1),eq(e.r,t,r+1)):t[e.s]=r},eB=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new eg(++t),n=0,i=e[0],o=1,a=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return[r.subarray(0,n),t]},ez=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},e$=function(e,t,r){var n=r.length,i=eD(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<n;++o)e[i+o+4]=r[o];return(i+4+n)*8},eH=function(e,t,r,n,i,o,a,s,u,c,l){eL(t,l++,r),++i[256];for(var f,d,p,h,v=eF(i,15),g=v[0],y=v[1],m=eF(o,15),b=m[0],_=m[1],w=eB(g),S=w[0],E=w[1],x=eB(b),P=x[0],k=x[1],O=new eg(19),A=0;A<S.length;++A)O[31&S[A]]++;for(var A=0;A<P.length;++A)O[31&P[A]]++;for(var I=eF(O,7),T=I[0],C=I[1],R=19;R>4&&!T[e_[R-1]];--R);var j=c+5<<3,N=ez(i,eC)+ez(o,eR)+a,D=ez(i,g)+ez(o,b)+a+14+3*R+ez(O,T)+(2*O[16]+3*O[17]+7*O[18]);if(j<=N&&j<=D)return e$(t,l,e.subarray(u,u+c));if(eL(t,l,1+(D<N)),l+=2,D<N){f=eT(g,y,0),d=g,p=eT(b,_,0),h=b;var M=eT(T,C,0);eL(t,l,E-257),eL(t,l+5,k-1),eL(t,l+10,R-4),l+=14;for(var A=0;A<R;++A)eL(t,l+3*A,T[e_[A]]);l+=3*R;for(var L=[S,P],U=0;U<2;++U)for(var F=L[U],A=0;A<F.length;++A){var q=31&F[A];eL(t,l,M[q]),l+=T[q],q>15&&(eL(t,l,F[A]>>>5&127),l+=F[A]>>>12)}}else f=ej,d=eC,p=eN,h=eR;for(var A=0;A<s;++A)if(n[A]>255){var q=n[A]>>>18&31;eU(t,l,f[q+257]),l+=d[q+257],q>7&&(eL(t,l,n[A]>>>23&31),l+=em[q]);var B=31&n[A];eU(t,l,p[B]),l+=h[B],B>3&&(eU(t,l,n[A]>>>5&8191),l+=eb[B])}else eU(t,l,f[n[A]]),l+=d[n[A]];return eU(t,l,f[256]),l+d[256]},eW=new ey([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eV=function(e,t,r,n,i,o){var a=e.length,s=new ev(n+a+5*(1+Math.floor(a/7e3))+i),u=s.subarray(n,s.length-i),c=0;if(!t||a<8)for(var l=0;l<=a;l+=65535){var f=l+65535;f<a?c=e$(u,c,e.subarray(l,f)):(u[l]=o,c=e$(u,c,e.subarray(l,a)))}else{for(var d=eW[t-1],p=d>>>13,h=8191&d,v=(1<<r)-1,g=new eg(32768),y=new eg(v+1),m=Math.ceil(r/3),b=2*m,_=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<b)&v},w=new ey(25e3),S=new eg(288),E=new eg(32),x=0,P=0,l=0,k=0,O=0,A=0;l<a;++l){var I=_(l),T=32767&l,C=y[I];if(g[T]=C,y[I]=T,O<=l){var R=a-l;if((x>7e3||k>24576)&&R>423){c=eH(e,u,0,w,S,E,P,k,A,l-A,c),k=x=P=0,A=l;for(var j=0;j<286;++j)S[j]=0;for(var j=0;j<30;++j)E[j]=0}var N=2,D=0,M=h,L=T-C&32767;if(R>2&&I==_(l-L))for(var U=Math.min(p,R)-1,F=Math.min(32767,l),q=Math.min(258,R);L<=F&&--M&&T!=C;){if(e[l+N]==e[l+N-L]){for(var B=0;B<q&&e[l+B]==e[l+B-L];++B);if(B>N){if(N=B,D=L,B>U)break;for(var z=Math.min(L,B-2),$=0,j=0;j<z;++j){var H=l-L+j+32768&32767,W=g[H],V=H-W+32768&32767;V>$&&($=V,C=H)}}}C=g[T=C],L+=T-C+32768&32767}if(D){w[k++]=268435456|ex[N]<<18|ek[D];var K=31&ex[N],J=31&ek[D];P+=em[K]+eb[J],++S[257+K],++E[J],O=l+N,++x}else w[k++]=e[l],++S[e[l]]}}c=eH(e,u,o,w,S,E,P,k,A,l-A,c)}return eM(s,0,n+eD(c)+i)},eK=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,o=r.length,a=0;a!=o;){for(var s=Math.min(a+5552,o);a<s;++a)n+=r[a],i+=n;n%=65521,i%=65521}e=n,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+((255&e)<<23)*2}}},eJ=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},eG=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)};let eY=e=>{var t,r,n,i,o;return function(e,t){var r="";if(!t&&"undefined"!=typeof TextDecoder)return new TextDecoder().decode(e);for(var n=0;n<e.length;){var i=e[n++];i<128||t?r+=String.fromCharCode(i):i<224?r+=String.fromCharCode((31&i)<<6|63&e[n++]):i<240?r+=String.fromCharCode((15&i)<<12|(63&e[n++])<<6|63&e[n++]):r+=String.fromCharCode(55296|(i=((15&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536)>>10,56320|1023&i)}return r}((t=function(e,t){var r=e.length;if("undefined"!=typeof TextEncoder)return new TextEncoder().encode(e);for(var n=new ev(e.length+(e.length>>>1)),i=0,o=function(e){n[i++]=e},a=0;a<r;++a){if(i+5>n.length){var s=new ev(i+8+(r-a<<1));s.set(n),n=s}var u=e.charCodeAt(a);u<128?o(u):(u<2048?o(192|u>>>6):(u>55295&&u<57344?(o(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++a))>>>18),o(128|u>>>12&63)):o(224|u>>>12),o(128|u>>>6&63)),o(128|63&u))}return eM(n,0,i)}(JSON.stringify({...e,v:"v1"})),void 0===r&&(r={}),(n=eK()).p(t),eG(o=eV(t,null==(i=r).level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,2,4,!0),r),eJ(o,o.length-4,n.d()),o),!0)};var eX=function(){function e(e,t,r,n){var i,o=this;this.taskQueue=[],this.isProcessing=!1,this.compressEvent=function(e){return JSON.stringify(eY(e))},this.addCompressedEventToManager=function(e,t){o.eventsManager&&o.deviceId&&o.eventsManager.addEvent({event:{type:"replay",data:e},sessionId:t,deviceId:o.deviceId})},this.addCompressedEvent=function(e,t){if(o.worker)try{o.worker.postMessage({event:e,sessionId:t})}catch(r){"DataCloneError"===r.name?o.worker.postMessage(JSON.stringify({event:e,sessionId:t})):o.config.loggerProvider.warn("Unexpected error while posting message to worker:",r)}else{var r=o.compressEvent(e);o.addCompressedEventToManager(r,t)}},this.terminate=function(){var e;null===(e=o.worker)||void 0===e||e.terminate()};var a=(0,B.l)();if(this.canUseIdleCallback=a&&"requestIdleCallback"in a,this.eventsManager=e,this.config=t,this.deviceId=r,this.timeout=(null===(i=t.performanceConfig)||void 0===i?void 0:i.timeout)||2e3,n){t.loggerProvider.log("[Experimental] Enabling web worker for compression");var s=new Worker(URL.createObjectURL(new Blob([n],{type:"application/javascript"})));s.onerror=function(e){t.loggerProvider.error(e)},s.onmessage=function(e){var t=e.data,r=t.compressedEvent,n=t.sessionId;o.addCompressedEventToManager(r,n)},this.worker=s}}return e.prototype.scheduleIdleProcessing=function(){var e=this;this.isProcessing||(this.isProcessing=!0,requestIdleCallback(function(t){e.processQueue(t)},{timeout:this.timeout}))},e.prototype.enqueueEvent=function(e,t){var r;this.canUseIdleCallback&&(null===(r=this.config.performanceConfig)||void 0===r?void 0:r.enabled)?(this.config.loggerProvider.debug("Enqueuing event for processing during idle time."),this.taskQueue.push({event:e,sessionId:t}),this.scheduleIdleProcessing()):(this.config.loggerProvider.debug("Processing event without idle callback."),this.addCompressedEvent(e,t))},e.prototype.processQueue=function(e){for(var t=this;this.taskQueue.length>0&&(e.timeRemaining()>0||e.didTimeout);){var r=this.taskQueue.shift();if(r){var n=r.event,i=r.sessionId;this.addCompressedEvent(n,i)}}this.taskQueue.length>0?requestIdleCallback(function(e){t.processQueue(e)},{timeout:this.timeout}):this.isProcessing=!1},e}(),eQ=r(36330),eZ=r(73063),e0="Failed to store session replay events in IndexedDB",e1="1.29.4",e2=function(){function e(e){var t=e.trackServerUrl,r=e.loggerProvider,n=e.payloadBatcher;this.storageKey="",this.retryTimeout=1e3,this.scheduled=null,this.queue=[],this.loggerProvider=r,this.payloadBatcher=n||function(e){return e},this.trackServerUrl=t}return e.prototype.sendEventsList=function(e){this.addToQueue((0,P.__assign)((0,P.__assign)({},e),{attempts:0,timeout:0}))},e.prototype.addToQueue=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.filter(function(t){return t.attempts<(t.flushMaxRetries||0)?(t.attempts+=1,!0):(e.completeRequest({context:t,err:"Session replay event batch rejected due to exceeded retry count"}),!1)}).forEach(function(t){if(e.queue=e.queue.concat(t),0===t.timeout){e.schedule(0);return}setTimeout(function(){t.timeout=0,e.schedule(0)},t.timeout)})},e.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(e)})},e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,P.__awaiter)(this,void 0,void 0,function(){var t,r,n=this;return(0,P.__generator)(this,function(i){switch(i.label){case 0:return t=[],r=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):r.push(e)}),this.queue=r,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,Promise.all(t.map(function(t){return n.send(t,e)}))];case 1:return i.sent(),[2]}})})},e.prototype.send=function(e,t){var r,n;return void 0===t&&(t=!0),(0,P.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f,d,p,h,v;return(0,P.__generator)(this,function(g){switch(g.label){case 0:if(!(i=e.apiKey))return[2,this.completeRequest({context:e,err:"Session replay event batch not sent due to missing api key"})];if(!(o=e.deviceId))return[2,this.completeRequest({context:e,err:"Session replay event batch not sent due to missing device ID"})];if(a=V(),s=e1,u=e.sampleRate,c=new URLSearchParams({device_id:o,session_id:"".concat(e.sessionId),type:"".concat(e.type)}),l="".concat((null===(r=e.version)||void 0===r?void 0:r.type)||"standalone","/").concat((null===(n=e.version)||void 0===n?void 0:n.version)||s),0===(f=this.payloadBatcher({version:1,events:e.events})).events.length)return this.completeRequest({context:e}),[2];g.label=1;case 1:return g.trys.push([1,3,,4]),d={headers:{"Content-Type":"application/json",Accept:"*/*",Authorization:"Bearer ".concat(i),"X-Client-Version":s,"X-Client-Library":l,"X-Client-Url":a.substring(0,1e3),"X-Client-Sample-Rate":"".concat(u)},body:JSON.stringify(f),method:"POST"},[4,fetch("".concat(K(e.serverZone,this.trackServerUrl),"?").concat(c.toString()),d)];case 2:if(null===(p=g.sent()))return this.completeRequest({context:e,err:"Unexpected error occurred"}),[2];if(t)this.handleReponse(p.status,e);else{h="";try{h=JSON.stringify(p.body,null,2)}catch(e){}this.completeRequest({context:e,success:"".concat(p.status,": ").concat(h)})}return[3,4];case 3:return v=g.sent(),this.completeRequest({context:e,err:v}),[3,4];case 4:return[2]}})})},e.prototype.handleReponse=function(e,t){switch(new eQ.d().buildStatus(e)){case eZ.q.Success:this.handleSuccessResponse(t);break;case eZ.q.Failed:this.handleOtherResponse(t);break;default:this.completeRequest({context:t,err:"Network error occurred, event batch rejected"})}},e.prototype.handleSuccessResponse=function(e){var t=Math.round(new Blob(e.events).size/1024);this.completeRequest({context:e,success:"Session replay event batch tracked successfully for session id ".concat(e.sessionId,", size of events: ").concat(t," KB")})},e.prototype.handleOtherResponse=function(e){this.addToQueue((0,P.__assign)((0,P.__assign)({},e),{timeout:e.attempts*this.retryTimeout}))},e.prototype.completeRequest=function(e){var t=e.context,r=e.err,n=e.success;t.onComplete(),r?this.loggerProvider.warn(r):n&&this.loggerProvider.log(n)},e}(),e4=r(12082),e3=function(){function e(e){var t,r,n,i=this;this.minInterval=500,this.maxInterval=1e4,this.maxPersistedEventsSize=1e6,this.interval=this.minInterval,this._timeAtLastSplit=Date.now(),this.shouldSplitEventsList=function(e,t){var r=i.getStringSize(t);return i.getEventsArraySize(e)+r>=i.maxPersistedEventsSize||Date.now()-i.timeAtLastSplit>i.interval&&!!e.length&&(i.interval=Math.min(i.maxInterval,i.interval+i.minInterval),i._timeAtLastSplit=Date.now(),!0)},this.loggerProvider=e.loggerProvider,this.minInterval=null!==(t=e.minInterval)&&void 0!==t?t:this.minInterval,this.maxInterval=null!==(r=e.maxInterval)&&void 0!==r?r:this.maxInterval,this.maxPersistedEventsSize=null!==(n=e.maxPersistedEventsSize)&&void 0!==n?n:this.maxPersistedEventsSize}return Object.defineProperty(e.prototype,"timeAtLastSplit",{get:function(){return this._timeAtLastSplit},enumerable:!1,configurable:!0}),e.prototype.getStringSize=function(e){return e.length},e.prototype.getEventsArraySize=function(e){var t,r,n=0;try{for(var i=(0,P.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value;n+=this.getStringSize(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n+(2+Math.max(0,e.length-1)+2*e.length)},e}();(d=m||(m={})).RECORDING="recording",d.SENT="sent";var e5="sessionCurrentSequence",e6="sequencesToSend",e8=function(){var e=(0,B.l)();return new Promise(function(t,r){if(!e)return r(Error("Global scope not found"));if(!e.indexedDB)return r(Error("Session Replay: cannot find indexedDB"));try{var n=e.indexedDB.open("keyval-store");n.onupgradeneeded=function(){1===n.result.version&&(n.result.close(),n.transaction&&n.transaction.abort(),e.indexedDB.deleteDatabase("keyval-store"),t())},n.onsuccess=function(){t(n.result)},n.onerror=function(){r(n.error)}}catch(e){r(e)}})},e9=function(e){return(0,P.__awaiter)(void 0,void 0,void 0,function(){return(0,P.__generator)(this,function(t){switch(t.label){case 0:if(!(e.length>0))return[3,2];return[4,Promise.all(e.splice(0,10))];case 1:return t.sent(),[3,0];case 2:return[2]}})})},e7=function(e){var t,r;return e.objectStoreNames.contains(e5)||(r=e.createObjectStore(e5,{keyPath:"sessionId"})),e.objectStoreNames.contains(e6)||(t=e.createObjectStore(e6,{keyPath:"sequenceId",autoIncrement:!0})).createIndex("sessionId","sessionId"),{sequencesStore:t,currentSequenceStore:r}},te=function(e){function t(t){var r=e.call(this,t)||this;return r.getSequencesToSend=function(){return(0,P.__awaiter)(r,void 0,void 0,function(){var e,t,r,n,i,o;return(0,P.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),e=[],[4,this.db.transaction("sequencesToSend").store.openCursor()];case 1:t=a.sent(),a.label=2;case 2:if(!t)return[3,4];return n=(r=t.value).sessionId,i=r.events,e.push({events:i,sequenceId:t.key,sessionId:n}),[4,t.continue()];case 3:return t=a.sent(),[3,2];case 4:return[2,e];case 5:return o=a.sent(),this.loggerProvider.warn("".concat(e0,": ").concat(o)),[3,6];case 6:return[2,void 0]}})})},r.storeCurrentSequence=function(e){return(0,P.__awaiter)(r,void 0,void 0,function(){var t,r,n;return(0,P.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,this.db.get(e5,e)];case 1:if(!(t=i.sent()))return[2,void 0];return[4,this.db.put(e6,{sessionId:e,events:t.events})];case 2:return r=i.sent(),[4,this.db.put(e5,{sessionId:e,events:[]})];case 3:return i.sent(),[2,(0,P.__assign)((0,P.__assign)({},t),{sessionId:e,sequenceId:r})];case 4:return n=i.sent(),this.loggerProvider.warn("".concat(e0,": ").concat(n)),[3,5];case 5:return[2,void 0]}})})},r.addEventToCurrentSequence=function(e,t){return(0,P.__awaiter)(r,void 0,void 0,function(){var r,n,i,o,a,s;return(0,P.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,10,,11]),[4,(r=this.db.transaction(e5,"readwrite")).store.get(e)];case 1:if(n=u.sent())return[3,3];return[4,r.store.put({sessionId:e,events:[t]})];case 2:return u.sent(),[2];case 3:if(i=void 0,!this.shouldSplitEventsList(n.events,t))return[3,5];return i=n.events,[4,r.store.put({sessionId:e,events:[t]})];case 4:return u.sent(),[3,7];case 5:return o=n.events.concat(t),[4,r.store.put({sessionId:e,events:o})];case 6:u.sent(),u.label=7;case 7:return[4,r.done];case 8:if(u.sent(),!i)return[2,void 0];return[4,this.storeSendingEvents(e,i)];case 9:if(!(a=u.sent()))return[2,void 0];return[2,{events:i,sessionId:e,sequenceId:a}];case 10:return s=u.sent(),this.loggerProvider.warn("".concat(e0,": ").concat(s)),[3,11];case 11:return[2,void 0]}})})},r.storeSendingEvents=function(e,t){return(0,P.__awaiter)(r,void 0,void 0,function(){var r;return(0,P.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.db.put(e6,{sessionId:e,events:t})];case 1:return[2,n.sent()];case 2:return r=n.sent(),this.loggerProvider.warn("".concat(e0,": ").concat(r)),[3,3];case 3:return[2,void 0]}})})},r.cleanUpSessionEventsStore=function(e,t){return(0,P.__awaiter)(r,void 0,void 0,function(){var e;return(0,P.__generator)(this,function(r){switch(r.label){case 0:if(!t)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.db.delete(e6,t)];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),this.loggerProvider.warn("".concat(e0,": ").concat(e)),[3,4];case 4:return[2]}})})},r.transitionFromKeyValStore=function(e){return(0,P.__awaiter)(r,void 0,void 0,function(){var t,r,n,i,o,a,s,u=this;return(0,P.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),[4,e8()];case 1:if(!(t=c.sent()))return[2];r=function(e,t){return(0,P.__awaiter)(u,void 0,void 0,function(){var r,n,i=this;return(0,P.__generator)(this,function(o){switch(o.label){case 0:return r=t.sessionSequences,n=[],Object.keys(r).forEach(function(o){var a=parseInt(o,10),s=r[a];if(a===t.currentSequenceId){var u=s.events.map(function(t){return(0,P.__awaiter)(i,void 0,void 0,function(){return(0,P.__generator)(this,function(r){return[2,this.addEventToCurrentSequence(e,t)]})})});n.push.apply(n,(0,P.__spreadArray)([],(0,P.__read)(u),!1))}else s.status!==m.SENT&&n.push(i.storeSendingEvents(e,s.events))}),[4,e9(n)];case 1:return o.sent(),[2]}})})},n="".concat(j.f1,"_").concat(this.apiKey.substring(0,10)),c.label=2;case 2:return c.trys.push([2,4,,5]),i=t.transaction("keyval").objectStore("keyval").getAll(n),[4,new Promise(function(t){i.onsuccess=function(n){return(0,P.__awaiter)(u,void 0,void 0,function(){var i,o,a,s=this;return(0,P.__generator)(this,function(u){switch(u.label){case 0:if(!(o=(i=n&&n.target.result)&&i[0]))return[3,2];return a=[],Object.keys(o).forEach(function(t){var n=parseInt(t,10),i=o[n];if(e===n)a.push(r(n,i));else{var u=i.sessionSequences;Object.keys(u).forEach(function(e){var t=parseInt(e,10);u[t].status!==m.SENT&&a.push(s.storeSendingEvents(n,u[t].events))})}}),[4,e9(a)];case 1:u.sent(),u.label=2;case 2:return t(),[2]}})})}})];case 3:return c.sent(),(o=(0,B.l)())&&o.indexedDB.deleteDatabase("keyval-store"),[3,5];case 4:return a=c.sent(),this.loggerProvider.warn("Failed to transition session replay events from keyval to new store: ".concat(a)),[3,5];case 5:return[3,7];case 6:return s=c.sent(),this.loggerProvider.warn("Failed to access keyval store: ".concat(s,". For more information, visit: https://www.docs.developers.amplitude.com/session-replay/sdks/standalone/#indexeddb-best-practices")),[3,7];case 7:return[2]}})})},r.apiKey=t.apiKey,r.db=t.db,r}return(0,P.__extends)(t,e),t.new=function(e,r,n){return(0,P.__awaiter)(this,void 0,void 0,function(){var i,o,a,s;return(0,P.__generator)(this,function(u){switch(u.label){case 0:var c;return u.trys.push([0,3,,4]),i="replay"===e?"":"_".concat(e),[4,(c="".concat(r.apiKey.substring(0,10),"_amp_session_replay_events").concat(i),(0,P.__awaiter)(void 0,void 0,void 0,function(){return(0,P.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,e4.X3)(c,1,{upgrade:e7})];case 1:return[2,e.sent()]}})}))];case 1:return o=u.sent(),[4,(a=new t((0,P.__assign)((0,P.__assign)({},r),{db:o}))).transitionFromKeyValStore(n)];case 2:return u.sent(),[2,a];case 3:return s=u.sent(),r.loggerProvider.warn("".concat(e0,": ").concat(s)),[3,4];case 4:return[2]}})})},t.prototype.getCurrentSequenceEvents=function(e){return(0,P.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,o,a;return(0,P.__generator)(this,function(s){switch(s.label){case 0:if(!e)return[3,2];return[4,this.db.get("sessionCurrentSequence",e)];case 1:if(!(t=s.sent()))return[2,void 0];return[2,[t]];case 2:r=[],s.label=3;case 3:return s.trys.push([3,8,9,10]),[4,this.db.getAll("sessionCurrentSequence")];case 4:i=(n=P.__values.apply(void 0,[s.sent()])).next(),s.label=5;case 5:if(i.done)return[3,7];t=i.value,r.push(t),s.label=6;case 6:return i=n.next(),[3,5];case 7:return[3,10];case 8:return o={error:s.sent()},[3,10];case 9:try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(o)throw o.error}return[7];case 10:return[2,r]}})})},t}(e3),tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.finalizedSequences={},t.sequences={},t.sequenceId=0,t}return(0,P.__extends)(t,e),t.prototype.resetCurrentSequence=function(e){this.sequences[e]=[]},t.prototype.addSequence=function(e){var t=this.sequenceId++,r=(0,P.__spreadArray)([],(0,P.__read)(this.sequences[e]),!1);return this.finalizedSequences[t]={sessionId:e,events:r},this.resetCurrentSequence(e),{sequenceId:t,events:r,sessionId:e}},t.prototype.getSequencesToSend=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(e){return[2,Object.entries(this.finalizedSequences).map(function(e){var t=(0,P.__read)(e,2),r=t[0],n=t[1],i=n.sessionId,o=n.events;return{sequenceId:Number(r),sessionId:i,events:o}})]})})},t.prototype.storeCurrentSequence=function(e){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(t){return this.sequences[e]?[2,this.addSequence(e)]:[2,void 0]})})},t.prototype.addEventToCurrentSequence=function(e,t){return(0,P.__awaiter)(this,void 0,void 0,function(){var r;return(0,P.__generator)(this,function(n){return this.sequences[e]||this.resetCurrentSequence(e),this.shouldSplitEventsList(this.sequences[e],t)&&(r=this.addSequence(e)),this.sequences[e].push(t),[2,r]})})},t.prototype.storeSendingEvents=function(e,t){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(r){return this.finalizedSequences[this.sequenceId]={sessionId:e,events:t},[2,this.sequenceId++]})})},t.prototype.cleanUpSessionEventsStore=function(e,t){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(e){return void 0!==t&&delete this.finalizedSequences[t],[2]})})},t}(e3),tr=function(e){var t=e.config,r=e.sessionId,n=e.minInterval,i=e.maxInterval,o=e.type,a=e.payloadBatcher,s=e.storeType;return(0,P.__awaiter)(void 0,void 0,void 0,function(){var e,u,c,l,f,d;function p(t){return void 0===t&&(t=!1),(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(r){return[2,e.flush(t)]})})}return(0,P.__generator)(this,function(h){switch(h.label){case 0:if(e=new e2((0,P.__assign)((0,P.__assign)({},t),{loggerProvider:t.loggerProvider,payloadBatcher:a})),u=function(){return new tt({loggerProvider:t.loggerProvider,maxInterval:i,minInterval:n})},c=function(){return(0,P.__awaiter)(void 0,void 0,void 0,function(){var e;return(0,P.__generator)(this,function(a){switch(a.label){case 0:return[4,te.new(o,{loggerProvider:t.loggerProvider,minInterval:n,maxInterval:i,apiKey:t.apiKey},r)];case 1:return e=a.sent(),t.loggerProvider.log("Failed to initialize idb store, falling back to memory store."),[2,null!=e?e:u()]}})})},"idb"!==s)return[3,2];return[4,c()];case 1:return f=h.sent(),[3,3];case 2:f=u(),h.label=3;case 3:return l=f,d=function(r){var n=r.events,i=r.sessionId,a=r.deviceId,s=r.sequenceId;t.debugMode&&X().then(function(e){var r=e.totalStorageSize,n=e.percentOfQuota,i=e.usageDetails;t.loggerProvider.debug("Total storage size: ".concat(r," KB, percentage of quota: ").concat(n,"%, usage details: ").concat(i))}).catch(function(){}),e.sendEventsList({events:n,sessionId:i,flushMaxRetries:t.flushMaxRetries,apiKey:t.apiKey,deviceId:a,sampleRate:t.sampleRate,serverZone:t.serverZone,version:t.version,type:o,onComplete:function(){return(0,P.__awaiter)(void 0,void 0,void 0,function(){return(0,P.__generator)(this,function(e){switch(e.label){case 0:return[4,l.cleanUpSessionEventsStore(i,s)];case 1:return e.sent(),[2]}})})}})},[2,{sendCurrentSequenceEvents:function(e){var r=e.sessionId,n=e.deviceId;l.storeCurrentSequence(r).then(function(e){e&&d({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:n})}).catch(function(e){t.loggerProvider.warn("Failed to get current sequence of session replay events for session:",e)})},addEvent:function(e){var r=e.event,n=e.sessionId,i=e.deviceId;l.addEventToCurrentSequence(n,r.data).then(function(e){return e&&d({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:i})}).catch(function(e){t.loggerProvider.warn("Failed to add event to session replay capture:",e)})},sendStoredEvents:function(e){var t=e.deviceId;return(0,P.__awaiter)(void 0,void 0,void 0,function(){var e;return(0,P.__generator)(this,function(r){switch(r.label){case 0:return[4,l.getSequencesToSend()];case 1:return(e=r.sent())&&e.forEach(function(e){d({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:t})}),[2]}})})},flush:p}]}})})},tn=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new Map;e.forEach(function(e){r.set(e.name,e.manager)}),this.managers=r}return e.prototype.sendStoredEvents=function(e){return(0,P.__awaiter)(this,void 0,void 0,function(){var t;return(0,P.__generator)(this,function(r){switch(r.label){case 0:return t=[],this.managers.forEach(function(r){t.push(r.sendStoredEvents(e))}),[4,Promise.all(t)];case 1:return r.sent(),[2]}})})},e.prototype.addEvent=function(e){var t,r=e.sessionId,n=e.event,i=e.deviceId;null===(t=this.managers.get(n.type))||void 0===t||t.addEvent({sessionId:r,event:n,deviceId:i})},e.prototype.sendCurrentSequenceEvents=function(e){var t=e.sessionId,r=e.deviceId;this.managers.forEach(function(e){e.sendCurrentSequenceEvents({sessionId:t,deviceId:r})})},e.prototype.flush=function(e){return(0,P.__awaiter)(this,void 0,void 0,function(){var t;return(0,P.__generator)(this,function(r){switch(r.label){case 0:return t=[],this.managers.forEach(function(r){t.push(r.flush(e))}),[4,Promise.all(t)];case 1:return r.sent(),[2]}})})},e}();function ti(e,t,r){for(var n=null,i=[],o=e,a=0;o&&"break"!==function(){var e,s,u,c,l=new Date().getTime()-w.getTime();if(void 0!==b.timeoutMs&&l>b.timeoutMs)throw Error("Timeout: Can't find a unique selector after ".concat(l,"ms"));var f=td((e=o.getAttribute("id"))&&b.idName(e)?{name:"#"+CSS.escape(e),penalty:0}:null)||td.apply(void 0,(0,P.__spreadArray)([],(0,P.__read)(Array.from(o.attributes).filter(function(e){return b.attr(e.name,e.value)}).map(function(e){return{name:"[".concat(CSS.escape(e.name),'="').concat(CSS.escape(e.value),'"]'),penalty:.5}})),!1))||td.apply(void 0,(0,P.__spreadArray)([],(0,P.__read)(Array.from(o.classList).filter(b.className).map(function(e){return{name:"."+CSS.escape(e),penalty:1}})),!1))||td((s=o.tagName.toLowerCase(),b.tagName(s)?{name:s,penalty:2}:null))||[tc()],d=function(e){var t=e.parentNode;if(!t)return null;var r=t.firstChild;if(!r)return null;for(var n=0;r&&(r.nodeType===Node.ELEMENT_NODE&&n++,r!==e);)r=r.nextSibling;return n}(o);if("all"==t)d&&(f=f.concat(f.filter(tf).map(function(e){return tl(e,d)})));else if("two"==t)f=f.slice(0,1),d&&(f=f.concat(f.filter(tf).map(function(e){return tl(e,d)})));else if("one"==t){var p=(0,P.__read)(f=f.slice(0,1),1)[0];d&&tf(p)&&(f=[tl(p,d)])}else"none"==t&&(f=[tc()],d&&(f=[tl(f[0],d)]));try{for(var h=(u=void 0,(0,P.__values)(f)),v=h.next();!v.done;v=h.next()){var p=v.value;p.level=a}}catch(e){u={error:e}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}if(i.push(f),i.length>=b.seedMinLength&&(n=to(i,r)))return"break";o=o.parentElement,a++}(););return(n||(n=to(i,r)),!n&&r)?r():n}function to(e,t){var r,n,i=th(function e(t,r){var n,i,o,a,s;return void 0===r&&(r=[]),(0,P.__generator)(this,function(u){switch(u.label){case 0:if(!(t.length>0))return[3,9];u.label=1;case 1:u.trys.push([1,6,7,8]),i=(n=(0,P.__values)(t[0])).next(),u.label=2;case 2:if(i.done)return[3,5];return o=i.value,[5,(0,P.__values)(e(t.slice(1,t.length),r.concat(o)))];case 3:u.sent(),u.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return a={error:u.sent()},[3,8];case 7:try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 8:return[3,11];case 9:return[4,r];case 10:u.sent(),u.label=11;case 11:return[2]}})}(e));if(i.length>b.threshold)return t?t():null;try{for(var o=(0,P.__values)(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(tu(s))return s}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return null}function ta(e){for(var t=e[0],r=t.name,n=1;n<e.length;n++){var i=e[n].level||0;r=t.level===i-1?"".concat(e[n].name," > ").concat(r):"".concat(e[n].name," ").concat(r),t=e[n]}return r}function ts(e){return e.map(function(e){return e.penalty}).reduce(function(e,t){return e+t},0)}function tu(e){var t=ta(e);switch(_.querySelectorAll(t).length){case 0:throw Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function tc(){return{name:"*",penalty:3}}function tl(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function tf(e){return"html"!==e.name&&!e.name.startsWith("#")}function td(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.filter(tp);return r.length>0?r:null}function tp(e){return null!=e}function th(e){return(0,P.__spreadArray)([],(0,P.__read)(e),!1).sort(function(e,t){return ts(e)-ts(t)})}var tv=function(e){var t=e.version,r=e.events,n=[];return r.forEach(function(e){var t=JSON.parse(e);t.count=1,"click"===t.type&&n.push(t)}),{version:t,events:n}},tg=function(e){var t=e.version,r=e.events,n=[];return r.forEach(function(e){var t=JSON.parse(e);"click"===t.type&&n.push(t)}),{version:t,events:Object.values(n.reduce(function(e,t){var r=t.x,n=t.y,i=t.selector,o=t.timestamp,a=o-o%36e5,s="".concat(r,":").concat(n,":").concat(null!=i?i:"",":").concat(a);return e[s]?e[s].count+=1:e[s]=(0,P.__assign)((0,P.__assign)({},t),{timestamp:a,count:1}),e},{}))}},ty=function(e,t){var r=this;this.createHook=function(e){var t=e.eventsManager,n=e.sessionId,i=e.deviceIdFn,o=e.mirror,a=e.ugcFilterRules;return function(e){if(e.type===ea.Click){var s,u=(0,B.l)();if(u){var c=u.location,l=u.innerHeight,f=u.innerWidth;if(c){var d=e.x,p=e.y;if(void 0!==d&&void 0!==p){var h=o.getNode(e.id);if(h)try{s=function(e,t){if(w=new Date,e.nodeType!==Node.ELEMENT_NODE)throw Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var r,n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4,timeoutMs:void 0};_=(r=(b=(0,P.__assign)((0,P.__assign)({},n),void 0)).root).nodeType===Node.DOCUMENT_NODE?r:r===n.root?r.ownerDocument:r;var i=ti(e,"all",function(){return ti(e,"two",function(){return ti(e,"one",function(){return ti(e,"none")})})});if(i){var o=th(function e(t,r,n){var i,o,a;return void 0===n&&(n={counter:0,visited:new Map}),(0,P.__generator)(this,function(s){switch(s.label){case 0:if(!(t.length>2&&t.length>b.optimizedMinLength))return[3,5];i=1,s.label=1;case 1:var u;if(!(i<t.length-1))return[3,5];if(n.counter>b.maxNumberOfTries||(n.counter+=1,(o=(0,P.__spreadArray)([],(0,P.__read)(t),!1)).splice(i,1),a=ta(o),n.visited.has(a)))return[2];if(!(tu(o)&&(u=o,_.querySelector(ta(u))===r)))return[3,4];return[4,o];case 2:return s.sent(),n.visited.set(a,!0),[5,(0,P.__values)(e(o,r,n))];case 3:s.sent(),s.label=4;case 4:return i++,[3,1];case 5:return[2]}})}(i,e));return o.length>0&&(i=o[0]),ta(i)}throw Error("Selector was not found.")}(h)}catch(e){r.logger.debug("error resolving selector from finder")}var v=Y(c.href,a),g={x:d+r.scrollWatcher.currentScrollX,y:p+r.scrollWatcher.currentScrollY,selector:s,viewportHeight:l,viewportWidth:f,pageUrl:v,timestamp:Date.now(),type:"click"},y=i();y&&t.addEvent({sessionId:n,event:{type:"interaction",data:JSON.stringify(g)},deviceId:y})}}}}}},this.logger=e,this.scrollWatcher=t};function tm(){var e=(0,B.l)();return(null==e?void 0:e.innerHeight)||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}function tb(){var e=(0,B.l)();return(null==e?void 0:e.innerWidth)||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}var t_=function(){function e(e,t){var r=(0,B.l)();r&&r.navigator&&"function"==typeof r.navigator.sendBeacon?this.sendBeacon=function(e,t){try{if(r.navigator.sendBeacon(e,JSON.stringify(t)))return!0}catch(e){}return!1}:this.sendBeacon=function(){return!1},this.sendXhr=function(e,t){var r=new XMLHttpRequest;return r.open("POST",e,!0),r.setRequestHeader("Accept","*/*"),r.send(JSON.stringify(t)),!0},this.basePageUrl=K(t.serverZone,t.trackServerUrl),this.apiKey=t.apiKey,this.context=e}return e.prototype.send=function(e,t){var r=this.context,n=r.sessionId,i=r.type,o=new URLSearchParams({device_id:e,session_id:String(n),type:String(i),api_key:this.apiKey}),a="".concat(this.basePageUrl,"?").concat(o.toString());this.sendBeacon(a,t)||this.sendXhr(a,t)},e}(),tw=function(){function e(e,t){var r=this;this.timestamp=Date.now(),this.hook=function(e){r.update(e)},this.send=function(e){return function(t){var n,i,o=e(),a=(0,B.l)();a&&o&&r.transport.send(o,{version:1,events:[{maxScrollX:r._maxScrollX,maxScrollY:r._maxScrollY,maxScrollWidth:r._maxScrollWidth,maxScrollHeight:r._maxScrollHeight,viewportHeight:tm(),viewportWidth:tb(),pageUrl:Y(a.location.href,null!==(i=null===(n=r.config.interactionConfig)||void 0===n?void 0:n.ugcFilterRules)&&void 0!==i?i:[]),timestamp:r.timestamp,type:"scroll"}]})}},this._maxScrollX=0,this._maxScrollY=0,this._currentScrollX=0,this._currentScrollY=0,this._maxScrollWidth=tb(),this._maxScrollHeight=tm(),this.config=t,this.transport=e}return e.default=function(t,r){return new e(new t_(t,r),r)},Object.defineProperty(e.prototype,"maxScrollX",{get:function(){return this._maxScrollX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollY",{get:function(){return this._maxScrollY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollWidth",{get:function(){return this._maxScrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollHeight",{get:function(){return this._maxScrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentScrollX",{get:function(){return this._currentScrollX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentScrollY",{get:function(){return this._currentScrollY},enumerable:!1,configurable:!0}),e.prototype.update=function(e){var t=Date.now();if(this._currentScrollX=e.x,this._currentScrollY=e.y,e.x>this._maxScrollX){var r=tb();this._maxScrollX=e.x;var n=e.x+r;n>this._maxScrollWidth&&(this._maxScrollWidth=n),this.timestamp=t}if(e.y>this._maxScrollY){var i=tm();this._maxScrollY=e.y;var o=e.y+i;o>this._maxScrollHeight&&(this._maxScrollHeight=o),this.timestamp=t}},e}(),tS=function(e){var t=e.sessionId,r=e.deviceId;this.deviceId=r,this.sessionId=t,t&&r&&(this.sessionReplayId="".concat(r,"/").concat(t))},tE=new function(){var e=this;this.dbs={},this.createStore=function(t){return(0,P.__awaiter)(e,void 0,void 0,function(){return(0,P.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,e4.X3)(t,1,{upgrade:function(e){e.objectStoreNames.contains("sessionTargetingMatch")||e.createObjectStore("sessionTargetingMatch",{keyPath:"sessionId"})}})];case 1:return[2,e.sent()]}})})},this.openOrCreateDB=function(t){return(0,P.__awaiter)(e,void 0,void 0,function(){var e,r;return(0,P.__generator)(this,function(n){switch(n.label){case 0:if(this.dbs&&this.dbs[t])return[2,this.dbs[t]];return e="".concat(t.substring(0,10),"_amp_session_replay_targeting"),[4,this.createStore(e)];case 1:return r=n.sent(),this.dbs[t]=r,[2,r]}})})},this.getTargetingMatchForSession=function(t){var r=t.loggerProvider,n=t.apiKey,i=t.sessionId;return(0,P.__awaiter)(e,void 0,void 0,function(){var e,t,o,a;return(0,P.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this.openOrCreateDB(n)];case 1:return e=s.sent(),t=String(i),[4,e.get("sessionTargetingMatch",t)];case 2:return[2,null==(o=s.sent())?void 0:o.targetingMatch];case 3:return a=s.sent(),r.warn("Failed to get targeting match for session id ".concat(i,": ").concat(a)),[3,4];case 4:return[2,void 0]}})})},this.storeTargetingMatchForSession=function(t){var r=t.loggerProvider,n=t.apiKey,i=t.sessionId,o=t.targetingMatch;return(0,P.__awaiter)(e,void 0,void 0,function(){var e,t,a;return(0,P.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this.openOrCreateDB(n)];case 1:return e=s.sent(),t=String(i),[4,e.put("sessionTargetingMatch",{targetingMatch:o,sessionId:t,lastUpdated:Date.now()})];case 2:return[2,s.sent()];case 3:return a=s.sent(),r.warn("Failed to store targeting match for session id ".concat(i,": ").concat(a)),[3,4];case 4:return[2,void 0]}})})},this.clearStoreOfOldSessions=function(t){var r=t.loggerProvider,n=t.apiKey,i=t.currentSessionId;return(0,P.__awaiter)(e,void 0,void 0,function(){var e,t,o,a,s,u,c,l;return(0,P.__generator)(this,function(f){switch(f.label){case 0:return f.trys.push([0,8,,9]),[4,this.openOrCreateDB(n)];case 1:return e=f.sent(),t=String(i),[4,(o=e.transaction("sessionTargetingMatch","readwrite")).store.getAll()];case 2:a=f.sent(),s=0,f.label=3;case 3:if(!(s<a.length))return[3,6];if(u=a[s],c=Date.now()-u.lastUpdated,!(u.sessionId!==t&&c>1728e5))return[3,5];return[4,o.store.delete(u.sessionId)];case 4:f.sent(),f.label=5;case 5:return s++,[3,3];case 6:return[4,o.done];case 7:return f.sent(),[3,9];case 8:return l=f.sent(),r.warn("Failed to clear old targeting matches for sessions: ".concat(l)),[3,9];case 9:return[2]}})})}},tx=function(e){var t=e.sessionId,n=e.targetingConfig,i=e.loggerProvider,o=e.apiKey,a=e.targetingParams;return(0,P.__awaiter)(void 0,void 0,void 0,function(){var e,s,u;return(0,P.__generator)(this,function(c){switch(c.label){case 0:return[4,tE.clearStoreOfOldSessions({loggerProvider:i,apiKey:o,currentSessionId:t})];case 1:return c.sent(),[4,tE.getTargetingMatchForSession({loggerProvider:i,apiKey:o,sessionId:t})];case 2:if(!0===c.sent())return[2,!0];e=!0,c.label=3;case 3:return c.trys.push([3,6,,7]),[4,r.e(7832).then(r.bind(r,7832))];case 4:return[4,(0,c.sent().evaluateTargeting)((0,P.__assign)((0,P.__assign)({},a),{flag:n,sessionId:t,apiKey:o,loggerProvider:i}))];case 5:return(s=c.sent())&&s.sr_targeting_config&&(e="on"===s.sr_targeting_config.key),tE.storeTargetingMatchForSession({loggerProvider:i,apiKey:o,sessionId:t,targetingMatch:e}),[3,7];case 6:return u=c.sent(),i.warn(u.message),[3,7];case 7:return[2,e]}})})};function tP(e){return void 0===e&&(e={}),{name:"amplitude/url-tracking@1",observer:function(t,r,n){var i,o,a,s=(0,P.__assign)((0,P.__assign)({},e),n),u=s.ugcFilterRules||[],c=null!==(i=s.enablePolling)&&void 0!==i&&i,l=null!==(o=s.pollingInterval)&&void 0!==o?o:1e3,f=null!==(a=s.captureDocumentTitle)&&void 0!==a&&a;if(!r)return function(){};var d=void 0,p=function(){return r.location&&r.location.href||""},h=function(){var e=r.innerHeight,t=r.innerWidth,n=r.document,i=p(),o="";return f&&(o=(null==n?void 0:n.title)||""),{href:u.length>0?Y(i,u):i,title:o,viewportHeight:e,viewportWidth:t,type:"url-change-event"}},v=function(){var e=p();(void 0===d||e!==d)&&(d=e,t(h()))},g=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=e.apply(this,t);return v(),n}},y=function(){v()};if(c){var m=r.setInterval(function(){v()},l);return v(),function(){m&&r.clearInterval(m)}}if(r.history){var b=r.history.pushState.bind(r.history),_=r.history.replaceState.bind(r.history);return r.history.pushState=g(b),r.history.replaceState=g(_),r.addEventListener("popstate",v),r.addEventListener("hashchange",y),v(),function(){r.history.pushState=b,r.history.replaceState=_,r.removeEventListener("popstate",v),r.removeEventListener("hashchange",y)}}return r.addEventListener("hashchange",y),v(),function(){r.removeEventListener("hashchange",y)}},options:e}}tP();var tk=function(){function e(){var e=this;this.name="@amplitude/session-replay-browser",this.recordCancelCallback=null,this.eventCount=0,this.sessionTargetingMatch=!1,this.pageLeaveFns=[],this.recordFunction=null,this.teardownEventListeners=function(t){var r=(0,B.l)();r&&(r.removeEventListener("blur",e.blurListener),r.removeEventListener("focus",e.focusListener),t||r.addEventListener("blur",e.blurListener),t||r.addEventListener("focus",e.focusListener),r.self&&"onpagehide"in r.self?(r.removeEventListener("pagehide",e.pageLeaveListener),t||r.addEventListener("pagehide",e.pageLeaveListener)):(r.removeEventListener("beforeunload",e.pageLeaveListener),t||r.addEventListener("beforeunload",e.pageLeaveListener)))},this.blurListener=function(){e.sendEvents()},this.focusListener=function(){e.recordEvents(!1)},this.pageLeaveListener=function(t){e.pageLeaveFns.forEach(function(e){e(t)})},this.evaluateTargetingAndCapture=function(t,r,n){return void 0===r&&(r=!1),void 0===n&&(n=!1),(0,P.__awaiter)(e,void 0,void 0,function(){var e,i;return(0,P.__generator)(this,function(o){switch(o.label){case 0:if(!this.identifiers||!this.identifiers.sessionId||!this.config)return this.identifiers&&!this.identifiers.sessionId?this.loggerProvider.log("Session ID has not been set yet, cannot evaluate targeting for Session Replay."):this.loggerProvider.warn("Session replay init has not been called, cannot evaluate targeting."),[2];if(!this.config.targetingConfig){if(!r)return this.loggerProvider.log("No targeting config set, skipping initialization/recording for event."),[2];this.loggerProvider.log("Targeting config has not been set yet, cannot evaluate targeting.")}if(this.lastTargetingParams=t,!(this.config.targetingConfig&&!this.sessionTargetingMatch))return[3,2];return(e=t.event)&&Object.values(k.J).includes(e.event_type)&&(e=void 0),i=this,[4,tx({sessionId:this.identifiers.sessionId,targetingConfig:this.config.targetingConfig,loggerProvider:this.loggerProvider,apiKey:this.config.apiKey,targetingParams:{userProperties:t.userProperties,event:e}})];case 1:i.sessionTargetingMatch=o.sent(),this.loggerProvider.debug(JSON.stringify({name:"targeted replay capture config",sessionTargetingMatch:this.sessionTargetingMatch,event:e,targetingParams:t},null,2)),o.label=2;case 2:if(!r)return[3,3];return this.initialize(!0),[3,5];case 3:if(!(n||!this.recordCancelCallback))return[3,5];return this.loggerProvider.log("Recording events for session due to forceRestart or no ongoing recording."),[4,this.recordEvents()];case 4:o.sent(),o.label=5;case 5:return[2]}})})},this.addCustomRRWebEvent=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n=!0),(0,P.__awaiter)(e,void 0,void 0,function(){var e,i,o,a;return(0,P.__generator)(this,function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),e=void 0,!((i=this.config)&&t!==y.METADATA)||(e={config:Q(i),version:e1},!n))return[3,2];return[4,X()];case 1:o=s.sent(),e=(0,P.__assign)((0,P.__assign)({},o),e),s.label=2;case 2:return this.recordCancelCallback&&this.recordFunction?this.recordFunction.addCustomEvent(t,(0,P.__assign)((0,P.__assign)({},r),e)):this.loggerProvider.debug("Not able to add custom replay capture event ".concat(t," due to no ongoing recording.")),[3,4];case 3:return a=s.sent(),this.loggerProvider.debug("Error while adding custom replay capture event: ",a),[3,4];case 4:return[2]}})})},this.stopRecordingEvents=function(){var t;try{e.loggerProvider.log("Session Replay capture stopping."),e.recordCancelCallback&&e.recordCancelCallback(),e.recordCancelCallback=null,null===(t=e.networkObservers)||void 0===t||t.stop()}catch(t){e.loggerProvider.warn("Error occurred while stopping replay capture: ".concat(t.toString()))}},this.loggerProvider=new q(new I.Y)}return e.prototype.init=function(e,t){return(0,et.S)(this._init(e,t))},e.prototype._init=function(e,t){var n,i,o,a,s,u,c;return(0,P.__awaiter)(this,void 0,void 0,function(){var l,f,d,p,h,v,g,y,m,b,_,w,S,E;return(0,P.__generator)(this,function(x){switch(x.label){case 0:return this.loggerProvider=new q(t.loggerProvider||new I.Y),Object.prototype.hasOwnProperty.call(t,"logLevel")&&this.loggerProvider.enable(t.logLevel),this.identifiers=new tS({sessionId:t.sessionId,deviceId:t.deviceId}),l=this,[4,(0,P.__awaiter)(void 0,void 0,void 0,function(){var r;return(0,P.__generator)(this,function(n){return r=new ee(e,t),[2,new eh(new ed.p8(e,r.loggerProvider,r.serverZone,t.configServerUrl),r)]})})];case 1:return l.joinedConfigGenerator=x.sent(),[4,this.joinedConfigGenerator.generateJoinedConfig()];case 2:d=(f=x.sent()).joinedConfig,p=f.localConfig,h=f.remoteConfig,this.config=d,this.setMetadata(t.sessionId,d,p,h,null===(n=t.version)||void 0===n?void 0:n.version,e1,null===(i=t.version)||void 0===i?void 0:i.type),t.sessionId&&(null===(o=this.config.interactionConfig)||void 0===o?void 0:o.enabled)&&(v=tw.default({sessionId:t.sessionId,type:"interaction"},this.config),this.pageLeaveFns=[v.send(this.getDeviceId.bind(this)).bind(v)],this.scrollHook=v.hook.bind(v),this.clickHandler=new ty(this.loggerProvider,v)),g=[],"idb"!==(y=this.config.storeType)||(null===(a=(0,B.l)())||void 0===a?void 0:a.indexedDB)||(y="memory",this.loggerProvider.warn("Could not use preferred indexedDB storage, reverting to in memory option.")),this.loggerProvider.log("Using ".concat(y," for event storage.")),x.label=3;case 3:return x.trys.push([3,5,,6]),[4,tr({config:this.config,sessionId:this.identifiers.sessionId,type:"replay",storeType:y})];case 4:return m=x.sent(),g.push({name:"replay",manager:m}),[3,6];case 5:return b=x.sent(),this.loggerProvider.warn("Error occurred while creating replay events manager: ".concat(b.toString())),[3,6];case 6:if(!(null===(s=this.config.interactionConfig)||void 0===s?void 0:s.enabled))return[3,10];_=this.config.interactionConfig.batch?tg:tv,x.label=7;case 7:return x.trys.push([7,9,,10]),[4,tr({config:this.config,sessionId:this.identifiers.sessionId,type:"interaction",minInterval:null!==(u=this.config.interactionConfig.trackEveryNms)&&void 0!==u?u:3e4,maxInterval:6e4,payloadBatcher:_,storeType:y})];case 8:return w=x.sent(),g.push({name:"interaction",manager:w}),[3,10];case 9:return b=x.sent(),this.loggerProvider.warn("Error occurred while creating interaction events manager: ".concat(b.toString())),[3,10];case 10:if(this.eventsManager=new(tn.bind.apply(tn,(0,P.__spreadArray)([void 0],(0,P.__read)(g),!1))),this.eventCompressor&&this.eventCompressor.terminate(),S=void 0,E=(0,B.l)(),!((null===(c=this.config.experimental)||void 0===c?void 0:c.useWebWorker)&&E&&E.Worker))return[3,12];return[4,r.e(4776).then(r.bind(r,34776))];case 11:S=x.sent().compressionScript,x.label=12;case 12:return this.eventCompressor=new eX(this.eventsManager,this.config,this.getDeviceId(),S),[4,this.initializeNetworkObservers()];case 13:return x.sent(),this.loggerProvider.log("Installing @amplitude/session-replay-browser."),this.teardownEventListeners(!1),[4,this.evaluateTargetingAndCapture({userProperties:t.userProperties},!0)];case 14:return x.sent(),[2]}})})},e.prototype.setSessionId=function(e,t){return(0,et.S)(this.asyncSetSessionId(e,t))},e.prototype.asyncSetSessionId=function(e,t,r){var n;return(0,P.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,P.__generator)(this,function(s){switch(s.label){case 0:if(this.sessionTargetingMatch=!1,this.lastShouldRecordDecision=void 0,(i=this.identifiers&&this.identifiers.sessionId)&&this.sendEvents(i),o=t||this.getDeviceId(),this.identifiers=new tS({sessionId:e,deviceId:o}),!(this.joinedConfigGenerator&&i))return[3,2];return[4,this.joinedConfigGenerator.generateJoinedConfig()];case 1:a=s.sent().joinedConfig,this.config=a,s.label=2;case 2:if(!(null===(n=this.config)||void 0===n?void 0:n.targetingConfig))return[3,4];return[4,this.evaluateTargetingAndCapture({userProperties:null==r?void 0:r.userProperties},!1,!0)];case 3:return s.sent(),[3,6];case 4:return[4,this.recordEvents()];case 5:s.sent(),s.label=6;case 6:return[2]}})})},e.prototype.getSessionReplayProperties=function(){var e,t=this.config,r=this.identifiers;if(!t||!r)return this.loggerProvider.warn("Session replay init has not been called, cannot get session replay properties."),{};var n=this.getShouldRecord(),i={};return n&&((e={})[D]=r.sessionReplayId?r.sessionReplayId:null,i=e,t.debugMode&&(i[U]=JSON.stringify({appHash:(0,er.hQ)(t.apiKey).toString()}))),this.addCustomRRWebEvent(y.GET_SR_PROPS,{shouldRecord:n,eventProperties:i},10===this.eventCount),10===this.eventCount&&(this.eventCount=0),this.eventCount++,i},e.prototype.sendEvents=function(e){var t,r=e||(null===(t=this.identifiers)||void 0===t?void 0:t.sessionId),n=this.getDeviceId();this.eventsManager&&r&&n&&this.eventsManager.sendCurrentSequenceEvents({sessionId:r,deviceId:n})},e.prototype.initialize=function(e){var t;return void 0===e&&(e=!1),(0,P.__awaiter)(this,void 0,void 0,function(){var r;return(0,P.__generator)(this,function(n){return(null===(t=this.identifiers)||void 0===t?void 0:t.sessionId)?(r=this.getDeviceId())?(this.eventsManager&&e&&this.eventsManager.sendStoredEvents({deviceId:r}),[2,this.recordEvents()]):(this.loggerProvider.log("Session is not being recorded due to lack of device id."),[2,Promise.resolve()]):(this.loggerProvider.log("Session is not being recorded due to lack of session id."),[2,Promise.resolve()])})})},e.prototype.shouldOptOut=function(){if(null===(e=this.config)||void 0===e?void 0:e.instanceName){var e,t,r;r=(0,en.bM)(this.config.instanceName).identityStore.getIdentity().optOut}return void 0!==r?r:null===(t=this.config)||void 0===t?void 0:t.optOut},e.prototype.getShouldRecord=function(){if(!this.identifiers||!this.config||!this.identifiers.sessionId)return this.loggerProvider.warn("Session is not being recorded due to lack of config, please call sessionReplay.init."),!1;if(!this.config.captureEnabled)return this.loggerProvider.log("Session ".concat(this.identifiers.sessionId," not being captured due to capture being disabled for project or because the remote config could not be fetched.")),!1;if(this.shouldOptOut())return this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to optOut config.")),!1;var e=!1,t="",r=!1;return this.config.targetingConfig?this.sessionTargetingMatch?(t="Capturing replays for session ".concat(this.identifiers.sessionId," due to matching targeting conditions."),this.loggerProvider.log(t),e=!0,r=!0):(t="Not capturing replays for session ".concat(this.identifiers.sessionId," due to not matching targeting conditions."),this.loggerProvider.log(t),e=!1,r=!1):(0,er.Cn)(this.identifiers.sessionId,this.config.sampleRate)?(e=!0,r=!0):(t="Opting session ".concat(this.identifiers.sessionId," out of recording due to sample rate."),this.loggerProvider.log(t),e=!1,r=!1),this.lastShouldRecordDecision!==e&&this.config.targetingConfig&&(this.addCustomRRWebEvent(y.TARGETING_DECISION,{message:t,sessionId:this.identifiers.sessionId,matched:r,targetingParams:this.lastTargetingParams}),this.lastShouldRecordDecision=e),e},e.prototype.getBlockSelectors=function(){var e,t,r,n=null!==(r=null===(t=null===(e=this.config)||void 0===e?void 0:e.privacyConfig)||void 0===t?void 0:t.blockSelector)&&void 0!==r?r:[];if(0!==n.length)return n},e.prototype.getMaskTextSelectors=function(){if((null===(t=null===(e=this.config)||void 0===e?void 0:e.privacyConfig)||void 0===t?void 0:t.defaultMaskLevel)==="conservative")return"*";var e,t,r,n,i=null===(n=null===(r=this.config)||void 0===r?void 0:r.privacyConfig)||void 0===n?void 0:n.maskSelector;if(i)return i},e.prototype.getRecordingPlugins=function(e){var t,n,i,o,a,s;return(0,P.__awaiter)(this,void 0,void 0,function(){var u,c,l,f;return(0,P.__generator)(this,function(d){switch(d.label){case 0:u=[];try{c=tP({ugcFilterRules:(null===(n=null===(t=this.config)||void 0===t?void 0:t.interactionConfig)||void 0===n?void 0:n.ugcFilterRules)||[],enablePolling:(null===(i=this.config)||void 0===i?void 0:i.enableUrlChangePolling)||!1,pollingInterval:null===(o=this.config)||void 0===o?void 0:o.urlChangePollingInterval,captureDocumentTitle:null===(a=this.config)||void 0===a?void 0:a.captureDocumentTitle}),u.push(c)}catch(e){this.loggerProvider.warn("Failed to create URL tracking plugin:",e)}if(!(null===(s=null==e?void 0:e.console)||void 0===s?void 0:s.enabled))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.e(801).then(r.bind(r,84616))];case 2:return l=d.sent().getRecordConsolePlugin,u.push(l({level:e.console.levels})),[3,4];case 3:return f=d.sent(),this.loggerProvider.warn("Failed to load console plugin:",f),[3,4];case 4:return[2,u.length>0?u:void 0]}})})},e.prototype.getRecordFunction=function(){return(0,P.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,P.__generator)(this,function(n){switch(n.label){case 0:if(this.recordFunction)return[2,this.recordFunction];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r.e(8466).then(r.bind(r,15113))];case 2:return e=n.sent().record,this.recordFunction=e,[2,e];case 3:return t=n.sent(),this.loggerProvider.warn("Failed to load rrweb-record module:",t),[2,null];case 4:return[2]}})})},e.prototype.recordEvents=function(e){var t,r,n,i,o,a;return void 0===e&&(e=!0),(0,P.__awaiter)(this,void 0,void 0,function(){var s,u,c,l,f,d,p,h,v,g,m,b,_,w=this;return(0,P.__generator)(this,function(S){switch(S.label){case 0:if(s=this.config,u=this.getShouldRecord(),c=null===(t=this.identifiers)||void 0===t?void 0:t.sessionId,!u||!c||!s)return[2];return this.stopRecordingEvents(),[4,this.getRecordFunction()];case 1:if(!(l=S.sent()))return[2];return[4,this.initializeNetworkObservers()];case 2:S.sent(),null===(r=this.networkObservers)||void 0===r||r.start(function(e){w.addCustomRRWebEvent(y.FETCH_REQUEST,e)}),f=s.privacyConfig,d=s.interactionConfig,p=s.loggingConfig,h=(null==d?void 0:d.enabled)?{mouseInteraction:this.eventsManager&&(null===(n=this.clickHandler)||void 0===n?void 0:n.createHook({eventsManager:this.eventsManager,sessionId:c,deviceIdFn:this.getDeviceId.bind(this),mirror:l.mirror,ugcFilterRules:null!==(i=d.ugcFilterRules)&&void 0!==i?i:[]})),scroll:this.scrollHook}:{},v=(null==d?void 0:d.enabled)&&d.ugcFilterRules?d.ugcFilterRules:[],this.loggerProvider.log("Session Replay capture beginning for ".concat(c,".")),S.label=3;case 3:return S.trys.push([3,5,,6]),g=this,m=l,_={emit:function(e){if(w.shouldOptOut()){w.loggerProvider.log("Opting session ".concat(c," out of recording due to optOut config.")),w.stopRecordingEvents(),w.sendEvents();return}e.type===ei.Meta&&(e.data.href=Y(e.data.href,v)),w.eventCompressor&&w.eventCompressor.enqueueEvent(e,c)},inlineStylesheet:s.shouldInlineStylesheet,hooks:h,maskAllInputs:!0,maskTextClass:F,blockClass:"amp-block",blockSelector:this.getBlockSelectors(),applyBackgroundColorToBlockedElements:s.applyBackgroundColorToBlockedElements,maskInputFn:W("input",f),maskTextFn:W("text",f),maskTextSelector:this.getMaskTextSelectors(),recordCanvas:!1,slimDOMOptions:{script:null===(o=s.omitElementTags)||void 0===o?void 0:o.script,comment:null===(a=s.omitElementTags)||void 0===a?void 0:a.comment},errorHandler:function(e){if(e.message.includes("insertRule")&&e.message.includes("CSSStyleSheet")||e._external_)throw e;return w.loggerProvider.warn("Error while capturing replay: ",e.toString()),!0}},[4,this.getRecordingPlugins(p)];case 4:return g.recordCancelCallback=m.apply(void 0,[(_.plugins=S.sent(),_)]),this.addCustomRRWebEvent(y.DEBUG_INFO),e&&this.addCustomRRWebEvent(y.METADATA,this.metadata),[3,6];case 5:return b=S.sent(),this.loggerProvider.warn("Failed to initialize session replay:",b),[3,6];case 6:return[2]}})})},e.prototype.getDeviceId=function(){var e;return null===(e=this.identifiers)||void 0===e?void 0:e.deviceId},e.prototype.getSessionId=function(){var e;return null===(e=this.identifiers)||void 0===e?void 0:e.sessionId},e.prototype.flush=function(e){var t;return void 0===e&&(e=!1),(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(r){return[2,null===(t=this.eventsManager)||void 0===t?void 0:t.flush(e)]})})},e.prototype.shutdown=function(){this.teardownEventListeners(!0),this.stopRecordingEvents(),this.sendEvents()},e.prototype.mapSDKType=function(e){return"plugin"===e?"@amplitude/plugin-session-replay-browser":"segment"===e?"@amplitude/segment-session-replay-plugin":null},e.prototype.setMetadata=function(e,t,r,n,i,o,a){var s=(null==e?void 0:e.toString())?(0,er.hQ)(e.toString()):void 0;this.metadata={joinedConfig:t,localConfig:r,remoteConfig:n,sessionId:e,hashValue:s,sampleRate:t.sampleRate,replaySDKType:this.mapSDKType(a),replaySDKVersion:i,standaloneSDKType:"@amplitude/session-replay-browser",standaloneSDKVersion:o}},e.prototype.initializeNetworkObservers=function(){var e,t,n;return(0,P.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,P.__generator)(this,function(a){switch(a.label){case 0:if(!((null===(n=null===(t=null===(e=this.config)||void 0===e?void 0:e.loggingConfig)||void 0===t?void 0:t.network)||void 0===n?void 0:n.enabled)&&!this.networkObservers))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.e(4913).then(r.bind(r,64913))];case 2:return i=a.sent().NetworkObservers,this.networkObservers=new i,[3,4];case 3:return o=a.sent(),this.loggerProvider.warn("Failed to import or instantiate NetworkObservers:",o),[3,4];case 4:return[2]}})})},e}(),tO=function(e){return function(){var t=e.config||Z();return{logger:t.loggerProvider,logLevel:t.logLevel}}},tA=(p=new tk,{init:(0,O.w_)(p.init.bind(p),"init",tO(p)),evaluateTargetingAndCapture:(0,O.w_)(p.evaluateTargetingAndCapture.bind(p),"evaluateTargetingAndRecord",tO(p)),setSessionId:(0,O.w_)(p.setSessionId.bind(p),"setSessionId",tO(p)),getSessionId:(0,O.w_)(p.getSessionId.bind(p),"getSessionId",tO(p)),getSessionReplayProperties:(0,O.w_)(p.getSessionReplayProperties.bind(p),"getSessionReplayProperties",tO(p)),flush:(0,O.w_)(p.flush.bind(p),"flush",tO(p)),shutdown:(0,O.w_)(p.shutdown.bind(p),"shutdown",tO(p))}),tI=tA.init,tT=tA.setSessionId,tC=tA.getSessionId,tR=tA.getSessionReplayProperties,tj=tA.flush,tN=tA.shutdown,tD=tA.evaluateTargetingAndCapture,tM=r(96365);(h=S||(S={})).SET="$set",h.SET_ONCE="$setOnce",h.ADD="$add",h.APPEND="$append",h.PREPEND="$prepend",h.REMOVE="$remove",h.PREINSERT="$preInsert",h.POSTINSERT="$postInsert",h.UNSET="$unset",h.CLEAR_ALL="$clearAll",(v=E||(E={})).REVENUE_PRODUCT_ID="$productId",v.REVENUE_QUANTITY="$quantity",v.REVENUE_PRICE="$price",v.REVENUE_TYPE="$revenueType",v.REVENUE_CURRENCY="$currency",v.REVENUE="$revenue",(g=x||(x={})).IDENTIFY="$identify",g.GROUP_IDENTIFY="$groupidentify",g.REVENUE="revenue_amount";var tL=[S.SET,S.SET_ONCE,S.ADD,S.APPEND,S.PREPEND,S.POSTINSERT],tU=function(e){if(e.user_properties){var t={};return Object.keys(e.user_properties).forEach(function(r){if(tL.includes(r)){var n=e.user_properties&&e.user_properties[r];t=(0,P.__assign)((0,P.__assign)({},t),n)}}),t}},tF="1.23.2",tq=function(){function e(t){this.name=e.pluginName,this.type="enrichment",this.sessionReplay={flush:tj,getSessionId:tC,getSessionReplayProperties:tR,init:tI,setSessionId:tT,shutdown:tN,evaluateTargetingAndCapture:tD},this.options=(0,P.__assign)({forceSessionTracking:!1},t),this.srInitOptions=this.options}return e.prototype.setup=function(e,t){var r,n,i,o,a,s;return(0,P.__awaiter)(this,void 0,void 0,function(){var t,u;return(0,P.__generator)(this,function(c){switch(c.label){case 0:var l;return c.trys.push([0,2,,3]),null==e||e.loggerProvider.log("Installing @amplitude/plugin-session-replay, version ".concat(tF,".")),this.config=e,this.options.forceSessionTracking&&("boolean"==typeof e.defaultTracking?!1===e.defaultTracking&&(e.defaultTracking={pageViews:!1,formInteractions:!1,fileDownloads:!1,sessions:!0}):e.defaultTracking=(0,P.__assign)((0,P.__assign)({},e.defaultTracking),{sessions:!0})),t=(void 0===(l=this.config.instanceName)&&(l="$default_instance"),tM.V.getInstance(l)).identityStore.getIdentity().userProperties,this.srInitOptions={instanceName:this.config.instanceName,deviceId:null!==(r=this.options.deviceId)&&void 0!==r?r:this.config.deviceId,optOut:this.config.optOut,sessionId:this.options.customSessionId?void 0:this.config.sessionId,loggerProvider:this.config.loggerProvider,logLevel:this.config.logLevel,flushMaxRetries:this.config.flushMaxRetries,serverZone:this.config.serverZone,configServerUrl:this.options.configServerUrl||(null===(n=this.config.remoteConfig)||void 0===n?void 0:n.serverUrl),trackServerUrl:this.options.trackServerUrl,sampleRate:this.options.sampleRate,privacyConfig:{blockSelector:null===(i=this.options.privacyConfig)||void 0===i?void 0:i.blockSelector,maskSelector:null===(o=this.options.privacyConfig)||void 0===o?void 0:o.maskSelector,unmaskSelector:null===(a=this.options.privacyConfig)||void 0===a?void 0:a.unmaskSelector,defaultMaskLevel:null===(s=this.options.privacyConfig)||void 0===s?void 0:s.defaultMaskLevel},debugMode:this.options.debugMode,shouldInlineStylesheet:this.options.shouldInlineStylesheet,version:{type:"plugin",version:tF},performanceConfig:this.options.performanceConfig,storeType:this.options.storeType,experimental:this.options.experimental,userProperties:t,omitElementTags:this.options.omitElementTags,applyBackgroundColorToBlockedElements:this.options.applyBackgroundColorToBlockedElements,interactionConfig:this.options.interactionConfig,captureDocumentTitle:this.options.captureDocumentTitle,enableUrlChangePolling:this.options.enableUrlChangePolling,urlChangePollingInterval:this.options.urlChangePollingInterval},[4,this.sessionReplay.init(e.apiKey,this.srInitOptions).promise];case 1:return c.sent(),[3,3];case 2:return u=c.sent(),null==e||e.loggerProvider.error("Session Replay: Failed to initialize due to ".concat(u.message)),[3,3];case 3:return[2]}})})},e.prototype.onSessionIdChanged=function(e){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(t){switch(t.label){case 0:return this.config.loggerProvider.debug("Analytics session id is changed to ".concat(e,", SR session id is ").concat(String(this.sessionReplay.getSessionId()),".")),[4,this.sessionReplay.setSessionId(e).promise];case 1:return t.sent(),[2]}})})},e.prototype.onOptOutChanged=function(e){return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(t){switch(t.label){case 0:if(this.config.loggerProvider.debug("optOut is changed to ".concat(String(e),", calling ").concat(e?"sessionReplay.shutdown()":"sessionReplay.init()",".")),!e)return[3,1];return this.sessionReplay.shutdown(),[3,3];case 1:return[4,this.sessionReplay.init(this.config.apiKey,this.srInitOptions).promise];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.execute=function(e){var t;return(0,P.__awaiter)(this,void 0,void 0,function(){var r,n,i,o;return(0,P.__generator)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,9,,10]),!this.options.customSessionId)return[3,4];if(!(r=this.options.customSessionId(e)))return[3,3];if(!(r!==this.sessionReplay.getSessionId()))return[3,2];return[4,this.sessionReplay.setSessionId(r).promise];case 1:a.sent(),a.label=2;case 2:n=this.sessionReplay.getSessionReplayProperties(),e.event_properties=(0,P.__assign)((0,P.__assign)({},e.event_properties),n),a.label=3;case 3:return[3,8];case 4:if(!((r=this.config.sessionId)&&r!==this.sessionReplay.getSessionId()))return[3,6];return[4,this.sessionReplay.setSessionId(r).promise];case 5:a.sent(),a.label=6;case 6:if(!(r&&r===e.session_id))return[3,8];return i=void 0,e.event_type===k.J.IDENTIFY&&(i=tU(e)),[4,this.sessionReplay.evaluateTargetingAndCapture({event:e,userProperties:i})];case 7:a.sent(),n=this.sessionReplay.getSessionReplayProperties(),e.event_properties=(0,P.__assign)((0,P.__assign)({},e.event_properties),n),a.label=8;case 8:return[2,Promise.resolve(e)];case 9:return o=a.sent(),null===(t=this.config)||void 0===t||t.loggerProvider.error("Session Replay: Failed to enrich event due to ".concat(o.message)),[2,Promise.resolve(e)];case 10:return[2]}})})},e.prototype.teardown=function(){var e;return(0,P.__awaiter)(this,void 0,void 0,function(){return(0,P.__generator)(this,function(t){try{this.sessionReplay.shutdown(),this.config=null}catch(t){null===(e=this.config)||void 0===e||e.loggerProvider.error("Session Replay: teardown failed due to ".concat(t.message))}return[2]})})},e.prototype.getSessionReplayProperties=function(){return this.sessionReplay.getSessionReplayProperties()},e.pluginName="@amplitude/plugin-session-replay-browser",e}(),tB=function(e){return new tq(e)}},56602:function(e,t,r){"use strict";function n(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,{Z:function(){return n}})},17231:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[$]}function o(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===H}(e)||Array.isArray(e)||!!e[z]||!!(null===(t=e.constructor)||void 0===t?void 0:t[z])||f(e)||d(e))}function a(e,t,r){void 0===r&&(r=!1),0===s(e)?(r?Object.keys:W)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function s(e){var t=e[$];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:d(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t,r){var n=s(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return U&&e instanceof Map}function d(e){return F&&e instanceof Set}function p(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=V(e);delete t[$];for(var r=W(t),n=0;n<r.length;n++){var i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v(e,t){return void 0===t&&(t=!1),y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&a(e,function(e,t){return v(t,!0)},!0)),e}function g(){n(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function m(e){var t=K[e];return t||n(18,e),t}function b(e,t){t&&(m("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){w(e),e.p.forEach(E),e.p=null}function w(e){e===M&&(M=e.l)}function S(e){return M={p:[],l:M,h:e,m:!0,_:0}}function E(e){var t=e[$];0===t.i||1===t.i?t.j():t.g=!0}function x(e,t){t._=t.p.length;var r=t.p[0],i=void 0!==e&&e!==r;return t.h.O||m("ES5").S(t,e,i),i?(r[$].P&&(_(t),n(4)),o(e)&&(e=P(t,e),t.l||O(t,e)),t.u&&m("Patches").M(r[$].t,e,t.u,t.s)):e=P(t,r,[]),_(t),t.u&&t.v(t.u,t.s),e!==B?e:void 0}function P(e,t,r){if(y(t))return t;var n=t[$];if(!n)return a(t,function(i,o){return k(e,n,t,i,o,r)},!0),t;if(n.A!==e)return t;if(!n.P)return O(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=h(n.k):n.o,o=i,s=!1;3===n.i&&(o=new Set(i),i.clear(),s=!0),a(o,function(t,o){return k(e,n,i,t,o,r,s)}),O(e,i,!1),r&&e.u&&m("Patches").N(n,r,e.u,e.s)}return n.o}function k(e,t,r,n,a,s,l){if(i(a)){var f=P(e,a,s&&t&&3!==t.i&&!u(t.R,n)?s.concat(n):void 0);if(c(r,n,f),!i(f))return;e.m=!1}else l&&r.add(a);if(o(a)&&!y(a)){if(!e.h.D&&e._<1)return;P(e,a),t&&t.A.l||O(e,a)}}function O(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&v(t,r)}function A(e,t){var r=e[$];return(r?p(r):e)[t]}function I(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function T(e){e.P||(e.P=!0,e.l&&T(e.l))}function C(e){e.o||(e.o=h(e.t))}function R(e,t,r){var n,i,o,a,s,u,c,l=f(t)?m("MapSet").F(t,r):d(t)?m("MapSet").T(t,r):e.O?(o=i={i:(n=Array.isArray(t))?1:0,A:r?r.A:M,P:!1,I:!1,R:{},l:r,t:t,k:null,o:null,j:null,C:!1},a=J,n&&(o=[i],a=G),u=(s=Proxy.revocable(o,a)).revoke,c=s.proxy,i.k=c,i.j=u,c):m("ES5").J(t,r);return(r?r.A:M).p.push(l),l}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}r.d(t,{xC:function(){return ev},hg:function(){return ex},oM:function(){return em}});var N,D,M,L="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,F="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,B=L?Symbol.for("immer-nothing"):((D={})["immer-nothing"]=!0,D),z=L?Symbol.for("immer-draftable"):"__$immer_draftable",$=L?Symbol.for("immer-state"):"__$immer_state",H=""+Object.prototype.constructor,W="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,V=Object.getOwnPropertyDescriptors||function(e){var t={};return W(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},K={},J={get:function(e,t){if(t===$)return e;var r,n,i=p(e);if(!u(i,t))return(n=I(i,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var a=i[t];return e.I||!o(a)?a:a===A(e.t,t)?(C(e),e.o[t]=R(e.A.h,a,e)):a},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,r){var n=I(p(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=A(p(e),t),o=null==i?void 0:i[$];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(l(r,i)&&(void 0!==r||u(e.t,t)))return!0;C(e),T(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==A(e.t,t)||t in e.t?(e.R[t]=!1,C(e),T(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=p(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},G={};a(J,function(e,t){G[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),G.deleteProperty=function(e,t){return G.set.call(this,e,t,void 0)},G.set=function(e,t,r){return J.set.call(this,e[0],t,r,e[0])};var Y=new(function(){function e(e){var t=this;this.O=q,this.D=!0,this.produce=function(e,r,i){if("function"==typeof e&&"function"!=typeof r){var a,s=r;return r=e,function(e){var n=this;void 0===e&&(e=s);for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(o))})}}if("function"!=typeof r&&n(6),void 0!==i&&"function"!=typeof i&&n(7),o(e)){var u=S(t),c=R(t,e,void 0),l=!0;try{a=r(c),l=!1}finally{l?_(u):w(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return b(u,i),x(e,u)},function(e){throw _(u),e}):(b(u,i),x(a,u))}if(!e||"object"!=typeof e){if(void 0===(a=r(e))&&(a=e),a===B&&(a=void 0),t.D&&v(a,!0),i){var f=[],d=[];m("Patches").M(e,a,f,d),i(f,d)}return a}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(i))})};var n,i,o=t.produce(e,r,function(e,t){n=e,i=t});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return[e,n,i]}):[o,n,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||n(8),i(e)&&(i(t=e)||n(22,t),e=function e(t){if(!o(t))return t;var r,n=t[$],i=s(t);if(n){if(!n.P&&(n.i<4||!m("ES5").K(n)))return n.t;n.I=!0,r=j(t,i),n.I=!1}else r=j(t,i);return a(r,function(t,i){var o;n&&(2===s(o=n.t)?o.get(t):o[t])===i||c(r,t,e(i))}),3===i?new Set(r):r}(t));var t,r=S(this),u=R(this,e,void 0);return u[$].C=!0,w(r),u},t.finishDraft=function(e,t){var r=(e&&e[$]).A;return b(r,t),x(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!q&&n(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=m("Patches").$;return i(e)?o(e,t):this.produce(e,function(e){return o(e,t)})},e}()),X=Y.produce;Y.produceWithPatches.bind(Y),Y.setAutoFreeze.bind(Y),Y.setUseProxies.bind(Y),Y.applyPatches.bind(Y),Y.createDraft.bind(Y),Y.finishDraft.bind(Y);var Q=r(22360);function Z(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var ee=Z();ee.withExtraArgument=Z;var et=(N=function(e,t){return(N=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),er=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},en=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},ei=Object.defineProperty,eo=Object.defineProperties,ea=Object.getOwnPropertyDescriptors,es=Object.getOwnPropertySymbols,eu=Object.prototype.hasOwnProperty,ec=Object.prototype.propertyIsEnumerable,el=function(e,t,r){return t in e?ei(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ef=function(e,t){for(var r in t||(t={}))eu.call(t,r)&&el(e,r,t[r]);if(es)for(var n=0,i=es(t);n<i.length;n++){var r=i[n];ec.call(t,r)&&el(e,r,t[r])}return e},ed=function(e,t){return eo(e,ea(t))},ep="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?Q.qC:Q.qC.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var eh=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return et(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,en([void 0],e[0].concat(this)))):new(t.bind.apply(t,en([void 0],e.concat(this))))},t}(Array);function ev(e){var t,r=function(e){var t,r,n,i;return void 0===(t=e)&&(t={}),n=void 0===(r=t.thunk)||r,t.immutableCheck,t.serializableCheck,i=new eh,n&&("boolean"==typeof n?i.push(ee):i.push(ee.withExtraArgument(n.extraArgument))),i},n=e||{},i=n.reducer,o=void 0===i?void 0:i,a=n.middleware,s=void 0===a?r():a,u=n.devTools,c=void 0===u||u,l=n.preloadedState,f=n.enhancers,d=void 0===f?void 0:f;if("function"==typeof o)t=o;else if(function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return t===r}(o))t=(0,Q.UY)(o);else throw Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;"function"==typeof p&&(p=p(r));var h=Q.md.apply(void 0,p),v=Q.qC;c&&(v=ep(ef({trace:!1},"object"==typeof c&&c)));var g=[h];Array.isArray(d)?g=en([h],d):"function"==typeof d&&(g=d(g));var y=v.apply(void 0,g);return(0,Q.MT)(t,void 0===l?void 0:l,y)}function eg(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var i=t.apply(void 0,r);if(!i)throw Error("prepareAction did not return an object");return ef(ef({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function ey(e){var t,r={},n=[],i={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(n in r)throw Error("addCase cannot be called with two reducers for the same action type");return r[n]=t,i},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[r,n,t]}function em(e){var t,r=e.name;if(!r)throw Error("`name` is a required option for createSlice");var n="function"==typeof e.initialState?e.initialState:X(e.initialState,function(){}),a=e.reducers||{},s=Object.keys(a),u={},c={},l={};function f(){var t="function"==typeof e.extraReducers?ey(e.extraReducers):[e.extraReducers],r=t[0],a=t[1],s=t[2];return function(e,t,r,n){void 0===r&&(r=[]);var a,s="function"==typeof t?ey(t):[t,r,n],u=s[0],c=s[1],l=s[2];if("function"==typeof e)a=function(){return X(e(),function(){})};else{var f=X(e,function(){});a=function(){return f}}function d(e,t){void 0===e&&(e=a());var r=en([u[t.type]],c.filter(function(e){return(0,e.matcher)(t)}).map(function(e){return e.reducer}));return 0===r.filter(function(e){return!!e}).length&&(r=[l]),r.reduce(function(e,r){if(r){if(i(e)){var n=r(e,t);return void 0===n?e:n}if(o(e))return X(e,function(e){return r(e,t)});var n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return d.getInitialState=a,d}(n,ef(ef({},void 0===r?{}:r),c),void 0===a?[]:a,void 0===s?void 0:s)}return s.forEach(function(e){var t,n,i=a[e],o=r+"/"+e;"reducer"in i?(t=i.reducer,n=i.prepare):t=i,u[e]=t,c[o]=t,l[e]=n?eg(o,n):eg(o)}),{name:r,reducer:function(e,r){return t||(t=f()),t(e,r)},actions:l,caseReducers:u,getInitialState:function(){return t||(t=f()),t.getInitialState()}}}var eb=function(e){void 0===e&&(e=21);for(var t="",r=e;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},e_=["name","message","stack","code"],ew=function(e,t){this.payload=e,this.meta=t},eS=function(e,t){this.payload=e,this.meta=t},eE=function(e){if("object"==typeof e&&null!==e){for(var t={},r=0;r<e_.length;r++){var n=e_[r];"string"==typeof e[n]&&(t[n]=e[n])}return t}return{message:String(e)}};function ex(e,t,r){var n=eg(e+"/fulfilled",function(e,t,r,n){return{payload:e,meta:ed(ef({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}}),i=eg(e+"/pending",function(e,t,r){return{payload:void 0,meta:ed(ef({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}}),o=eg(e+"/rejected",function(e,t,n,i,o){return{payload:i,error:(r&&r.serializeError||eE)(e||"Rejected"),meta:ed(ef({},o||{}),{arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"})}}),a="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign(function(e){return function(s,u,c){var l,f=(null==r?void 0:r.idGenerator)?r.idGenerator(e):eb(),d=new a,p=new Promise(function(e,t){return d.signal.addEventListener("abort",function(){return t({name:"AbortError",message:l||"Aborted"})})}),h=!1,v=function(){var a,l;return a=this,l=function(){var a,l,v,g,y;return er(this,function(m){switch(m.label){case 0:var b;if(m.trys.push([0,4,,5]),!(null!==(b=g=null==(a=null==r?void 0:r.condition)?void 0:a.call(r,e,{getState:u,extra:c}))&&"object"==typeof b&&"function"==typeof b.then))return[3,2];return[4,g];case 1:g=m.sent(),m.label=2;case 2:if(!1===g)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,s(i(f,e,null==(l=null==r?void 0:r.getPendingMeta)?void 0:l.call(r,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([p,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:d.signal,rejectWithValue:function(e,t){return new ew(e,t)},fulfillWithValue:function(e,t){return new eS(e,t)}})).then(function(t){if(t instanceof ew)throw t;return t instanceof eS?n(t.payload,f,e,t.meta):n(t,f,e)})])];case 3:return v=m.sent(),[3,5];case 4:return v=(y=m.sent())instanceof ew?o(null,f,e,y.payload,y.meta):o(y,f,e),[3,5];case 5:return r&&!r.dispatchConditionRejection&&o.match(v)&&v.meta.condition||s(v),[2,v]}})},new Promise(function(e,t){var r=function(e){try{i(l.next(e))}catch(e){t(e)}},n=function(e){try{i(l.throw(e))}catch(e){t(e)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(r,n)};i((l=l.apply(a,null)).next())})}();return Object.assign(v,{abort:function(e){h&&(l=e,d.abort())},requestId:f,arg:e,unwrap:function(){return v.then(eP)}})}},{pending:i,rejected:o,fulfilled:n,typePrefix:e})}function eP(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var ek="listenerMiddleware";eg(ek+"/add"),eg(ek+"/removeAll"),eg(ek+"/remove"),function(){function e(e,t){var r=s[e];return r?r.enumerable=t:s[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[$];return J.get(t,e)},set:function(t){var r=this[$];J.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][$];if(!i.P)switch(i.i){case 5:n(i)&&T(i);break;case 4:r(i)&&T(i)}}}function r(e){for(var t=e.t,r=e.k,n=W(r),i=n.length-1;i>=0;i--){var o=n[i];if(o!==$){var a=t[o];if(void 0===a&&!u(t,o))return!0;var s=r[o],c=s&&s[$];if(c?c.t!==a:!l(s,a))return!0}}var f=!!t[$];return n.length!==W(t).length+(f?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var o,s={};o={J:function(t,r){var n=Array.isArray(t),i=function(t,r){if(t){for(var n=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(n,""+i,e(i,!0));return n}var o=V(r);delete o[$];for(var a=W(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(n,t),o={i:n?5:4,A:r?r.A:M,P:!1,I:!1,R:{},l:r,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,$,{value:o,writable:!0}),i},S:function(e,r,o){o?i(r)&&r[$].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[$];if(r){var i=r.t,o=r.k,s=r.R,c=r.i;if(4===c)a(o,function(t){t!==$&&(void 0!==i[t]||u(i,t)?s[t]||e(o[t]):(s[t]=!0,T(r)))}),a(i,function(e){void 0!==o[e]||u(o,e)||(s[e]=!1,T(r))});else if(5===c){if(n(r)&&(T(r),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var f=i.length;f<o.length;f++)s[f]=!0;for(var d=Math.min(o.length,i.length),p=0;p<d;p++)o.hasOwnProperty(p)||(s[p]=!0),void 0===s[p]&&e(o[p])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}},K.ES5||(K.ES5=o)}()},10765:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEvent=void 0;var n,i=r(1215);(n||(n={})).TRACK_EVENT="trackEvent",t.sendEvent=function(e){void 0!==e.value?i.push([n.TRACK_EVENT,e.category,e.action,e.name,e.value]):void 0!==e.name?i.push([n.TRACK_EVENT,e.category,e.action,e.name]):i.push([n.TRACK_EVENT,e.category,e.action])}},53508:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadHeatmapSessionRecording=void 0;var n=r(1215);t.loadHeatmapSessionRecording=function(e,t,r,i,o){void 0===t&&(t={}),void 0===o&&(o=!1);var a=document.createElement("script");a.src=e+"/plugins/HeatmapSessionRecording/tracker.min.js",a.async=!0,r&&a.setAttribute("nonce",r),a.onload=function(){o&&(console.log("HeatmapSessionRecording tracker.min.js loaded"),n.push(["HeatmapSessionRecording::debug","true"]));var e,r,i=null!==(e=t.captureKeystrokes)&&void 0!==e&&e;n.push(["HeatmapSessionRecording.setKeystrokes",i.toString()]),o&&console.log("Keystrokes "+(i?"enabled":"disabled"));var a=null!==(r=t.captureVisibleContentOnly)&&void 0!==r&&r;n.push(["HeatmapSessionRecording.setCaptureVisibleContentOnly",a.toString()]),o&&console.log("Capture "+(a?"visible content only":"full page")+" enabled");var s=function(){o&&console.log("Activating Matomo Heatmap & Session Recording"),n.push(["HeatmapSessionRecording::enable"]),o&&console.log("HeatmapSessionRecording enabled at",new Date().toISOString())};"complete"===document.readyState?s():window.addEventListener("load",s)},a.onerror=function(){o&&console.error("Failed to load HeatmapSessionRecording tracker.min.js"),i&&i()},document.head.appendChild(a)}},46201:function(e,t,r){"use strict";var n=r(1215);Object.defineProperty(t,"VF",{enumerable:!0,get:function(){return n.push}}),r(10765),r(86900),r(94446),r(86900),r(94446),r(86900),r(94446)},86900:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackAppRouter=void 0;var n=r(18350),i=r(1215),o=r(53508),a={isInitialPageview:!0,previousUrl:"",matomoInitialized:!1};t.trackAppRouter=function(e){var t,r=e.url,s=e.siteId,u=e.jsTrackerFile,c=e.phpTrackerFile,l=e.excludeUrlsPatterns,f=e.disableCookies,d=e.onRouteChangeStart,p=e.onRouteChangeComplete,h=e.onInitialization,v=e.onScriptLoadingError,g=e.nonce,y=e.trustedPolicyName,m=e.debug,b=void 0!==m&&m,_=e.pathname,w=void 0===_?"":_,S=e.searchParams,E=e.searchKeyword,x=void 0===E?"q":E,P=e.searchRoutes,k=void 0===P?["/recherche","/search"]:P,O=e.enableHeatmapSessionRecording,A=e.enableHeartBeatTimer,I=e.heartBeatTimerInterval,T=e.heatmapConfig,C=e.cleanUrl,R=void 0!==C&&C;if(!r){b&&console.warn("Matomo disabled, please provide matomo url");return}window._paq=null!==(t=window._paq)&&void 0!==t?t:[];var j=(null==S?void 0:S.toString())||"",N=j?w+"?"+j:w;if(!a.matomoInitialized){a.matomoInitialized=!0;var D=n.createSanitizer(void 0===y?"matomo-next":y);i.configureMatomoTracker(r,s,void 0===c?"matomo.php":c,void 0!==f&&f),i.loadMatomoScript(r,void 0===u?"matomo.js":u,D,g,v),void 0!==O&&O&&o.loadHeatmapSessionRecording(r,void 0===T?{}:T,g,v,b),i.configureHeartBeatTimer(void 0!==A&&A,I),h&&h()}if(n.matchesAnyPattern(N,void 0===l?[]:l)){b&&console.log("matomo: exclude track "+N),a.previousUrl=N;return}var M=function(){var e=k.some(function(e){return N.startsWith(e)});if(i.push(["setDocumentTitle",document.title]),e){var t=(null==S?void 0:S.get(x))||"";i.push(["trackSiteSearch",t])}else i.push(["trackPageView"])};if(a.isInitialPageview)a.isInitialPageview=!1,a.previousUrl=N,M();else if(N!==a.previousUrl){var L=k.some(function(e){return N.startsWith(e)}),U=R&&!L?n.cleanUrlPath(N):N;if(a.previousUrl){var F=k.some(function(e){return a.previousUrl.startsWith(e)});i.push(["setReferrerUrl",R&&!F?n.cleanUrlPath(a.previousUrl):a.previousUrl])}i.push(["setCustomUrl",U]),i.push(["deleteCustomVariables","page"]),d&&d(N),setTimeout(function(){M(),p&&p(N)},0),a.previousUrl=N}}},94446:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackPagesRouter=void 0;var i=n(r(53979)),o=r(18350),a=r(1215),s=r(53508);t.trackPagesRouter=function(e){var t,r=e.url,n=e.siteId,u=e.jsTrackerFile,c=e.phpTrackerFile,l=e.excludeUrlsPatterns,f=void 0===l?[]:l,d=e.disableCookies,p=e.onRouteChangeStart,h=e.onRouteChangeComplete,v=e.onInitialization,g=e.onScriptLoadingError,y=e.nonce,m=e.trustedPolicyName,b=e.debug,_=void 0!==b&&b,w=e.searchKeyword,S=void 0===w?"q":w,E=e.searchRoutes,x=void 0===E?["/recherche","/search"]:E,P=e.enableHeatmapSessionRecording,k=e.enableHeartBeatTimer,O=e.heartBeatTimerInterval,A=e.heatmapConfig,I=e.cleanUrl,T=void 0!==I&&I;if(!r){_&&console.warn("Matomo disabled, please provide matomo url");return}window._paq=null!==(t=window._paq)&&void 0!==t?t:[];var C=o.createSanitizer(void 0===m?"matomo-next":m),R="",j="undefined"!=typeof window&&o.matchesAnyPattern(window.location.pathname,f);v&&v(),j?"undefined"!=typeof window&&_&&console.log("matomo: exclude track "+window.location.pathname):a.push(["trackPageView"]),a.configureMatomoTracker(r,n,void 0===c?"matomo.php":c,void 0!==d&&d),a.loadMatomoScript(r,void 0===u?"matomo.js":u,C,y,g),void 0!==P&&P&&s.loadHeatmapSessionRecording(r,void 0===A?{}:A,y,g,_),a.configureHeartBeatTimer(void 0!==k&&k,O),R="undefined"!=typeof window?window.location.pathname:"",i.default.events.on("routeChangeStart",function(e){if(!o.matchesAnyPattern(e,f)){var t=x.some(function(t){return e.startsWith(t)}),r=T&&!t?o.cleanUrlPath(e):e;R&&a.push(["setReferrerUrl",""+R]),a.push(["setCustomUrl",r]),a.push(["deleteCustomVariables","page"]),R=r,p&&p(e)}}),i.default.events.on("routeChangeComplete",function(e){!o.matchesAnyPattern(e,f)&&(setTimeout(function(){var t=i.default.query[S];a.push(["setDocumentTitle",document.title]),x.some(function(t){return e.startsWith(t)})?a.push(["trackSiteSearch","string"==typeof t?t:""]):a.push(["trackPageView"])},0),h&&h(e))})}},1215:function(e,t){"use strict";function r(e){window._paq||(window._paq=[]),window._paq.push(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.configureHeartBeatTimer=t.configureMatomoTracker=t.loadMatomoScript=t.push=void 0,t.push=r,t.loadMatomoScript=function(e,t,r,n,i){var o,a,s=document.createElement("script"),u=document.getElementsByTagName("script")[0];n&&s.setAttribute("nonce",n),s.type="text/javascript",s.async=!0,s.defer=!0;var c=e+"/"+t;s.src=null!==(a=null===(o=r.createScriptURL)||void 0===o?void 0:o.call(r,c))&&void 0!==a?a:c,i&&(s.onerror=function(){i()}),u.parentNode&&u.parentNode.insertBefore(s,u)},t.configureMatomoTracker=function(e,t,n,i){i&&r(["disableCookies"]),r(["enableLinkTracking"]),r(["setTrackerUrl",e+"/"+n]),r(["setSiteId",t])},t.configureHeartBeatTimer=function(e,t){e&&(void 0!==t?r(["enableHeartBeatTimer",t]):r(["enableHeartBeatTimer"]))}},18350:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSanitizer=t.trustedPolicyHooks=t.cleanUrlPath=t.matchesAnyPattern=void 0,t.matchesAnyPattern=function(e,t){return t.some(function(t){return t.test(e)})},t.cleanUrlPath=function(e){return e.split("?")[0].replace(/#.*/,"")},t.trustedPolicyHooks={createScript:function(e){return e},createScriptURL:function(e){return e}},t.createSanitizer=function(e){var r,n;return null!==(n=null===(r=window.trustedTypes)||void 0===r?void 0:r.createPolicy(e,t.trustedPolicyHooks))&&void 0!==n?n:t.trustedPolicyHooks}},50173:function(e,t,r){e.exports=r(16409)},93420:function(e,t,r){"use strict";var n=r(48434),i=r(20615),o=r(46803),a=r(5407),s=r(54465),u=r(90750),c=r(80805),l=r(58625),f=r(71242),d=r(73668),p=r(84866);e.exports=function(e){return new Promise(function(t,r){var h,v=e.data,g=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(v)&&n.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(_+":"+w)}var S=s(e.baseURL,e.url);function E(){if(b){var n="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null;i(function(e){t(e),m()},function(e){r(e),m()},{data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:e,request:b}),b=null}}if(b.open(e.method.toUpperCase(),a(S,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(E)},b.onabort=function(){b&&(r(new f("Request aborted",f.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new f("Network Error",f.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new f(t,n.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,b)),b=null},n.isStandardBrowserEnv()){var x=(e.withCredentials||c(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;x&&(g[e.xsrfHeaderName]=x)}"setRequestHeader"in b&&n.forEach(g,function(e,t){void 0===v&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(r(!e||e&&e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),v||(v=null);var P=p(S);if(P&&-1===["http","https","file"].indexOf(P)){r(new f("Unsupported protocol "+P+":",f.ERR_BAD_REQUEST,e));return}b.send(v)})}},16409:function(e,t,r){"use strict";var n=r(48434),i=r(35457),o=r(62960),a=r(65535),s=function e(t){var r=new o(t),s=i(o.prototype.request,r);return n.extend(s,o.prototype,r),n.extend(s,r),s.create=function(r){return e(a(t,r))},s}(r(26788));s.Axios=o,s.CanceledError=r(73668),s.CancelToken=r(9201),s.isCancel=r(79439),s.VERSION=r(99133).version,s.toFormData=r(34421),s.AxiosError=r(71242),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=r(52633),s.isAxiosError=r(53927),e.exports=s,e.exports.default=s},9201:function(e,t,r){"use strict";var n=r(73668);function i(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,r=this;this.promise.then(function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}}),this.promise.then=function(e){var t,n=new Promise(function(e){r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},73668:function(e,t,r){"use strict";var n=r(71242);function i(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(48434).inherits(i,n,{__CANCEL__:!0}),e.exports=i},79439:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},62960:function(e,t,r){"use strict";var n=r(48434),i=r(5407),o=r(66055),a=r(73354),s=r(65535),u=r(54465),c=r(26618),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new o,response:new o}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r,n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});var u=[];if(this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)}),!o){var f=[a,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(u),r=Promise.resolve(t);f.length;)r=r.then(f.shift(),f.shift());return r}for(var d=t;i.length;){var p=i.shift(),h=i.shift();try{d=p(d)}catch(e){h(e);break}}try{r=a(d)}catch(e){return Promise.reject(e)}for(;u.length;)r=r.then(u.shift(),u.shift());return r},f.prototype.getUri=function(e){return i(u((e=s(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],function(e){f.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}}),n.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)}),e.exports=f},71242:function(e,t,r){"use strict";var n=r(48434);function i(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){a[e]={value:e}}),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,r,a,s,u){var c=Object.create(o);return n.toFlatObject(e,c,function(e){return e!==Error.prototype}),i.call(c,e.message,t,r,a,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},66055:function(e,t,r){"use strict";var n=r(48434);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},54465:function(e,t,r){"use strict";var n=r(24154),i=r(79688);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},73354:function(e,t,r){"use strict";var n=r(48434),i=r(33429),o=r(79439),a=r(26788),s=r(73668);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!o(t)&&(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},65535:function(e,t,r){"use strict";var n=r(48434);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function a(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=c[e]||o,i=t(e);n.isUndefined(i)&&t!==u||(r[e]=i)}),r}},20615:function(e,t,r){"use strict";var n=r(71242);e.exports=function(e,t,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}},33429:function(e,t,r){"use strict";var n=r(48434),i=r(26788);e.exports=function(e,t,r){var o=this||i;return n.forEach(r,function(r){e=r.call(o,e,t)}),e}},26788:function(e,t,r){"use strict";var n,i=r(28070),o=r(48434),a=r(89582),s=r(71242),u=r(58625),c=r(34421),l={"Content-Type":"application/x-www-form-urlencoded"};function f(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var d={transitional:u,adapter:("undefined"!=typeof XMLHttpRequest?n=r(93420):void 0!==i&&"[object process]"===Object.prototype.toString.call(i)&&(n=r(93420)),n),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))return e;if(o.isArrayBufferView(e))return e.buffer;if(o.isURLSearchParams(e))return f(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,n=o.isObject(e),i=t&&t["Content-Type"];if((r=o.isFileList(e))||n&&"multipart/form-data"===i){var s=this.env&&this.env.FormData;return c(r?{"files[]":e}:e,s&&new s)}return n||"application/json"===i?(f(t,"application/json"),function(e,t,r){if(o.isString(e))try{return(0,JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||n&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(68405)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(e){d.headers[e]={}}),o.forEach(["post","put","patch"],function(e){d.headers[e]=o.merge(l)}),e.exports=d},58625:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},99133:function(e){e.exports={version:"0.27.2"}},35457:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5407:function(e,t,r){"use strict";var n=r(48434);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var o,a=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},79688:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},46803:function(e,t,r){"use strict";var n=r(48434);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},24154:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},53927:function(e,t,r){"use strict";var n=r(48434);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},80805:function(e,t,r){"use strict";var n=r(48434);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},89582:function(e,t,r){"use strict";var n=r(48434);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},68405:function(e){e.exports=null},90750:function(e,t,r){"use strict";var n=r(48434),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e&&n.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t&&!(a[t]&&i.indexOf(t)>=0)&&("set-cookie"===t?a[t]=(a[t]?a[t]:[]).concat([r]):a[t]=a[t]?a[t]+", "+r:r)}),a}},84866:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},52633:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},34421:function(e,t,r){"use strict";var n=r(72672).lW,i=r(48434);e.exports=function(e,t){t=t||new FormData;var r=[];function o(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):n.from(e):e}return!function e(n,a){if(i.isPlainObject(n)||i.isArray(n)){if(-1!==r.indexOf(n))throw Error("Circular reference detected in "+a);r.push(n),i.forEach(n,function(r,n){if(!i.isUndefined(r)){var s,u=a?a+"."+n:n;if(r&&!a&&"object"==typeof r){if(i.endsWith(n,"{}"))r=JSON.stringify(r);else if(i.endsWith(n,"[]")&&(s=i.toArray(r))){s.forEach(function(e){i.isUndefined(e)||t.append(u,o(e))});return}}e(r,u)}}),r.pop()}else t.append(a,o(n))}(e),t}},26618:function(e,t,r){"use strict";var n=r(99133).version,i=r(71242),o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var a={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new i(o(n," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!a[n]&&(a[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),o=n.length;o-- >0;){var a=n[o],s=t[a];if(s){var u=e[a],c=void 0===u||s(u,a,e);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:o}},48434:function(e,t,r){"use strict";var n,i,o=r(35457),a=Object.prototype.toString,s=(n=Object.create(null),function(e){var t=a.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function u(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function c(e){return Array.isArray(e)}function l(e){return void 0===e}var f=u("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function p(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var h=u("Date"),v=u("File"),g=u("Blob"),y=u("FileList");function m(e){return"[object Function]"===a.call(e)}var b=u("URLSearchParams");function _(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),c(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}}var w=(i="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return i&&e instanceof i});e.exports={isArray:c,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||m(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:p,isUndefined:l,isDate:h,isFile:v,isBlob:g,isFunction:m,isStream:function(e){return d(e)&&m(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:_,merge:function e(){var t={};function r(r,n){p(t[n])&&p(r)?t[n]=e(t[n],r):p(r)?t[n]=e({},r):c(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)_(arguments[n],r);return t},extend:function(e,t,r){return _(t,function(t,n){r&&"function"==typeof t?e[n]=o(t,r):e[n]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,i,o,a={};t=t||{};do{for(i=(n=Object.getOwnPropertyNames(e)).length;i-- >0;)a[o=n[i]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:u,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return -1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(l(t))return null;for(var r=Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:y}},27949:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i((a+s)*3/4-s),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(function(e,t,n){for(var i,o=[],a=t;a<n;a+=3)o.push(r[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},72672:function(e,t,r){"use strict";var n=r(27949),i=r(57804),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(I(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(I(e,ArrayBuffer)||e&&I(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(I(e,SharedArrayBuffer)||e&&I(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);var i=function(e){if(s.isBuffer(e)){var t,r=0|p(e.length),n=a(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),a(e<0?0:0|p(e))}function f(e){for(var t=e.length<0?0:0|p(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function p(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||I(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return O(e).length;default:if(i)return n?-1:k(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,r){var i,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=T[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=t,o=r,0===i&&o===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else -1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function _(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function S(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,n,o){return t=+t,r>>>=0,o||S(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function x(e,t,r,n,o){return t=+t,r>>>=0,o||S(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.lW=s,t.h2=50,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(I(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),I(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(I(o,Uint8Array))i+o.length>n.length?s.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else if(s.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):v.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(I(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,u=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,s,u,c,l,f,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var p=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(s!=s)break;e[r+a]=s}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,A(k(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,A(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return u=t,c=r,A(O(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,A(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||_(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return x(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return x(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),u=a.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%u]}return this};var P=/[^+/0-9A-Za-z-_]/g;function k(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function O(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function I(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var T=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},86244:function(e,t,r){"use strict";var n=r(62445),i=r(25175),o=r(88100),a=r(5330);e.exports=a||n.call(o,i)},25175:function(e){"use strict";e.exports=Function.prototype.apply},88100:function(e){"use strict";e.exports=Function.prototype.call},52060:function(e,t,r){"use strict";var n=r(62445),i=r(42711),o=r(88100),a=r(86244);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(n,o,e)}},5330:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},9279:function(e,t,r){"use strict";var n=r(90195),i=r(52060),o=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i([r]):r}},23501:function(e,t){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},i=e.split(";"),o=(t||{}).decode||r,a=0;a<i.length;a++){var s=i[a],u=s.indexOf("=");if(!(u<0)){var c=s.substring(0,u).trim();if(void 0==n[c]){var l=s.substring(u+1,s.length).trim();'"'===l[0]&&(l=l.slice(1,-1)),n[c]=function(e,t){try{return t(e)}catch(t){return e}}(l,o)}}}return n},t.serialize=function(e,t,r){var o=r||{},a=o.encode||n;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var s=a(t);if(s&&!i.test(s))throw TypeError("argument val is invalid");var u=e+"="+s;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var r=decodeURIComponent,n=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},84891:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.checkCookies=t.hasCookie=t.removeCookies=t.deleteCookie=t.setCookies=t.setCookie=t.getCookie=t.getCookies=void 0;var o=r(23501),a=function(){return"undefined"!=typeof window},s=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.getCookies=function(e){if(e&&(t=e.req),!a())return t&&t.cookies?t.cookies:t&&t.headers&&t.headers.cookie?(0,o.parse)(t.headers.cookie):{};for(var t,r={},n=document.cookie?document.cookie.split("; "):[],i=0,s=n.length;i<s;i++){var u=n[i].split("="),c=u.slice(1).join("=");r[u[0]]=c}return r},t.getCookie=function(e,r){var n,i=(0,t.getCookies)(r)[e];if(void 0!==i)return"true"===(n=i?i.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):i)||"false"!==n&&("undefined"!==n?"null"===n?null:n:void 0)},t.setCookie=function(e,t,r){if(r){var u,c,l,f=r.req,d=r.res,p=i(r,["req","res"]);c=f,l=d,u=p}var h=(0,o.serialize)(e,s(t),n({path:"/"},u));if(a())document.cookie=h;else if(l&&c){var v=l.getHeader("Set-Cookie");if(Array.isArray(v)||(v=v?[String(v)]:[]),l.setHeader("Set-Cookie",v.concat(h)),c&&c.cookies){var g=c.cookies;""===t?delete g[e]:g[e]=s(t)}if(c&&c.headers&&c.headers.cookie){var g=(0,o.parse)(c.headers.cookie);""===t?delete g[e]:g[e]=s(t),c.headers.cookie=Object.entries(g).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.setCookies=function(e,r,n){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,t.setCookie)(e,r,n)},t.deleteCookie=function(e,r){return(0,t.setCookie)(e,"",n(n({},r),{maxAge:-1}))},t.removeCookies=function(e,r){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,t.deleteCookie)(e,r)},t.hasCookie=function(e,r){return!!e&&(0,t.getCookies)(r).hasOwnProperty(e)},t.checkCookies=function(e,r){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,t.hasCookie)(e,r)}},16094:function(e,t,r){"use strict";var n,i=r(52060),o=r(65081);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!n&&o&&o(Object.prototype,"__proto__"),s=Object,u=s.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof u&&function(e){return u(null==e?e:s(e))}},35119:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},18074:function(e){"use strict";e.exports=EvalError},96663:function(e){"use strict";e.exports=Error},66824:function(e){"use strict";e.exports=RangeError},22809:function(e){"use strict";e.exports=ReferenceError},75235:function(e){"use strict";e.exports=SyntaxError},42711:function(e){"use strict";e.exports=TypeError},80605:function(e){"use strict";e.exports=URIError},90862:function(e){"use strict";e.exports=Object},91628:function(e){"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},i=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},o=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var a,s=this;if("function"!=typeof s||"[object Function]"!==t.apply(s))throw TypeError("Function.prototype.bind called on incompatible "+s);for(var u=i(arguments,1),c=r(0,s.length-u.length),l=[],f=0;f<c;f++)l[f]="$"+f;if(a=Function("binder","return function ("+o(l,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=s.apply(this,n(u,arguments));return Object(t)===t?t:this}return s.apply(e,n(u,arguments))}),s.prototype){var d=function(){};d.prototype=s.prototype,a.prototype=new d,d.prototype=null}return a}},62445:function(e,t,r){"use strict";var n=r(91628);e.exports=Function.prototype.bind||n},90195:function(e,t,r){"use strict";var n,i=r(90862),o=r(96663),a=r(18074),s=r(66824),u=r(22809),c=r(75235),l=r(42711),f=r(80605),d=r(8294),p=r(80484),h=r(24401),v=r(40407),g=r(56458),y=r(60764),m=r(88574),b=Function,_=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},w=r(65081),S=r(35119),E=function(){throw new l},x=w?function(){try{return arguments.callee,E}catch(e){try{return w(arguments,"callee").get}catch(e){return E}}}():E,P=r(46211)(),k=r(14204),O=r(35628),A=r(25781),I=r(25175),T=r(88100),C={},R="undefined"!=typeof Uint8Array&&k?k(Uint8Array):n,j={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":P&&k?k([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":C,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&k?k(k([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&P&&k?k(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&P&&k?k(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&k?k(""[Symbol.iterator]()):n,"%Symbol%":P?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":x,"%TypedArray%":R,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":I,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":O,"%Math.abs%":d,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":v,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":m,"%Reflect.getPrototypeOf%":A};if(k)try{null.error}catch(e){var N=k(k(e));j["%Error.prototype%"]=N}var D=function e(t){var r;if("%AsyncFunction%"===t)r=_("async function () {}");else if("%GeneratorFunction%"===t)r=_("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=_("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&k&&(r=k(i.prototype))}return j[t]=r,r},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=r(62445),U=r(28575),F=L.call(T,Array.prototype.concat),q=L.call(I,Array.prototype.splice),B=L.call(T,String.prototype.replace),z=L.call(T,String.prototype.slice),$=L.call(T,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,V=function(e){var t=z(e,0,1),r=z(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return B(e,H,function(e,t,r,i){n[n.length]=r?B(i,W,"$1"):t||e}),n},K=function(e,t){var r,n=e;if(U(M,n)&&(n="%"+(r=M[n])[0]+"%"),U(j,n)){var i=j[n];if(i===C&&(i=D(n)),void 0===i&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===$(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=V(e),n=r.length>0?r[0]:"",i=K("%"+n+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(n=u[0],q(r,F([0,1],u)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],h=z(p,0,1),v=z(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===v||"'"===v||"`"===v)&&h!==v)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&d||(s=!0),n+="."+p,U(j,o="%"+n+"%"))a=j[o];else if(null!=a){if(!(p in a)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(w&&f+1>=r.length){var g=w(a,p);a=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[p]}else d=U(a,p),a=a[p];d&&!s&&(j[o]=a)}}return a}},35628:function(e,t,r){"use strict";var n=r(90862);e.exports=n.getPrototypeOf||null},25781:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},14204:function(e,t,r){"use strict";var n=r(25781),i=r(35628),o=r(16094);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},59505:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},65081:function(e,t,r){"use strict";var n=r(59505);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},46211:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(38772);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},38772:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},28575:function(e,t,r){"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(62445);e.exports=o.call(n,i)},31295:function(e,t,r){"use strict";var n=r(71705),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var i=p(r);i&&i!==h&&e(t,i,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(t),v=u(r),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&!(n&&n[y])&&!(v&&v[y])&&!(s&&s[y])){var m=d(r,y);try{c(t,y,m)}catch(e){}}}}return t}},57804:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?5960464477539062e-23:0,p=n?0:o-1,h=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*v}},8873:function(e,t,r){var n=r(47780)(r(97606),"DataView");e.exports=n},18187:function(e,t,r){var n=r(12424),i=r(27441),o=r(49375),a=r(81246),s=r(89491);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},16420:function(e,t,r){var n=r(99264),i=r(47039),o=r(71129),a=r(1325),s=r(61654);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},91690:function(e,t,r){var n=r(47780)(r(97606),"Map");e.exports=n},20343:function(e,t,r){var n=r(9251),i=r(29072),o=r(53829),a=r(10465),s=r(68692);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},83399:function(e,t,r){var n=r(47780)(r(97606),"Promise");e.exports=n},68832:function(e,t,r){var n=r(47780)(r(97606),"Set");e.exports=n},54653:function(e,t,r){var n=r(20343),i=r(47409),o=r(18818);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},12860:function(e,t,r){var n=r(16420),i=r(60734),o=r(2730),a=r(46971),s=r(46377),u=r(25473);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},86943:function(e,t,r){var n=r(97606).Symbol;e.exports=n},22736:function(e,t,r){var n=r(97606).Uint8Array;e.exports=n},28631:function(e,t,r){var n=r(47780)(r(97606),"WeakMap");e.exports=n},85413:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},62448:function(e,t,r){var n=r(25882),i=r(95460),o=r(4008),a=r(5616),s=r(26694),u=r(88526),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&i(e),f=!r&&!l&&a(e),d=!r&&!l&&!f&&u(e),p=r||l||f||d,h=p?n(e.length,String):[],v=h.length;for(var g in e)(t||c.call(e,g))&&!(p&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v)))&&h.push(g);return h}},35964:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},96482:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},26533:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},91404:function(e,t,r){var n=r(27278),i=r(3665),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},94128:function(e,t,r){var n=r(3665);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return -1}},27278:function(e,t,r){var n=r(83226);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},17114:function(e,t,r){var n=r(84208),i=r(24114);e.exports=function(e,t){t=n(t,e);for(var r=0,o=t.length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},85582:function(e,t,r){var n=r(96482),i=r(4008);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},97029:function(e,t,r){var n=r(86943),i=r(19075),o=r(271),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},40305:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},26573:function(e,t,r){var n=r(97029),i=r(55798);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},71864:function(e,t,r){var n=r(97524),i=r(55798);e.exports=function e(t,r,o,a,s){return t===r||(null!=t&&null!=r&&(i(t)||i(r))?n(t,r,o,a,e,s):t!=t&&r!=r)}},97524:function(e,t,r){var n=r(12860),i=r(18446),o=r(14877),a=r(86695),s=r(24428),u=r(4008),c=r(5616),l=r(88526),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,g,y){var m=u(e),b=u(t),_=m?d:s(e),w=b?d:s(t);_=_==f?p:_,w=w==f?p:w;var S=_==p,E=w==p,x=_==w;if(x&&c(e)){if(!c(t))return!1;m=!0,S=!1}if(x&&!S)return y||(y=new n),m||l(e)?i(e,t,r,v,g,y):o(e,t,_,r,v,g,y);if(!(1&r)){var P=S&&h.call(e,"__wrapped__"),k=E&&h.call(t,"__wrapped__");if(P||k){var O=P?e.value():e,A=k?t.value():t;return y||(y=new n),g(O,A,r,v,y)}}return!!x&&(y||(y=new n),a(e,t,r,v,g,y))}},46512:function(e,t,r){var n=r(12860),i=r(71864);e.exports=function(e,t,r,o){var a=r.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=r[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=r[a])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var p=new n;if(o)var h=o(f,d,l,e,t,p);if(!(void 0===h?i(d,f,3,o,p):h))return!1}}return!0}},49599:function(e,t,r){var n=r(25780),i=r(63508),o=r(93795),a=r(35222),s=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?f:s).test(a(e))}},79616:function(e,t,r){var n=r(97029),i=r(80403),o=r(55798),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},21077:function(e,t,r){var n=r(25210),i=r(55278),o=r(96128),a=r(4008),s=r(53241);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}},24738:function(e,t,r){var n=r(68125),i=r(84617),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},16150:function(e,t,r){var n=r(93795),i=r(68125),o=r(58638),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||r.push(s);return r}},25210:function(e,t,r){var n=r(46512),i=r(14622),o=r(85176);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},55278:function(e,t,r){var n=r(71864),i=r(24933),o=r(90040),a=r(77629),s=r(81930),u=r(85176),c=r(24114);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,3)}}},6710:function(e,t,r){var n=r(17114),i=r(23238),o=r(84208);e.exports=function(e,t,r){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=n(e,c);r(l,c)&&i(u,o(c,e),l)}return u}},51208:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},6093:function(e,t,r){var n=r(17114);e.exports=function(e){return function(t){return n(t,e)}}},23238:function(e,t,r){var n=r(91404),i=r(84208),o=r(26694),a=r(93795),s=r(24114);e.exports=function(e,t,r,u){if(!a(e))return e;t=i(t,e);for(var c=-1,l=t.length,f=l-1,d=e;null!=d&&++c<l;){var p=s(t[c]),h=r;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(c!=f){var v=d[p];void 0===(h=u?u(v,p,d):void 0)&&(h=a(v)?v:o(t[c+1])?[]:{})}n(d,p,h),d=d[p]}return e}},25882:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},26765:function(e,t,r){var n=r(86943),i=r(35964),o=r(4008),a=r(44386),s=1/0,u=n?n.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},90440:function(e){e.exports=function(e){return function(t){return e(t)}}},46197:function(e){e.exports=function(e,t){return e.has(t)}},84208:function(e,t,r){var n=r(4008),i=r(77629),o=r(65436),a=r(35583);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},63197:function(e,t,r){var n=r(97606)["__core-js_shared__"];e.exports=n},83226:function(e,t,r){var n=r(47780),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},18446:function(e,t,r){var n=r(54653),i=r(26533),o=r(46197);e.exports=function(e,t,r,a,s,u){var c=1&r,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var h=-1,v=!0,g=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var y=e[h],m=t[h];if(a)var b=c?a(m,y,h,t,e,u):a(y,m,h,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(y===e||s(y,e,r,a,u)))return g.push(t)})){v=!1;break}}else if(!(y===m||s(y,m,r,a,u))){v=!1;break}}return u.delete(e),u.delete(t),v}},14877:function(e,t,r){var n=r(86943),i=r(22736),o=r(3665),a=r(18446),s=r(99588),u=r(52590),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,f,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!f(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&n;if(p||(p=u),e.size!=t.size&&!h)break;var v=d.get(e);if(v)return v==t;n|=2,d.set(e,t);var g=a(p(e),p(t),n,c,f,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},86695:function(e,t,r){var n=r(34602),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,a,s){var u=1&r,c=n(e),l=c.length;if(l!=n(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:i.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++f<l;){var y=e[d=c[f]],m=t[d];if(o)var b=u?o(m,y,d,t,e,s):o(y,m,d,e,t,s);if(!(void 0===b?y===m||a(y,m,r,o,s):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(v=!1)}return s.delete(e),s.delete(t),v}},77:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},34602:function(e,t,r){var n=r(85582),i=r(11590),o=r(61639);e.exports=function(e){return n(e,o,i)}},40128:function(e,t,r){var n=r(85582),i=r(75587),o=r(74233);e.exports=function(e){return n(e,o,i)}},22795:function(e,t,r){var n=r(19610);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},14622:function(e,t,r){var n=r(81930),i=r(61639);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},47780:function(e,t,r){var n=r(49599),i=r(88804);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},19063:function(e,t,r){var n=r(29954)(Object.getPrototypeOf,Object);e.exports=n},19075:function(e,t,r){var n=r(86943),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},11590:function(e,t,r){var n=r(85413),i=r(65647),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:n(a(e=Object(e)),function(t){return o.call(e,t)})}:i;e.exports=s},75587:function(e,t,r){var n=r(96482),i=r(19063),o=r(11590),a=r(65647),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},24428:function(e,t,r){var n=r(8873),i=r(91690),o=r(83399),a=r(68832),s=r(28631),u=r(97029),c=r(35222),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",v=c(n),g=c(i),y=c(o),m=c(a),b=c(s),_=u;(n&&_(new n(new ArrayBuffer(1)))!=h||i&&_(new i)!=l||o&&_(o.resolve())!=f||a&&_(new a)!=d||s&&_(new s)!=p)&&(_=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case v:return h;case g:return l;case y:return f;case m:return d;case b:return p}return t}),e.exports=_},88804:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},46861:function(e,t,r){var n=r(84208),i=r(95460),o=r(4008),a=r(26694),s=r(80403),u=r(24114);e.exports=function(e,t,r){t=n(t,e);for(var c=-1,l=t.length,f=!1;++c<l;){var d=u(t[c]);if(!(f=null!=e&&r(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}},12424:function(e,t,r){var n=r(94877);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},27441:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},49375:function(e,t,r){var n=r(94877),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},81246:function(e,t,r){var n=r(94877),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},89491:function(e,t,r){var n=r(94877);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},26694:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},77629:function(e,t,r){var n=r(4008),i=r(44386),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},19610:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},63508:function(e,t,r){var n,i=r(63197),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},68125:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},81930:function(e,t,r){var n=r(93795);e.exports=function(e){return e==e&&!n(e)}},99264:function(e){e.exports=function(){this.__data__=[],this.size=0}},47039:function(e,t,r){var n=r(94128),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},71129:function(e,t,r){var n=r(94128);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},1325:function(e,t,r){var n=r(94128);e.exports=function(e){return n(this.__data__,e)>-1}},61654:function(e,t,r){var n=r(94128);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},9251:function(e,t,r){var n=r(18187),i=r(16420),o=r(91690);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},29072:function(e,t,r){var n=r(22795);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},53829:function(e,t,r){var n=r(22795);e.exports=function(e){return n(this,e).get(e)}},10465:function(e,t,r){var n=r(22795);e.exports=function(e){return n(this,e).has(e)}},68692:function(e,t,r){var n=r(22795);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},99588:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},85176:function(e){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},16980:function(e,t,r){var n=r(92282);e.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},94877:function(e,t,r){var n=r(47780)(Object,"create");e.exports=n},84617:function(e,t,r){var n=r(29954)(Object.keys,Object);e.exports=n},58638:function(e){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},19019:function(e,t,r){e=r.nmd(e);var n=r(77),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},271:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},29954:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},97606:function(e,t,r){var n=r(77),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},47409:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},18818:function(e){e.exports=function(e){return this.__data__.has(e)}},52590:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},60734:function(e,t,r){var n=r(16420);e.exports=function(){this.__data__=new n,this.size=0}},2730:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},46971:function(e){e.exports=function(e){return this.__data__.get(e)}},46377:function(e){e.exports=function(e){return this.__data__.has(e)}},25473:function(e,t,r){var n=r(16420),i=r(91690),o=r(20343);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(e,t),this.size=r.size,this}},65436:function(e,t,r){var n=r(16980),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)}),t});e.exports=a},24114:function(e,t,r){var n=r(44386),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},35222:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},3665:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},24933:function(e,t,r){var n=r(17114);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},90040:function(e,t,r){var n=r(40305),i=r(46861);e.exports=function(e,t){return null!=e&&i(e,t,n)}},96128:function(e){e.exports=function(e){return e}},95460:function(e,t,r){var n=r(26573),i=r(55798),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},4008:function(e){var t=Array.isArray;e.exports=t},51244:function(e,t,r){var n=r(25780),i=r(80403);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},5616:function(e,t,r){e=r.nmd(e);var n=r(97606),i=r(44392),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,u=s?s.isBuffer:void 0;e.exports=u||i},55080:function(e,t,r){var n=r(24738),i=r(24428),o=r(95460),a=r(4008),s=r(51244),u=r(5616),c=r(68125),l=r(88526),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(f.call(e,r))return!1;return!0}},25780:function(e,t,r){var n=r(97029),i=r(93795);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},80403:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},90070:function(e,t,r){var n=r(97029),i=r(55798);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==n(e)}},93795:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},55798:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},44386:function(e,t,r){var n=r(97029),i=r(55798);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},88526:function(e,t,r){var n=r(79616),i=r(90440),o=r(19019),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},61639:function(e,t,r){var n=r(62448),i=r(24738),o=r(51244);e.exports=function(e){return o(e)?n(e):i(e)}},74233:function(e,t,r){var n=r(62448),i=r(16150),o=r(51244);e.exports=function(e){return o(e)?n(e,!0):i(e)}},92282:function(e,t,r){var n=r(20343);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},10093:function(e,t,r){var n=r(35964),i=r(21077),o=r(6710),a=r(40128);e.exports=function(e,t){if(null==e)return{};var r=n(a(e),function(e){return[e]});return t=i(t),o(e,r,function(e,r){return t(e,r[0])})}},53241:function(e,t,r){var n=r(51208),i=r(6093),o=r(77629),a=r(24114);e.exports=function(e){return o(e)?n(a(e)):i(e)}},65647:function(e){e.exports=function(){return[]}},44392:function(e){e.exports=function(){return!1}},35583:function(e,t,r){var n=r(26765);e.exports=function(e){return null==e?"":n(e)}},8294:function(e){"use strict";e.exports=Math.abs},80484:function(e){"use strict";e.exports=Math.floor},16460:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},24401:function(e){"use strict";e.exports=Math.max},40407:function(e){"use strict";e.exports=Math.min},56458:function(e){"use strict";e.exports=Math.pow},60764:function(e){"use strict";e.exports=Math.round},88574:function(e,t,r){"use strict";var n=r(16460);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},15743:function(e,t,r){"use strict";r.d(t,{KV:function(){return y},ju:function(){return d}});var n,i,o=r(87427),a=r(69937),s=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},d="__NEXT_REDUX_WRAPPER_HYDRATE__",p=function(){return"undefined"==typeof window},h=function(e,t){var r=(void 0===t?{}:t).deserializeState;return r?r(e):e},v=function(e,t){var r=(void 0===t?{}:t).serializeState;return r?r(e):e},g=function(e){var t=e.makeStore,r=e.context,n=function(){return t(r)};if(p()){var o=void 0;return(r.req&&(o=r.req),r.ctx&&r.ctx.req&&(o=r.ctx.req),o)?(o.__nextReduxWrapperStore||(o.__nextReduxWrapperStore=n()),o.__nextReduxWrapperStore):n()}return i||(i=n()),i},y=function(e,t){void 0===t&&(t={});var r=function(r){var n=r.callback,i=r.context;return c(void 0,void 0,void 0,function(){var r,o,a,s,u;return l(this,function(c){switch(c.label){case 0:if(r=g({context:i,makeStore:e}),t.debug&&console.log("1. getProps created store with state",r.getState()),!(s=o=n&&n(r)))return[3,2];return[4,o(i)];case 1:s=c.sent(),c.label=2;case 2:return a=s||{},t.debug&&console.log("3. getProps after dispatches has store state",r.getState()),u=r.getState(),[2,{initialProps:a,initialState:p()?v(u,t):u}]}})})},n=function(e){return function(t){return c(void 0,void 0,void 0,function(){var n,i,o;return l(this,function(a){switch(a.label){case 0:return[4,r({callback:e,context:t})];case 1:return i=(n=a.sent()).initialProps,o=n.initialState,[2,u(u({},i),{props:u(u({},i.props),{initialState:o})})]}})})}};return{getServerSideProps:function(e){return function(t){return c(void 0,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:return[4,n(e)(t)];case 1:return[2,r.sent()]}})})}},getStaticProps:n,getInitialAppProps:function(e){return function(t){return c(void 0,void 0,void 0,function(){var n,i,o;return l(this,function(a){switch(a.label){case 0:return[4,r({callback:e,context:t})];case 1:return i=(n=a.sent()).initialProps,o=n.initialState,[2,u(u({},i),{initialState:o})]}})})}},getInitialPageProps:function(e){return function(t){return c(void 0,void 0,void 0,function(){return l(this,function(n){return"getState"in t?[2,e&&e(t)]:[2,r({callback:e,context:t})]})})}},withRedux:function(r){var n,i="withRedux("+(r.displayName||r.name||"Component")+")",c="getInitialProps"in r;return(n=function(n){function c(e,t){var r=n.call(this,e,t)||this;return r.store=null,r.hydrate(e,t),r}return s(c,n),c.prototype.hydrate=function(r,n){var o,a=r.initialState,s=(r.initialProps,f(r,["initialState","initialProps"])),u=null===(o=null==s?void 0:s.pageProps)||void 0===o?void 0:o.initialState;!this.store&&(this.store=g({makeStore:e,context:n}),t.debug&&console.log("4. WrappedApp created new store with",i,{initialState:a,initialStateFromGSPorGSSR:u})),a&&this.store.dispatch({type:d,payload:h(a,t)}),u&&this.store.dispatch({type:d,payload:h(u,t)})},c.prototype.shouldComponentUpdate=function(e,t,r){var n,i,o,a;return((null===(n=null==e?void 0:e.pageProps)||void 0===n?void 0:n.initialState)!==(null===(o=null===(i=this.props)||void 0===i?void 0:i.pageProps)||void 0===o?void 0:o.initialState)||(null==e?void 0:e.initialState)!==(null===(a=this.props)||void 0===a?void 0:a.initialState))&&this.hydrate(e,r),!0},c.prototype.render=function(){var e,t,n=this.props,i=(n.initialState,n.initialProps),s=f(n,["initialState","initialProps"]),c=s;return i&&i.pageProps&&(c.pageProps=u(u({},i.pageProps),s.pageProps)),(null===(e=null==s?void 0:s.pageProps)||void 0===e?void 0:e.initialState)&&(c=u(u({},s),{pageProps:u({},s.pageProps)}),delete c.pageProps.initialState),(null===(t=null==c?void 0:c.pageProps)||void 0===t?void 0:t.initialProps)&&(c.pageProps=u(u({},c.pageProps),c.pageProps.initialProps),delete c.pageProps.initialProps),o.createElement(a.zt,{store:this.store},o.createElement(r,u({},i,c)))},c}(o.Component)).displayName=i,n.getInitialProps=c?r.getInitialProps:void 0,n}}}},43658:function(e,t,r){"use strict";r.d(t,{default:function(){return i.a}});var n=r(83270),i=r.n(n)},45525:function(e,t,r){"use strict";var n=r(88175);r.o(n,"permanentRedirect")&&r.d(t,{permanentRedirect:function(){return n.permanentRedirect}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},99304:function(e,t,r){"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(45714),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _}});let n=r(21813),i=r(94e3),o=n._(r(87427)),a=r(20709),s=r(39052),u=r(66064),c=r(10421),l=r(59498),f=r(51350),d=r(64464),p=r(69087),h=r(99304),v=r(80497),g=r(5223),y=new Set;function m(e,t,r,n,i,o){if("undefined"!=typeof window&&(o||(0,s.isLocalURL)(t))){if(!n.bypassPrefetchedCheck){let i=t+"%"+r+"%"+(void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0);if(y.has(i))return;y.add(i)}(async()=>o?e.prefetch(t,i):e.prefetch(t,r,n))().catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}let _=o.default.forwardRef(function(e,t){let r,n;let{href:u,as:y,children:_,prefetch:w=null,passHref:S,replace:E,shallow:x,scroll:P,locale:k,onClick:O,onMouseEnter:A,onTouchStart:I,legacyBehavior:T=!1,...C}=e;r=_,T&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let R=o.default.useContext(f.RouterContext),j=o.default.useContext(d.AppRouterContext),N=null!=R?R:j,D=!R,M=!1!==w,L=null===w?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:U,as:F}=o.default.useMemo(()=>{if(!R){let e=b(u);return{href:e,as:y?b(y):e}}let[e,t]=(0,a.resolveHref)(R,u,!0);return{href:e,as:y?(0,a.resolveHref)(R,y):t||e}},[R,u,y]),q=o.default.useRef(U),B=o.default.useRef(F);T&&(n=o.default.Children.only(r));let z=T?n&&"object"==typeof n&&n.ref:t,[$,H,W]=(0,p.useIntersection)({rootMargin:"200px"}),V=o.default.useCallback(e=>{(B.current!==F||q.current!==U)&&(W(),B.current=F,q.current=U),$(e),z&&("function"==typeof z?z(e):"object"==typeof z&&(z.current=e))},[F,z,U,W,$]);o.default.useEffect(()=>{N&&H&&M&&m(N,U,F,{locale:k},{kind:L},D)},[F,U,H,k,M,null==R?void 0:R.locale,N,D,L]);let K={ref:V,onClick(e){T||"function"!=typeof O||O(e),T&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),N&&!e.defaultPrevented&&function(e,t,r,n,i,a,u,c,l){let{nodeName:f}=e.currentTarget;if("A"===f.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!l&&!(0,s.isLocalURL)(r)))return;e.preventDefault();let d=()=>{let e=null==u||u;"beforePopState"in t?t[i?"replace":"push"](r,n,{shallow:a,locale:c,scroll:e}):t[i?"replace":"push"](n||r,{scroll:e})};l?o.default.startTransition(d):d()}(e,N,U,F,E,x,P,k,D)},onMouseEnter(e){T||"function"!=typeof A||A(e),T&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),N&&(M||!D)&&m(N,U,F,{locale:k,priority:!0,bypassPrefetchedCheck:!0},{kind:L},D)},onTouchStart:function(e){T||"function"!=typeof I||I(e),T&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),N&&(M||!D)&&m(N,U,F,{locale:k,priority:!0,bypassPrefetchedCheck:!0},{kind:L},D)}};if((0,c.isAbsoluteUrl)(F))K.href=F;else if(!T||S||"a"===n.type&&!("href"in n.props)){let e=void 0!==k?k:null==R?void 0:R.locale,t=(null==R?void 0:R.isLocaleDomain)&&(0,h.getDomainLocale)(F,e,null==R?void 0:R.locales,null==R?void 0:R.domainLocales);K.href=t||(0,v.addBasePath)((0,l.addLocale)(F,e,null==R?void 0:R.defaultLocale))}return T?o.default.cloneElement(n,K):(0,i.jsx)("a",{...C,...K,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69087:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return u}});let n=r(87427),i=r(22694),o="function"==typeof IntersectionObserver,a=new Map,s=[];function u(e){let{rootRef:t,rootMargin:r,disabled:u}=e,c=u||!o,[l,f]=(0,n.useState)(!1),d=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{d.current=e},[]);return(0,n.useEffect)(()=>{if(o){if(c||l)return;let e=d.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:i,elements:o}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=s.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=a.get(n)))return t;let i=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:i},s.push(r),a.set(r,t),t}(r);return o.set(e,t),i.observe(e),function(){if(o.delete(e),i.unobserve(e),0===o.size){i.disconnect(),a.delete(n);let e=s.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&s.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!l){let e=(0,i.requestIdleCallback)(()=>f(!0));return()=>(0,i.cancelIdleCallback)(e)}},[c,r,t,l,d.current]),[p,l,(0,n.useCallback)(()=>{f(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5752:function(e,t,r){var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,v=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,m=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,x=Array.prototype.join,P=Array.prototype.slice,k=Math.floor,O="function"==typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,T="function"==typeof Symbol&&"object"==typeof Symbol.iterator,C="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T?"object":"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-k(-e):k(e);if(n!==e){var i=String(n),o=m.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var D=r(71568),M=D.custom,L=H(M)?M:null,U={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function q(e,t,r){var n=U[r.quoteStyle||t];return n+e+n}function B(e){return!C||!("object"==typeof e&&(C in e||void 0!==e[C]))}function z(e){return"[object Array]"===K(e)&&B(e)}function $(e){return"[object RegExp]"===K(e)&&B(e)}function H(e){if(T)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,s){var u=n||{};if(V(u,"quoteStyle")&&!V(U,u.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(V(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var v=!V(u,"customInspect")||u.customInspect;if("boolean"!=typeof v&&"symbol"!==v)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(u,"indent")&&null!==u.indent&&"	"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(m.call(t,0,r.maxStringLength),r)+"... "+n+" more character"+(n>1?"s":"")}var i=F[r.quoteStyle||"single"];return i.lastIndex=0,q(b.call(b.call(t,i,"\\$1"),/[\x00-\x1f]/g,G),"single",r)}(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return _?N(t,S):S}if("bigint"==typeof t){var k=String(t)+"n";return _?N(t,k):k}var A=void 0===u.depth?5:u.depth;if(void 0===i&&(i=0),i>=A&&A>0&&"object"==typeof t)return z(t)?"[Array]":"[Object]";var M=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=x.call(Array(e.indent+1)," ")}return{base:r,prev:x.call(Array(t+1),r)}}(u,i);if(void 0===s)s=[];else if(J(s,t)>=0)return"[Circular]";function W(t,r,n){if(r&&(s=P.call(s)).push(r),n){var o={depth:u.depth};return V(u,"quoteStyle")&&(o.quoteStyle=u.quoteStyle),e(t,o,i+1,s)}return e(t,u,i+1,s)}if("function"==typeof t&&!$(t)){var et=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),er=ee(t,W);return"[Function"+(et?": "+et:" (anonymous)")+"]"+(er.length>0?" { "+x.call(er,", ")+" }":"")}if(H(t)){var en=T?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!=typeof t||T?en:Y(en)}if(t&&"object"==typeof t&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var ei,eo="<"+w.call(String(t.nodeName)),ea=t.attributes||[],es=0;es<ea.length;es++)eo+=" "+ea[es].name+"="+q((ei=ea[es].value,b.call(String(ei),/"/g,"&quot;")),"double",u);return eo+=">",t.childNodes&&t.childNodes.length&&(eo+="..."),eo+="</"+w.call(String(t.nodeName))+">"}if(z(t)){if(0===t.length)return"[]";var eu=ee(t,W);return M&&!function(e){for(var t=0;t<e.length;t++)if(J(e[t],"\n")>=0)return!1;return!0}(eu)?"["+Z(eu,M)+"]":"[ "+x.call(eu,", ")+" ]"}if("[object Error]"===K(t)&&B(t)){var ec=ee(t,W);return"cause"in Error.prototype||!("cause"in t)||R.call(t,"cause")?0===ec.length?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(ec,", ")+" }":"{ ["+String(t)+"] "+x.call(E.call("[cause]: "+W(t.cause),ec),", ")+" }"}if("object"==typeof t&&v){if(L&&"function"==typeof t[L]&&D)return D(t,{depth:A-i});if("symbol"!==v&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var el=[];return a&&a.call(t,function(e,r){el.push(W(r,t,!0)+" => "+W(e,t))}),Q("Map",o.call(t),el,M)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ef=[];return l&&l.call(t,function(e){ef.push(W(e,t))}),Q("Set",c.call(t),ef,M)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return X("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return X("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return X("WeakRef");if("[object Number]"===K(t)&&B(t))return Y(W(Number(t)));if(function(e){if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}(t))return Y(W(O.call(t)));if("[object Boolean]"===K(t)&&B(t))return Y(h.call(t));if("[object String]"===K(t)&&B(t))return Y(W(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!("[object Date]"===K(t)&&B(t))&&!$(t)){var ed=ee(t,W),ep=j?j(t)===Object.prototype:t instanceof Object||t.constructor===Object,eh=t instanceof Object?"":"null prototype",ev=!ep&&C&&Object(t)===t&&C in t?m.call(K(t),8,-1):eh?"Object":"",eg=(ep||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ev||eh?"["+x.call(E.call([],ev||[],eh||[]),": ")+"] ":"");return 0===ed.length?eg+"{}":M?eg+"{"+Z(ed,M)+"}":eg+"{ "+x.call(ed,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return W.call(e,t)}function K(e){return v.call(e)}function J(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function G(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Y(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function Q(e,t,r,n){return e+" ("+t+") {"+(n?Z(r,n):x.call(r,", "))+"}"}function Z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+x.call(e,","+r)+"\n"+t.prev}function ee(e,t){var r,n=z(e),i=[];if(n){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=V(e,o)?t(e[o],e):""}var a="function"==typeof A?A(e):[];if(T){r={};for(var s=0;s<a.length;s++)r["$"+a[s]]=a[s]}for(var u in e)V(e,u)&&(!n||String(Number(u))!==u||!(u<e.length))&&(T&&r["$"+u]instanceof Symbol||(S.call(/[^\w$]/,u)?i.push(t(u,e)+": "+t(e[u],e)):i.push(u+": "+t(e[u],e))));if("function"==typeof A)for(var c=0;c<a.length;c++)R.call(e,a[c])&&i.push("["+t(a[c])+"]: "+t(e[a[c]],e));return i}},34096:function(e){"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},62465:function(e,t,r){"use strict";var n=r(96114),i=r(71911),o=r(34096);e.exports={formats:o,parse:i,stringify:n}},71911:function(e,t,r){"use strict";var n=r(51295),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t){var r={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=t.parameterLimit===1/0?void 0:t.parameterLimit,l=u.split(t.delimiter,c),f=-1,d=t.charset;if(t.charsetSentinel)for(p=0;p<l.length;++p)0===l[p].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[p]?d="utf-8":"utf8=%26%2310003%3B"===l[p]&&(d="iso-8859-1"),f=p,p=l.length);for(p=0;p<l.length;++p)if(p!==f){var p,h,v,g=l[p],y=g.indexOf("]="),m=-1===y?g.indexOf("="):y+1;-1===m?(h=t.decoder(g,a.decoder,d,"key"),v=t.strictNullHandling?null:""):(h=t.decoder(g.slice(0,m),a.decoder,d,"key"),v=n.maybeMap(s(g.slice(m+1),t),function(e){return t.decoder(e,a.decoder,d,"value")})),v&&t.interpretNumericEntities&&"iso-8859-1"===d&&(v=v.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),g.indexOf("[]=")>-1&&(v=o(v)?[v]:v),i.call(r,h)?r[h]=n.combine(r[h],v):r[h]=v}return r},c=function(e,t,r,n){for(var i=n?t:s(t,r),o=e.length-1;o>=0;--o){var a,u=e[o];if("[]"===u&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,l=parseInt(c,10);r.parseArrays||""!==c?!isNaN(l)&&u!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i},l=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var f=0;r.depth>0&&null!==(s=a.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),c(l,t,r,n)}},f=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var r=f(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?u(e,r):e,o=r.plainObjects?Object.create(null):{},a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],d=l(c,i[c],r,"string"==typeof e);o=n.merge(o,d,r)}return!0===r.allowSparse?o:n.compact(o)}},96114:function(e,t,r){"use strict";var n=r(28106),i=r(51295),o=r(34096),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=String.prototype.split,l=Array.prototype.push,f=function(e,t){l.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},v={},g=function e(t,r,o,a,s,l,d,p,g,y,m,b,_,w,S,E){for(var x,P,k=t,O=E,A=0,I=!1;void 0!==(O=O.get(v))&&!I;){var T=O.get(t);if(A+=1,void 0!==T){if(T===A)throw RangeError("Cyclic object value");I=!0}void 0===O.get(v)&&(A=0)}if("function"==typeof p?k=p(r,k):k instanceof Date?k=m(k):"comma"===o&&u(k)&&(k=i.maybeMap(k,function(e){return e instanceof Date?m(e):e})),null===k){if(s)return d&&!w?d(r,h.encoder,S,"key",b):r;k=""}if("string"==typeof(x=k)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||i.isBuffer(k)){if(d){var C=w?r:d(r,h.encoder,S,"key",b);if("comma"===o&&w){for(var R=c.call(String(k),","),j="",N=0;N<R.length;++N)j+=(0===N?"":",")+_(d(R[N],h.encoder,S,"value",b));return[_(C)+(a&&u(k)&&1===R.length?"[]":"")+"="+j]}return[_(C)+"="+_(d(k,h.encoder,S,"value",b))]}return[_(r)+"="+_(String(k))]}var D=[];if(void 0===k)return D;if("comma"===o&&u(k))P=[{value:k.length>0?k.join(",")||null:void 0}];else if(u(p))P=p;else{var M=Object.keys(k);P=g?M.sort(g):M}for(var L=a&&u(k)&&1===k.length?r+"[]":r,U=0;U<P.length;++U){var F=P[U],q="object"==typeof F&&void 0!==F.value?F.value:k[F];if(!l||null!==q){var B=u(k)?"function"==typeof o?o(L,F):L:L+(y?"."+F:"["+F+"]");E.set(t,A);var z=n();z.set(v,E),f(D,e(q,B,o,a,s,l,d,p,g,y,m,b,_,w,S,z))}}return D},y=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],i=h.filter;return("function"==typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}};e.exports=function(e,t){var r,i,o=e,a=y(t);"function"==typeof a.filter?o=(0,a.filter)("",o):u(a.filter)&&(r=a.filter);var c=[];if("object"!=typeof o||null===o)return"";i=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var l=s[i];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var d="comma"===l&&t&&t.commaRoundTrip;r||(r=Object.keys(o)),a.sort&&r.sort(a.sort);for(var p=n(),h=0;h<r.length;++h){var v=r[h];a.skipNulls&&null===o[v]||f(c,g(o[v],v,l,d,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,p))}var m=c.join(a.delimiter),b=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),m.length>0?b+m:""}},51295:function(e,t,r){"use strict";var n=r(34096),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}},u=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:u,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],l=o[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:o,prop:c}),r.push(l))}return s(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",c=0;c<s.length;++c){var l=s.charCodeAt(c);if(45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===n.RFC1738&&(40===l||41===l)){u+=s.charAt(c);continue}if(l<128){u+=a[l];continue}if(l<2048){u+=a[192|l>>6]+a[128|63&l];continue}if(l<55296||l>=57344){u+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l];continue}c+=1,u+=a[240|(l=65536+((1023&l)<<10|1023&s.charCodeAt(c)))>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l]}return u},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return(o(t)&&!o(r)&&(a=u(t,n)),o(t)&&o(r))?(r.forEach(function(r,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&r&&"object"==typeof r?t[o]=e(a,r,n):t.push(r)}else t[o]=r}),t):Object.keys(r).reduce(function(t,o){var a=r[o];return i.call(t,o)?t[o]=e(t[o],a,n):t[o]=a,t},a)}}},65924:function(e){"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var o=r.length+1;if(1===o)return e;var a=Array(o);a[0]=i(e);for(var s=1;s<o;s++)a[s]=i(r[s]);return a.join(" ")}if("string"!=typeof e)return e;var u=r.length;if(0===u)return e;for(var c="",l=0,f=-1,d=e&&e.length||0,p=0;p<d;){if(37===e.charCodeAt(p)&&p+1<d){switch(f=f>-1?f:0,e.charCodeAt(p+1)){case 100:case 102:if(l>=u||null==r[l])break;f<p&&(c+=e.slice(f,p)),c+=Number(r[l]),f=p+2,p++;break;case 105:if(l>=u||null==r[l])break;f<p&&(c+=e.slice(f,p)),c+=Math.floor(Number(r[l])),f=p+2,p++;break;case 79:case 111:case 106:if(l>=u||void 0===r[l])break;f<p&&(c+=e.slice(f,p));var h=typeof r[l];if("string"===h){c+="'"+r[l]+"'",f=p+2,p++;break}if("function"===h){c+=r[l].name||"<anonymous>",f=p+2,p++;break}c+=i(r[l]),f=p+2,p++;break;case 115:if(l>=u)break;f<p&&(c+=e.slice(f,p)),c+=String(r[l]),f=p+2,p++;break;case 37:f<p&&(c+=e.slice(f,p)),c+="%",f=p+2,p++,l--}++l}++p}return -1===f?e:(f<d&&(c+=e.slice(f)),c)}},65659:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case f:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case v:case u:return e;default:return t}}case i:return t}}}function S(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===m||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=w},71705:function(e,t,r){"use strict";e.exports=r(65659)},73725:function(e,t){"use strict";var r,n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");r=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===s||e===a||e===d||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case a:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case h:case u:return e;default:return t}}case i:return t}}}},22851:function(e,t,r){"use strict";e.exports=r(73725)},69937:function(e,t,r){"use strict";r.d(t,{zt:function(){return g},I0:function(){return b},v9:function(){return p}});var n=r(14432),i=r(18033),o=r(14235);let a=function(e){e()},s=()=>a;var u=r(87427);let c=u.createContext(null);function l(){return(0,u.useContext)(c)}let f=()=>{throw Error("uSES not initialized!")},d=(e,t)=>e===t,p=function(e=c){let t=e===c?l:()=>(0,u.useContext)(e);return function(e,r=d){let{store:n,subscription:i,getServerState:o}=t(),a=f(i.addNestedSub,n.getState,o||n.getState,e,r);return(0,u.useDebugValue)(a),a}}();r(31295),r(22851);let h={notify(){},get:()=>[]},v="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?u.useLayoutEffect:u.useEffect;var g=function({store:e,context:t,children:r,serverState:n}){let i=(0,u.useMemo)(()=>{let t=function(e,t){let r;let n=h;function i(){a.onStateChange&&a.onStateChange()}function o(){r||(r=e.subscribe(i),n=function(){let e=s(),t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}let a={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return!!r},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=h)},getListeners:()=>n};return a}(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0}},[e,n]),o=(0,u.useMemo)(()=>e.getState(),[e]);v(()=>{let{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),o!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[i,o]);let a=t||c;return u.createElement(a.Provider,{value:i},r)};function y(e=c){let t=e===c?l:()=>(0,u.useContext)(e);return function(){let{store:e}=t();return e}}let m=y(),b=function(e=c){let t=e===c?m:y(e);return function(){return t().dispatch}}();f=i.useSyncExternalStoreWithSelector,n.useSyncExternalStore,a=o.unstable_batchedUpdates},22360:function(e,t,r){"use strict";r.d(t,{DE:function(){return f},MT:function(){return u},UY:function(){return c},md:function(){return p},qC:function(){return d}});var n=r(38290);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"==typeof Symbol&&Symbol.observable||"@@observable",a=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function u(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(i(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(i(1));return r(u)(e,t)}if("function"!=typeof e)throw Error(i(2));var n,a=e,c=t,l=[],f=l,d=!1;function p(){f===l&&(f=l.slice())}function h(){if(d)throw Error(i(3));return c}function v(e){if("function"!=typeof e)throw Error(i(4));if(d)throw Error(i(5));var t=!0;return p(),f.push(e),function(){if(t){if(d)throw Error(i(6));t=!1,p();var r=f.indexOf(e);f.splice(r,1),l=null}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(i(7));if(void 0===e.type)throw Error(i(8));if(d)throw Error(i(9));try{d=!0,c=a(c,e)}finally{d=!1}for(var t=l=f,r=0;r<t.length;r++)(0,t[r])();return e}return g({type:s.INIT}),(n={dispatch:g,subscribe:v,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw Error(i(10));a=e,g({type:s.REPLACE})}})[o]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(i(11));function t(){e.next&&e.next(h())}return t(),{unsubscribe:v(t)}}})[o]=function(){return this},e},n}function c(e){for(var t,r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o];"function"==typeof e[a]&&(n[a]=e[a])}var u=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:s.INIT}))throw Error(i(12));if(void 0===r(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw Error(i(13))})}(n)}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var o=!1,a={},s=0;s<u.length;s++){var c=u[s],l=n[c],f=e[c],d=l(f,r);if(void 0===d)throw r&&r.type,Error(i(14));a[c]=d,o=o||d!==f}return(o=o||u.length!==Object.keys(e).length)?a:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw Error(i(16));var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=l(o,t))}return r}function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function p(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),o=function(){throw Error(i(15))},a={getState:r.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(e){return e(a)});return o=d.apply(void 0,s)(r.dispatch),(0,n.Z)((0,n.Z)({},r),{},{dispatch:o})}}}},31105:function(e){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=r?r.call(n,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},83107:function(e,t,r){"use strict";var n=r(5752),i=r(42711),o=function(e,t,r){for(var n,i=e;null!=(n=i.next);i=n)if(n.key===t)return i.next=n.next,r||(n.next=e.next,e.next=n),n},a=function(e,t){if(e){var r=o(e,t);return r&&r.value}},s=function(e,t,r){var n=o(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},u=function(e,t){if(e)return o(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=u(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return a(e,t)},has:function(t){var r;return!!(r=e)&&!!o(r,t)},set:function(t,r){e||(e={next:void 0}),s(e,t,r)}};return t}},59965:function(e,t,r){"use strict";var n=r(90195),i=r(9279),o=r(5752),a=r(42711),s=n("%Map%",!0),u=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),l=i("Map.prototype.has",!0),f=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=f(e,t);return 0===d(e)&&(e=void 0),r}return!1},get:function(t){if(e)return u(e,t)},has:function(t){return!!e&&l(e,t)},set:function(t,r){e||(e=new s),c(e,t,r)}};return t}},28117:function(e,t,r){"use strict";var n=r(90195),i=r(9279),o=r(5752),a=r(59965),s=r(42711),u=n("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);e.exports=u?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(r){if(u&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(a&&t)return t.delete(r);return!1},get:function(r){return u&&r&&("object"==typeof r||"function"==typeof r)&&e?c(e,r):t&&t.get(r)},has:function(r){return u&&r&&("object"==typeof r||"function"==typeof r)&&e?f(e,r):!!t&&t.has(r)},set:function(r,n){u&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new u),l(e,r,n)):a&&(t||(t=a()),t.set(r,n))}};return r}:a},28106:function(e,t,r){"use strict";var n=r(42711),i=r(5752),o=r(83107),a=r(59965),s=r(28117)||a||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=s()),e.set(t,r)}};return t}},6141:function(e,t,r){"use strict";r.d(t,{vJ:function(){return eR},iv:function(){return e_},ZP:function(){return eN},F4:function(){return ej}});var n,i=r(22851),o=r(87427),a=r(31105),s=r.n(a),u=function(e){function t(e,t,n){var i=t.trim().split(h);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,o){var a=e+";",s=2*t+3*r+4*o;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===I||2===I&&i(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(P,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),j(2!==t?n:n.replace(E,"$1"),r,t)}function o(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,i,o,a,s,c,l){for(var f,d=0,p=t;d<R;++d)switch(f=C[d].call(u,e,p,r,n,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!=typeof e?I=1:(I=2,j=e):I=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<R){var u=a(-1,r,s,s,O,k,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var f=function e(r,s,u,f,d){for(var p,h,v,b,w,S=0,E=0,x=0,P=0,C=0,j=0,D=v=p=0,M=0,L=0,U=0,F=0,q=u.length,B=q-1,z="",$="",H="",W="";M<q;){if(h=u.charCodeAt(M),M===B&&0!==E+P+x+S&&(0!==E&&(h=47===E?10:47),P=x=S=0,q++,B++),0===E+P+x+S){if(M===B&&(0<L&&(z=z.replace(l,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}h=59}switch(h){case 123:for(p=(z=z.trim()).charCodeAt(0),v=1,F=++M;M<q;){switch(h=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===h&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===h){M=D+1;break e}}M=D}}break;case 91:h++;case 40:h++;case 34:case 39:for(;M++<B&&u.charCodeAt(M)!==h;);}if(0===v)break;M++}if(v=u.substring(F,M),0===p&&(p=(z=z.replace(c,"").trim()).charCodeAt(0)),64===p){switch(0<L&&(z=z.replace(l,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=T}if(F=(v=e(s,L,v,h,d+1)).length,0<R&&(w=a(3,v,L=t(T,z,U),s,O,k,F,h,d,f),z=L.join(""),void 0!==w&&0===(F=(v=w.trim()).length)&&(h=0,v="")),0<F)switch(h){case 115:z=z.replace(_,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(g,"$1 $2"))+"{"+v+"}",v=1===I||2===I&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===f&&($+=v,v="")}else v=""}else v=e(s,t(s,z,U),v,f,d+1);H+=v,v=U=L=D=p=0,z="",h=u.charCodeAt(++M);break;case 125:case 59:if(1<(F=(z=(0<L?z.replace(l,""):z).trim()).length))switch(0===D&&(45===(p=z.charCodeAt(0))||96<p&&123>p)&&(F=(z=z.replace(" ",":")).length),0<R&&void 0!==(w=a(1,z,s,r,O,k,$.length,f,d,f))&&0===(F=(z=w.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),h=z.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){W+=z+u.charAt(M);break}default:58!==z.charCodeAt(F-1)&&($+=n(z,p,h,z.charCodeAt(2)))}U=L=D=p=0,z="",h=u.charCodeAt(++M)}}switch(h){case 13:case 10:47===E?E=0:0===1+p&&107!==f&&0<z.length&&(L=1,z+="\0"),0<R*N&&a(0,z,s,r,O,k,$.length,f,d,f),k=1,O++;break;case 59:case 125:if(0===E+P+x+S){k++;break}default:switch(k++,b=u.charAt(M),h){case 9:case 32:if(0===P+S+E)switch(C){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===P+E+S&&(L=U=1,b="\f"+b);break;case 108:if(0===P+E+S+A&&0<D)switch(M-D){case 2:112===C&&58===u.charCodeAt(M-3)&&(A=C);case 8:111===j&&(A=j)}break;case 58:0===P+E+S&&(D=M);break;case 44:0===E+x+P+S&&(L=1,b+="\r");break;case 34:case 39:0===E&&(P=P===h?0:0===P?h:P);break;case 91:0===P+E+x&&S++;break;case 93:0===P+E+x&&S--;break;case 41:0===P+E+S&&x--;break;case 40:0===P+E+S&&(0===p&&(2*C+3*j==533||(p=1)),x++);break;case 64:0===E+x+P+S+D+v&&(v=1);break;case 42:case 47:if(!(0<P+S+x))switch(E){case 0:switch(2*h+3*u.charCodeAt(M+1)){case 235:E=47;break;case 220:F=M,E=42}break;case 42:47===h&&42===C&&F+2!==M&&(33===u.charCodeAt(F+2)&&($+=u.substring(F,M+1)),b="",E=0)}}0===E&&(z+=b)}j=C,C=h,M++}if(0<(F=$.length)){if(L=s,0<R&&void 0!==(w=a(2,$,L,r,O,k,F,f,d,f))&&0===($=w).length)return W+$+H;if($=L.join(",")+"{"+$+"}",0!=I*A){switch(2!==I||i($,2)||(A=0),A){case 111:$=$.replace(m,":-moz-$1")+$;break;case 112:$=$.replace(y,"::-webkit-input-$1")+$.replace(y,"::-moz-$1")+$.replace(y,":-ms-input-$1")+$}A=0}}return W+$+H}(T,s,r,0,0);return 0<R&&void 0!==(u=a(-2,f,s,s,O,k,f.length,0,0,0))&&(f=u),A=0,k=O=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,m=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,k=1,O=1,A=0,I=1,T=[],C=[],R=0,j=null,N=0;return u.use=function e(t){switch(t){case void 0:case null:R=C.length=0;break;default:if("function"==typeof t)C[R++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else N=0|!!t}return e},u.set=s,void 0!==e&&s(e),u},c={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l=r(56602),f=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,l.Z)(function(e){return f.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)}),p=r(31295),h=r.n(p),v=r(28070);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y=function(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,i.typeOf)(e)},b=Object.freeze([]),_=Object.freeze({});function w(e){return"function"==typeof e}function S(e){return e.displayName||e.name||"Component"}function E(e){return e&&"string"==typeof e.styledComponentId}var x=void 0!==v&&(v.env.REACT_APP_SC_ATTR||v.env.SC_ATTR)||"data-styled",P="undefined"!=typeof window&&"HTMLElement"in window,k=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==v&&void 0!==v.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==v.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==v.env.REACT_APP_SC_DISABLE_SPEEDY&&v.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==v&&void 0!==v.env.SC_DISABLE_SPEEDY&&""!==v.env.SC_DISABLE_SPEEDY&&"false"!==v.env.SC_DISABLE_SPEEDY&&v.env.SC_DISABLE_SPEEDY),O={};function A(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var I=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)(i<<=1)<0&&A(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),T=new Map,C=new Map,R=1,j=function(e){if(T.has(e))return T.get(e);for(;C.has(R);)R++;var t=R++;return T.set(e,t),C.set(t,e),t},N=function(e,t){t>=R&&(R=t+1),T.set(e,t),C.set(t,e)},D="style["+x+'][data-styled-version="5.3.5"]',M=RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&e.registerName(t,n)},U=function(e,t){for(var r=(t.textContent||"").split("/*!sc*/\n"),n=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var s=a.match(M);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(N(c,u),L(e,c,s[3]),e.getTag().insertRules(u,n)),n.length=0}else n.push(a)}}},F=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},q=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(x))return n}}(r),o=void 0!==i?i.nextSibling:null;n.setAttribute(x,"active"),n.setAttribute("data-styled-version","5.3.5");var a=F();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},B=function(){function e(e){var t=this.element=q(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}A(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),z=function(){function e(e){var t=this.element=q(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),$=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),H=P,W={isServer:!P,useCSSOMInjection:!k},V=function(){function e(e,t,r){void 0===e&&(e=_),void 0===t&&(t={}),this.options=g({},W,{},e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&P&&H&&(H=!1,function(e){for(var t=document.querySelectorAll(D),r=0,n=t.length;r<n;r++){var i=t[r];i&&"active"!==i.getAttribute(x)&&(U(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return j(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(g({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){var e,t,r,n;return this.tag||(this.tag=(t=(e=this.options).isServer,r=e.useCSSOMInjection,n=e.target,new I(t?new $(n):r?new B(n):new z(n))))},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(j(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(j(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(j(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=0;i<r;i++){var o,a=(o=i,C.get(o));if(void 0!==a){var s=e.names.get(a),u=t.getGroup(i);if(s&&u&&s.size){var c=x+".g"+i+'[id="'+a+'"]',l="";void 0!==s&&s.forEach(function(e){e.length>0&&(l+=e+",")}),n+=""+u+c+'{content:"'+l+'"}/*!sc*/\n'}}}return n}(this)},e}(),K=/(a)(d)/gi,J=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=J(t%52)+r;return(J(t%52)+r).replace(K,"$1-$2")}var Y=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},X=function(e){return Y(5381,e)};function Q(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(w(r)&&!E(r))return!1}return!0}var Z=X("5.3.5"),ee=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&Q(e),this.componentId=t,this.baseHash=Y(Z,t),this.baseStyle=r,V.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash){if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))i.push(this.staticRulesId);else{var o=em(this.rules,e,t,r).join(""),a=G(Y(this.baseHash,o)>>>0);if(!t.hasNameForId(n,a)){var s=r(o,"."+a,void 0,n);t.insertRules(n,a,s)}i.push(a),this.staticRulesId=a}}else{for(var u=this.rules.length,c=Y(this.baseHash,r.hash),l="",f=0;f<u;f++){var d=this.rules[f];if("string"==typeof d)l+=d;else if(d){var p=em(d,e,t,r),h=Array.isArray(p)?p.join(""):p;c=Y(c,h+f),l+=h}}if(l){var v=G(c>>>0);if(!t.hasNameForId(n,v)){var g=r(l,"."+v,void 0,n);t.insertRules(n,v,g)}i.push(v)}}return i.join(" ")},e}(),et=/^\s*\/\/.*$/gm,er=[":","[",".","#"];function en(e){var t,r,n,i,o=void 0===e?_:e,a=o.options,s=void 0===a?_:a,c=o.plugins,l=void 0===c?b:c,f=new u(s),d=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,i,o,a,s,u,c,l,f){switch(r){case 1:if(0===l&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===c)return n+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+n),"";default:return n+(0===f?"/*|*/":"")}case -2:n.split("/*|*/}").forEach(t)}}}(function(e){d.push(e)}),h=function(e,n,o){return 0===n&&-1!==er.indexOf(o[r.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var u=e.replace(et,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=RegExp("\\"+(r=o)+"\\b","g"),i=RegExp("(\\"+r+"\\b){2,}"),f(a||!o?"":o,c)}return f.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(r)>0&&(i[0]=i[0].replace(n,h))},p,function(e){if(-2===e){var t=d;return d=[],t}}])),v.hash=l.length?l.reduce(function(e,t){return t.name||A(15),Y(e,t.name)},5381).toString():"",v}var ei=o.createContext(),eo=(ei.Consumer,o.createContext()),ea=(eo.Consumer,new V),es=en();function eu(){return(0,o.useContext)(ei)||ea}function ec(){return(0,o.useContext)(eo)||es}function el(e){var t=(0,o.useState)(e.stylisPlugins),r=t[0],n=t[1],i=eu(),a=(0,o.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,o.useMemo)(function(){return en({options:{prefix:!e.disableVendorPrefixes},plugins:r})},[e.disableVendorPrefixes,r]);return(0,o.useEffect)(function(){s()(r,e.stylisPlugins)||n(e.stylisPlugins)},[e.stylisPlugins]),o.createElement(ei.Provider,{value:a},o.createElement(eo.Provider,{value:u},e.children))}var ef=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=es);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return A(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=es),this.name+e.hash},e}(),ed=/([A-Z])/,ep=/([A-Z])/g,eh=/^ms-/,ev=function(e){return"-"+e.toLowerCase()};function eg(e){return ed.test(e)?e.replace(ep,ev).replace(eh,"-ms-"):e}var ey=function(e){return null==e||!1===e||""===e};function em(e,t,r,n){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=em(e[a],t,r,n))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ey(e)?"":E(e)?"."+e.styledComponentId:w(e)?"function"!=typeof e||e.prototype&&e.prototype.isReactComponent||!t?e:em(e(t),t,r,n):e instanceof ef?r?(e.inject(r,n),e.getName(n)):e:m(e)?function e(t,r){var n,i=[];for(var o in t)t.hasOwnProperty(o)&&!ey(t[o])&&(Array.isArray(t[o])&&t[o].isCss||w(t[o])?i.push(eg(o)+":",t[o],";"):m(t[o])?i.push.apply(i,e(t[o],o)):i.push(eg(o)+": "+(null==(n=t[o])||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||o in c?String(n).trim():n+"px")+";"));return r?[r+" {"].concat(i,["}"]):i}(e):e.toString()}var eb=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function e_(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return w(e)||m(e)?eb(em(y(b,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:eb(em(y(e,r)))}var ew=function(e,t,r){return void 0===r&&(r=_),e.theme!==r.theme&&e.theme||t||r.theme},eS=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,eE=/(^-|-$)/g;function ex(e){return e.replace(eS,"-").replace(eE,"")}var eP=function(e){return G(X(e)>>>0)};function ek(e){return"string"==typeof e}var eO=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},eA=o.createContext();eA.Consumer;var eI={},eT=function(e){return function e(t,r,n){if(void 0===n&&(n=_),!(0,i.isValidElementType)(r))return A(1,String(r));var o=function(){return t(r,n,e_.apply(void 0,arguments))};return o.withConfig=function(i){return e(t,r,g({},n,{},i))},o.attrs=function(i){return e(t,r,g({},n,{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},o}(function e(t,r,n){var i=E(t),a=!ek(t),s=r.attrs,u=void 0===s?b:s,c=r.componentId,l=void 0===c?(x=r.displayName,P=r.parentComponentId,eI[k="string"!=typeof x?"sc":ex(x)]=(eI[k]||0)+1,O=k+"-"+eP("5.3.5"+k+eI[k]),P?P+"-"+O:O):c,f=r.displayName,p=void 0===f?ek(t)?"styled."+t:"Styled("+S(t)+")":f,v=r.displayName&&r.componentId?ex(r.displayName)+"-"+r.componentId:r.componentId||l,y=i&&t.attrs?Array.prototype.concat(t.attrs,u).filter(Boolean):u,m=r.shouldForwardProp;i&&t.shouldForwardProp&&(m=r.shouldForwardProp?function(e,n,i){return t.shouldForwardProp(e,n,i)&&r.shouldForwardProp(e,n,i)}:t.shouldForwardProp);var x,P,k,O,A,I=new ee(n,v,i?t.componentStyle:void 0),T=I.isStatic&&0===u.length,C=function(e,t){return function(e,t,r,n){var i,a,s,u,c,l=e.attrs,f=e.componentStyle,p=e.defaultProps,h=e.foldedComponentIds,v=e.shouldForwardProp,y=e.styledComponentId,m=e.target,b=(void 0===(i=ew(t,(0,o.useContext)(eA),p)||_)&&(i=_),a=g({},t,{theme:i}),s={},l.forEach(function(e){var t,r,n,i=e;for(t in w(i)&&(i=i(a)),i)a[t]=s[t]="className"===t?(r=s[t],n=i[t],r&&n?r+" "+n:r||n):i[t]}),[a,s]),S=b[0],E=b[1],x=(u=eu(),c=ec(),n?f.generateAndInjectStyles(_,u,c):f.generateAndInjectStyles(S,u,c)),P=E.$as||t.$as||E.as||t.as||m,k=ek(P),O=E!==t?g({},t,{},E):t,A={};for(var I in O)"$"!==I[0]&&"as"!==I&&("forwardedAs"===I?A.as=O[I]:(v?v(I,d,P):!k||d(I))&&(A[I]=O[I]));return t.style&&E.style!==t.style&&(A.style=g({},t.style,{},E.style)),A.className=Array.prototype.concat(h,y,x!==y?x:null,t.className,E.className).filter(Boolean).join(" "),A.ref=r,(0,o.createElement)(P,A)}(A,e,t,T)};return C.displayName=p,(A=o.forwardRef(C)).attrs=y,A.componentStyle=I,A.displayName=p,A.shouldForwardProp=m,A.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):b,A.styledComponentId=v,A.target=i?t.target:t,A.withComponent=function(t){var i=r.componentId,o=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i}(r,["componentId"]),a=i&&i+"-"+(ek(t)?t:ex(S(t)));return e(t,g({},o,{attrs:y,componentId:a}),n)},Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var o=0;o<n.length;o++){var a=n[o];if(eO(a))for(var s in a)"__proto__"!==s&&"constructor"!==s&&"prototype"!==s&&function(t,r,n){var i=t[n];eO(r)&&eO(i)?e(i,r):t[n]=r}(t,a[s],s)}return t}({},t.defaultProps,e):e}}),A.toString=function(){return"."+A.styledComponentId},a&&h()(A,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),A},e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){eT[e]=eT(e)});var eC=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Q(e),V.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,r,n){var i=n(em(this.rules,t,r,n).join(""),""),o=this.componentId+e;r.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&V.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},e}();function eR(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e_.apply(void 0,[e].concat(r)),a="sc-global-"+eP(JSON.stringify(i)),s=new eC(i,a);function u(e){var t=eu(),r=ec(),n=(0,o.useContext)(eA),i=(0,o.useRef)(t.allocateGSInstance(a)).current;return t.server&&c(i,e,t,n,r),(0,o.useLayoutEffect)(function(){if(!t.server)return c(i,e,t,n,r),function(){return s.removeStyles(i,t)}},[i,e,t,n,r]),null}function c(e,t,r,n,i){if(s.isStatic)s.renderStyles(e,O,r,i);else{var o=g({},t,{theme:ew(t,n,u.defaultProps)});s.renderStyles(e,o,r,i)}}return o.memo(u)}function ej(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e_.apply(void 0,[e].concat(r)).join("");return new ef(eP(i),i)}(n=(function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=F();return"<style "+[r&&'nonce="'+r+'"',x+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?A(2):e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)return A(2);var t,r=((t={})[x]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=F();return n&&(r.nonce=n),[o.createElement("style",g({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new V({isServer:!0}),this.sealed=!1}).prototype).collectStyles=function(e){return this.sealed?A(2):o.createElement(el,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return A(3)};var eN=eT},869:function(e,t,r){"use strict";var n=r(87427),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,a=n.useEffect,s=n.useLayoutEffect,u=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&l({inst:i})},[e,r,t]),a(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},42441:function(e,t,r){"use strict";var n=r(87427),i=r(14432),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=n.useRef,u=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;var p=a(e,(f=c(function(){function e(e){if(!u){if(u=!0,a=e,e=n(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,s=r)}var a,s,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],f[1]);return u(function(){d.hasValue=!0,d.value=p},[p]),l(p),p}},14432:function(e,t,r){"use strict";e.exports=r(869)},18033:function(e,t,r){"use strict";e.exports=r(42441)},64732:function(e,t,r){"use strict";let n=r(65924);e.exports=l;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}let a=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),u={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(e,t){let r={logger:t,parent:e[s]};t[s]=r}function l(e){var t,r;(e=e||{}).browser=e.browser||{};let n=e.browser.transmit;if(n&&"function"!=typeof n.send)throw Error("pino: transmit option must have a send function");let s=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let h=e.serializers||{},v=Array.isArray(t=e.browser.serialize)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(h),g=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(g=!1);let _=Object.keys(e.customLevels||{}),w=["error","fatal","warn","info","debug","trace"].concat(_);"function"==typeof s&&w.forEach(function(e){s[e]=s}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let S=e.level||"info",E=Object.create(s);E.log||(E.log=y),function(e,t,r){let n={};t.forEach(e=>{n[e]=r[e]?r[e]:i[e]||i[u[e]||"log"]||y}),e[a]=n}(E,w,s),c({},E),Object.defineProperty(E,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(E,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,f(this,x,E,"error"),f(this,x,E,"fatal"),f(this,x,E,"warn"),f(this,x,E,"info"),f(this,x,E,"debug"),f(this,x,E,"trace"),_.forEach(e=>{f(this,x,E,e)})}});let x={transmit:n,serialize:v,asObject:e.browser.asObject,formatters:e.browser.formatters,levels:w,timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?m:b};return E.levels=function(e){let t=e.customLevels||{};return{values:Object.assign({},l.levels.values,t),labels:Object.assign({},l.levels.labels,function(e){let t={};return Object.keys(e).forEach(function(r){t[e[r]]=r}),t}(t))}}(e),E.level=S,E.setMaxListeners=E.getMaxListeners=E.emit=E.addListener=E.on=E.prependListener=E.once=E.prependOnceListener=E.removeListener=E.removeAllListeners=E.listeners=E.listenerCount=E.eventNames=E.write=E.flush=y,E.serializers=h,E._serialize=v,E._stdErrSerialize=g,E.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},v&&t.serializers&&(r.serializers=t.serializers);let i=r.serializers;if(v&&i){var o=Object.assign({},h,i),a=!0===e.browser.serialize?Object.keys(o):v;delete t.serializers,d([t],a,o,this._stdErrSerialize)}function s(e){this._childLevel=(0|e._childLevel)+1,this.bindings=t,o&&(this.serializers=o,this._serialize=a),n&&(this._logEvent=p([].concat(e._logEvent.bindings,t)))}s.prototype=this;let u=new s(this);return c(this,u),u.level=this.level,u},n&&(E._logEvent=p()),E}function f(e,t,r,u){var c,l;if(Object.defineProperty(e,u,{value:o(e.level,r)>o(u,r)?y:r[a][u],writable:!0,enumerable:!0,configurable:!0}),!t.transmit&&e[u]===y)return;e[u]=(c=e[a][u],function(){let a=t.timestamp(),s=Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var f=0;f<s.length;f++)s[f]=arguments[f];if(t.serialize&&!t.asObject&&d(s,this._serialize,this.serializers,this._stdErrSerialize),t.asObject||t.formatters?c.call(l,function(e,t,r,i,o={}){let{level:a=()=>e.levels.values[t],log:s=e=>e}=o;e._serialize&&d(r,e._serialize,e.serializers,e._stdErrSerialize);let u=r.slice(),c=u[0],l={};i&&(l.time=i),l.level=a(t,e.levels.values[t]);let f=(0|e._childLevel)+1;if(f<1&&(f=1),null!==c&&"object"==typeof c){for(;f--&&"object"==typeof u[0];)Object.assign(l,u.shift());c=u.length?n(u.shift(),u):void 0}else"string"==typeof c&&(c=n(u.shift(),u));return void 0!==c&&(l.msg=c),s(l)}(this,u,s,a,t.formatters)):c.apply(l,s),t.transmit){let n=t.transmit.level||e._level,i=r.levels.values[n],c=r.levels.values[u];if(c<i)return;(function(e,t,r){let n=t.send,i=t.ts,o=t.methodLevel,a=t.methodValue,s=t.val,u=e._logEvent.bindings;d(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(e){return -1===u.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,n(o,e._logEvent,s),e._logEvent=p(u)})(this,{ts:a,methodLevel:u,methodValue:c,transmitLevel:n,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:o(e._level,r)},s)}});let f=function(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[s];for(;r.parent;)(r=r.parent).logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==f.length&&(e[u]=(l=e[u],function(){return l.apply(this,[...f,...arguments])}))}function d(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=l.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(let n in e[i])t&&t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function h(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function v(){return{}}function g(e){return e}function y(){}function m(){return!1}function b(){return Date.now()}l.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},l.stdSerializers={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:v,res:v,err:h,errWithCause:h},l.stdTimeFunctions=Object.assign({},{nullTime:m,epochTime:b,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=l,e.exports.pino=l},72225:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(46933);function i(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},38290:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(72225);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},46933:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(73811);function i(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=(0,n.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.Z)(t)?t:t+""}},73811:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Z:function(){return n}})},12082:function(e,t,r){"use strict";let n,i,o,a;r.d(t,{X3:function(){return h}});let s=(e,t)=>t.some(t=>e instanceof t),u=new WeakMap,c=new WeakMap,l=new WeakMap,f={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return d(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(d(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return l.set(t,e),t}(e);if(c.has(e))return c.get(e);let r="function"==typeof(t=e)?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),d(this.request)}:function(...e){return d(t.apply(p(this),e))}:(t instanceof IDBTransaction&&function(e){if(u.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});u.set(e,t)}(t),s(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,f):t;return r!==e&&(c.set(e,r),l.set(r,e)),r}let p=e=>l.get(e);function h(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){let a=indexedDB.open(e,t),s=d(a);return n&&a.addEventListener("upgradeneeded",e=>{n(d(a.result),e.oldVersion,e.newVersion,d(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}let v=["get","getKey","getAll","getAllKeys","count"],g=["put","add","delete","clear"],y=new Map;function m(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(y.get(t))return y.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=g.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||v.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),a=o.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),i&&o.done]))[0]};return y.set(t,o),o}f={...o=f,get:(e,t,r)=>m(e,t)||o.get(e,t,r),has:(e,t)=>!!m(e,t)||o.has(e,t)};let b=["continue","continuePrimaryKey","advance"],_={},w=new WeakMap,S=new WeakMap,E={get(e,t){if(!b.includes(t))return e[t];let r=_[t];return r||(r=_[t]=function(...e){w.set(this,S.get(this)[t](...e))}),r}};async function*x(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let r=new Proxy(t,E);for(S.set(r,t),l.set(r,p(t));t;)yield r,t=await (w.get(r)||t.continue()),w.delete(r)}function P(e,t){return t===Symbol.asyncIterator&&s(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&s(e,[IDBIndex,IDBObjectStore])}f={...a=f,get:(e,t,r)=>P(e,t)?x:a.get(e,t,r),has:(e,t)=>P(e,t)||a.has(e,t)}},58190:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(45525),i=r(87427),o=r.t(i,2),a=r(72815),s=o["use".trim()],u=r(28070);function c(e){return("object"==typeof e?null==e.host&&null==e.hostname:!/^[a-z]+:/i.test(e))&&!function(e){let t="object"==typeof e?e.pathname:e;return null!=t&&!t.startsWith("/")}(e)}function l(e,t){return e.replace(RegExp(`^${t}`),"")||"/"}function f(e,t){return t===e||t.startsWith(`${e}/`)}function d(e,t,r){return"string"==typeof e?e:e[t]||r}function p(e){let t=function(){try{return"true"===u.env._next_intl_trailing_slash}catch{return!1}}(),[r,...n]=e.split("#"),i=n.join("#"),o=r;if("/"!==o){let e=o.endsWith("/");t&&!e?o+="/":!t&&e&&(o=o.slice(0,-1))}return i&&(o+="#"+i),o}function h(e,t){let r=p(e),n=p(t);return(function(e){let t=e.replace(/\/\[\[(\.\.\.[^\]]+)\]\]/g,"(?:/(.*))?").replace(/\[\[(\.\.\.[^\]]+)\]\]/g,"(?:/(.*))?").replace(/\[(\.\.\.[^\]]+)\]/g,"(.+)").replace(/\[([^\]]+)\]/g,"([^/]+)");return RegExp(`^${t}$`)})(r).test(n)}function v(e,t){return"never"!==t.mode&&t.prefixes?.[e]||"/"+e}function g(e){return e.includes("[[...")}function y(e){return e.includes("[...")}function m(e){return e.includes("[")}function b(e,t){let r=e.split("/"),n=t.split("/"),i=Math.max(r.length,n.length);for(let e=0;e<i;e++){let t=r[e],i=n[e];if(!t&&i)return -1;if(t&&!i)return 1;if(t||i){if(!m(t)&&m(i))return -1;if(m(t)&&!m(i))return 1;if(!y(t)&&y(i))return -1;if(y(t)&&!y(i))return 1;if(!g(t)&&g(i))return -1;if(g(t)&&!g(i))return 1}}return 0}var _=r(43658);function w(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.append(r,String(e))}):t.set(r,String(n));return"?"+t.toString()}function S(e,t,r,n){if(!e||!(n!==r&&null!=n)||!t)return;let i=function(e,t=window.location.pathname){return"/"===e?t:t.replace(e,"")}(t),{name:o,...a}=e;a.path||(a.path=""!==i?i:"/");let s=`${o}=${n};`;for(let[e,t]of Object.entries(a))s+=`${"maxAge"===e?"max-age":e}`,"boolean"!=typeof t&&(s+="="+t),s+=";";document.cookie=s}var E=r(94e3),x=(0,i.forwardRef)(function(e,t){let{href:r,locale:i,localeCookie:o,onClick:s,prefetch:u,...c}=e,l=(0,a.bU)(),f=null!=i&&i!==l,d=(0,n.usePathname)();return f&&(u=!1),(0,E.jsx)(_.default,{ref:t,href:r,hrefLang:f?i:void 0,onClick:function(e){S(o,d,l,i),s&&s(e)},prefetch:u,...c})});function P(e){let{Link:t,config:r,getPathname:o,...u}=function(e,t){var r,o,a;let u={...r=t||{},localePrefix:"object"==typeof(a=r.localePrefix)?a:{mode:a||"always"},localeCookie:!!((o=r.localeCookie)??1)&&{name:"NEXT_LOCALE",sameSite:"lax",..."object"==typeof o&&o},localeDetection:r.localeDetection??!0,alternateLinks:r.alternateLinks??!0},l=u.pathnames,f=(0,i.forwardRef)(function({href:t,locale:r,...n},i){let o,a;"object"==typeof t?(o=t.pathname,a=t.params):o=t;let f=c(t),d=e(),p="function"==typeof d.then?s(d):d,v=f?h({locale:r||p,href:null==l?o:{pathname:o,params:a},forcePrefix:null!=r||void 0}):o;return(0,E.jsx)(x,{ref:i,href:"object"==typeof t?{...t,pathname:v}:v,locale:r,localeCookie:u.localeCookie,...n})});function h(e){let t;let{forcePrefix:r,href:n,locale:i}=e;return null==l?"object"==typeof n?(t=n.pathname,n.query&&(t+=w(n.query))):t=n:t=function({pathname:e,locale:t,params:r,pathnames:n,query:i}){function o(e){let o;let a=n[e];return a?(o=d(a,t,e),r&&Object.entries(r).forEach(([e,t])=>{let r,n;Array.isArray(t)?(r=`(\\[)?\\[...${e}\\](\\])?`,n=t.map(e=>String(e)).join("/")):(r=`\\[${e}\\]`,n=String(t)),o=o.replace(RegExp(r,"g"),n)}),o=new URL(o=o.replace(/\[\[\.\.\..+\]\]/g,""),"http://l").pathname):o=e,o=p(o),i&&(o+=w(i)),o}if("string"==typeof e)return o(e);{let{pathname:t,...r}=e;return{...r,pathname:o(t)}}}({locale:i,..."string"==typeof n?{pathname:n}:n,pathnames:u.pathnames}),function(e,t,r,n){var i,o;let a,s;let{mode:u}=r.localePrefix;return void 0!==n?a=n:c(e)&&("always"===u?a=!0:"as-needed"===u&&(a=r.domains?!r.domains.some(e=>e.defaultLocale===t):t!==r.defaultLocale)),a?(i=v(t,r.localePrefix),o=e,s=i,/^\/(\?.*)?$/.test(o)&&(o=o.slice(1)),s+=o):e}(t,i,u,r)}function g(e){return function(t,...r){return e(h(t),...r)}}return{config:u,Link:f,redirect:g(n.redirect),permanentRedirect:g(n.permanentRedirect),getPathname:h}}(a.bU,e);return{...u,Link:t,usePathname:function(){let e=function(e){let t=(0,n.usePathname)(),r=(0,a.bU)();return(0,i.useMemo)(()=>{if(!t)return t;let n=t,i=v(r,e.localePrefix);if(f(i,t))n=l(t,i);else if("never"!==e.localePrefix.mode&&e.localePrefix.prefixes){let e="/"+r;f(e,t)&&(n=l(t,e))}return n},[e.localePrefix,r,t])}(r),t=(0,a.bU)();return(0,i.useMemo)(()=>e&&r.pathnames?function(e,t,r){let n=Object.keys(r).sort(b),i=decodeURI(t);for(let t of n){let n=r[t];if("string"==typeof n){if(h(n,i))return t}else if(h(d(n,e,t),i))return t}return t}(t,e,r.pathnames):e,[t,e])},useRouter:function(){let e=(0,n.useRouter)(),t=(0,a.bU)(),s=(0,n.usePathname)();return(0,i.useMemo)(()=>{function n(e){return function(n,i){let{locale:a,...u}=i||{},c=[o({href:n,locale:a||t,forcePrefix:null!=a||void 0})];Object.keys(u).length>0&&c.push(u),S(r.localeCookie,s,t,a),e(...c)}}return{...e,push:n(e.push),replace:n(e.replace),prefetch:n(e.prefetch)}},[t,s,e])},getPathname:o}}}}]);
//# sourceMappingURL=9899-e79e02ce96177878.js.map