try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2276d2e5-daf1-4e30-9d74-2643ee1ce81b",e._sentryDebugIdIdentifier="sentry-dbid-2276d2e5-daf1-4e30-9d74-2643ee1ce81b")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1203],{14792:function(e,t,n){Promise.resolve().then(n.bind(n,11366)),Promise.resolve().then(n.bind(n,51293)),Promise.resolve().then(n.bind(n,34685)),Promise.resolve().then(n.bind(n,40771))},11366:function(e,t,n){"use strict";n.d(t,{default:function(){return Z}});var i=n(87427),r=n(69937),o=n(90161),a=n(22388),s=n.n(a),l=n(84891);let d=()=>{o.ZP.initialize("G-HPJ0M26QXP"),s().initialize({gtmId:"GTM-NF4PHLR"})},u=()=>{o.ZP.set({page:window.location.pathname}),o.ZP.pageview(window.location.pathname)};var c=n(94571),f=n(59399),p=n(84217),v=n(2984),g=n(31650),h=n(12022),m=n(63991),b=n.n(m),w=n(44859),P=n(54302),y=n(51682),k=n(72394),_=n(47185),E=n(27818),j=n(28070),Z=()=>{let e=(0,E.Z)(),{asPath:t,query:o}=e,{locale:a}=o,s=(0,r.I0)(),{user:m,subscription:Z}=(0,r.v9)(e=>e.user),x=async()=>{((0,v.ej)(g.B1)||(0,v.ej)(g.yw))&&(!(0,v.ej)(g.B1)||!(0,v.ej)(g.yw))&&(await f.userApi.logout(),s((0,h.ZH)()),(0,l.deleteCookie)(g.yw),(0,l.deleteCookie)(g.B1))},C=()=>{m.had_first_session||(f.userApi.updateFirstSession().catch(e=>{p.Z.logger.error(e,"Error updating first session")}),c.y.trackEvent(_.uY))},S=()=>{n.e(5394).then(n.t.bind(n,95394,23)).then(e=>e.default).then(e=>{e.init(j.env.NEXT_PUBLIC_FB_PIXEL_ID),e.pageView()})},I=()=>{var e;let t=new(b())().setUA(navigator.userAgent),n=null!==(e=t.getDevice().model)&&void 0!==e?e:t.getOS().name,i="".concat(t.getOS().name," ").concat(t.getOS().version);w.YA("device",n),w.YA("os",i)},A=(e,t)=>{f.tariffApi.sendAnalytic({data:{url:"https://".concat("adheart.me").concat(e),referer:t,language:a}}).catch(e=>{p.Z.logger.error(e,"failed send analytic")})},T=()=>{(null==o?void 0:o.utm_source)&&(0,l.setCookie)("source",o.utm_source)},U=()=>{(0,l.deleteCookie)("userState")},L=()=>{"hidden"===document.visibilityState&&(0,l.deleteCookie)("userState")},z=e=>{try{let t=window.zE;if(!t)return;t("webWidget","setLocale",a),t("webWidget","updateSettings",{webWidget:{authenticate:{jwtFn:function(t){var n;(null==e?void 0:null===(n=e.support)||void 0===n?void 0:n.token)?(t(e.support.token),console.error(e.support.token,"JWT Token")):console.error("JWT Token is missing for Zendesk authentication.")}}}})}catch(e){console.error("Error during Zendesk authentication setup:",e)}},D=()=>{c.y.trackEvent("".concat(_.s6,"_page_help_clicked"),{sourcePage:t})},B=()=>{let e=window.zE;e&&e("webWidget:on","open",D)},N=(e,t)=>{let n=window.zE;if(n){try{z(t)}catch(n){e.addEventListener("load",function(){z(t)})}e.addEventListener("load",function(){n("messenger","loginUser",function(e){e(t.support.token)})})}};return(0,i.useEffect)(()=>{Z&&c.y.addUserProperties(e=>{e.set("subscription_active",Z.name!==P.WK)})},[Z]),(0,i.useEffect)(()=>{if(y.B.track(["trackPageView"]),m){y.B.track(["setUserId",m.uuid]),k.setUserId(m.uuid),w.av({id:m.uuid}),c.y.addUserProperties(e=>{e.set("email_confirmed",m.is_verified),e.set("is_system_user",m.is_team_member),e.set("registered_user",!0)}),C();return}c.y.addUserProperties(e=>{e.set("registered_user",!1)})},[null==m?void 0:m.email]),(0,i.useEffect)(()=>{let e=document.getElementById("ze-snippet");if(e){N(e,m);return}(0,v.Mg)("ze-snippet","https://static.zdassets.com/ekr/snippet.js?key=0562b0f1-83ae-42bf-a9b9-e720f3ff491a",()=>{B(),z(m)})},[a,null==m?void 0:m.email,e.pathname]),(0,i.useEffect)(()=>{let e=navigator.userAgent||"";d(),u(),S(),T(),I(),x(),c.y.init({userAgent:e,key:"92bc5f50087a5be7e7e75159701b863a"}),window.addEventListener("beforeunload",U),document.addEventListener("visibilitychange",L)},[]),(0,i.useEffect)(()=>{var e;let n=null,i=null===(e=document)||void 0===e?void 0:e.referrer,r=i||null;r&&(n=i),!r&&t&&(n="https://".concat("adheart.me").concat(t)),A(t,n)},[t]),null}},51293:function(e,t,n){"use strict";n.d(t,{default:function(){return H}});var i=n(94e3),r=n(45525),o=n(87427),a=n(69937),s=n(22360),l=n(17231),d=n(15743);let u=(0,l.oM)({name:"config",initialState:{runtimeConfig:null},reducers:{setConfig:(e,t)=>{e.runtimeConfig=t.payload}},extraReducers:e=>e.addCase(d.ju,(e,t)=>{t.payload.config.runtimeConfig&&(e.runtimeConfig=t.payload.config.runtimeConfig)})}),{setConfig:c}=u.actions;var f=u.reducer,p=n(21978),v=n(12022),g=n(48855),h=n(6694),m=n(9787),b=n(94027),w=n(33508),P=n(21315),y=n(99165),k=n(92505),_=n(46848),E=n(90805),j=n(98103),Z=n(19454),x=n(31650),C=n(2984),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>i=>r=>{let o=i(r),a=n.getState();return e.forEach(e=>{(0,C.gR)((0,C.qA)(e),a[e],t)}),o}};let I=(0,s.UY)({modals:p.ZP,user:v.ZP,notifications:g.ZP,language:h.ZP,tariff:m.ZP,profile:b.ZP,creatives:w.ZP,favorites:P.ZP,dashboard:k.ZP,builder:y.ZP,filters:_.ZP,apps:E.ZP,ads:j.ZP,config:f,adsClassic:Z.ZP}),A=e=>{let t={};return t=e.ctx?(0,C.C1)(x.gD,e.ctx):e,(0,l.xC)({reducer:I,preloadedState:t,middleware:t=>t().concat(S(x.gD,e.ctx)),devTools:!1})};(0,d.KV)(A);var T=n(23310);let U=!1;var L=n(79105),z=n(84891);function D(){(0,z.deleteCookie)(x.B1),(0,z.deleteCookie)(x.yw)}var B=e=>{let{children:t,preloadState:n}=e,r=(0,o.useRef)();if(!r.current){var s,l;r.current=A(n),s=L.a,l=r.current,U||(U=!0,s.interceptors.response.use(e=>e,async e=>{var t,n,i,r;let o=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.error;return(null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.status)===403&&(null==o?void 0:o.code)===T.S5&&(l.dispatch((0,v.z1)(!0)),l.dispatch((0,v.ci)(!0))),(null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.status)===401&&(l.dispatch((0,g.wN)({type:"warning",text:"common.sessionTokenInfoMessage"})),D(),window.location.href="/auth"),(null==o?void 0:o.code)===T.qk&&(D(),window.location.href="/auth"),Promise.reject(e)}))}return(0,i.jsx)(a.zt,{store:r.current,children:t})},N=n(72700),R=n(14761),W=n(1237);function M(e){let{children:t,router:n,pathname:r,query:o={},searchParams:a,asPath:s,routerType:l="app",locale:d}=e,u="app"===l&&a?Object.fromEntries(a.entries()):o,c=(null==r?void 0:r.replace(W.hJ,"/"))||"/",f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams(t).toString();return n?"".concat(e,"?").concat(n):e};return(0,i.jsx)(N._.Provider,{value:{routerType:l,locale:d,locales:R.q3,defaultLocale:R.Hj,pathname:c,query:u,asPath:s||"".concat(r).concat((null==a?void 0:a.toString())?"?"+a.toString():""),push:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.push(f(e,t))},replace:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.replace(f(e,t))},back:()=>{n.back()}},children:t})}var O=n(24204),F=n(27738);function H(e){let{children:t,preloadState:n={},locale:o}=e,a=(0,r.useRouter)(),s=(0,F.jD)(),l=(0,r.useSearchParams)();if((0,O.b_)(n.config.runtimeConfig),!s.startsWith("/api"))return(0,i.jsx)(M,{router:a,pathname:s,searchParams:l,locale:o,routerType:"app",children:(0,i.jsx)(B,{preloadState:n,children:t})})}},34685:function(e,t,n){"use strict";n.d(t,{default:function(){return b}});var i=n(94e3),r=n(73436),o=n.n(r),a=n(12384),s=n(6141),l=n(54412);let d=s.ZP.div.withConfig({componentId:"sc-d432b81b-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background-color:var(--white);z-index:100;"]);var u=e=>{let{isLoading:t}=e;return t?(0,i.jsx)(d,{children:(0,i.jsx)(l.Z,{})}):null},c=e=>{let{isLoading:t,children:n}=e;return(0,i.jsx)("div",{style:{visibility:t?"hidden":"visible"},children:n})},f=n(87427),p=n(72700),v=n(69937),g=n(27738);let h=(0,a.default)(()=>Promise.all([n.e(4666),n.e(3579),n.e(5251)]).then(n.bind(n,85251)),{loadableGenerated:{webpack:()=>[85251]}}),m=(0,a.default)(()=>Promise.all([n.e(5564),n.e(423),n.e(4004),n.e(8535),n.e(3951),n.e(3647)]).then(n.bind(n,4682)),{loadableGenerated:{webpack:()=>[4682]}});var b=e=>{let{children:t}=e,{query:n}=(0,p.c)(),r=(0,g.jD)(),[a,s]=(0,f.useState)(!0),[l,d]=(0,f.useState)(!1),{isLimitSession:b,needShowUserLimitSession:w}=(0,v.v9)(e=>e.user),P=(0,f.useMemo)(()=>b&&w&&"/auth"!==r,[b,r,w]);return(0,f.useEffect)(()=>{d(!0)},[]),(0,f.useEffect)(()=>{s(!0),setTimeout(()=>{s(!1)},300)},[n.locale]),(0,i.jsxs)("main",{className:o().className,children:[l&&(0,i.jsx)(h,{}),(0,i.jsx)(u,{isLoading:a}),(0,i.jsx)(c,{isLoading:a,children:P?(0,i.jsx)(m,{}):(0,i.jsxs)("div",{children:[t,(0,i.jsx)("div",{className:"portal-container",id:"portal"})]})})]})}},99165:function(e,t,n){"use strict";n.d(t,{Hy:function(){return r},PX:function(){return o},bW:function(){return a}});let i=(0,n(17231).oM)({name:"builder",initialState:{url:"",param:"REQUIRED_PARAMS_FACEBOOK",utmString:""},reducers:{setUrlToInput(e,t){let{payload:n}=t;e.url=n},setParams(e,t){let{payload:n}=t;e.param=n},addQueryParamsToUrl(e,t){let{payload:n}=t;e.url=n}}}),{setUrlToInput:r,setParams:o,addQueryParamsToUrl:a,setClearUrl:s}=i.actions;t.ZP=i.reducer}},function(e){e.O(0,[3033,2815,9899,3991,7729,8717,4956,1148,4946,1744],function(){return e(e.s=14792)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-6dedbbecf3611969.js.map